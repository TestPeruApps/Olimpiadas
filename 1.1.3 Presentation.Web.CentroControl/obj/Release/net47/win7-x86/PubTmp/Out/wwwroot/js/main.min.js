!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(F){F.ui=F.ui||{};F.ui.version="1.12.1";var o,i=0,s=Array.prototype.slice;F.cleanData=(o=F.cleanData,function(e){var t,i,a;for(a=0;null!=(i=e[a]);a++)try{(t=F._data(i,"events"))&&t.remove&&F(i).triggerHandler("remove")}catch(e){}o(e)}),F.widget=function(e,i,t){var a,o,n,r={},s=e.split(".")[0],l=s+"-"+(e=e.split(".")[1]);return t||(t=i,i=F.Widget),F.isArray(t)&&(t=F.extend.apply(null,[{}].concat(t))),F.expr[":"][l.toLowerCase()]=function(e){return!!F.data(e,l)},F[s]=F[s]||{},a=F[s][e],o=F[s][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},F.extend(o,a,{version:t.version,_proto:F.extend({},t),_childConstructors:[]}),(n=new i).options=F.widget.extend({},n.options),F.each(t,function(t,n){F.isFunction(n)?r[t]=function(){function a(){return i.prototype[t].apply(this,arguments)}function o(e){return i.prototype[t].apply(this,e)}return function(){var e,t=this._super,i=this._superApply;return this._super=a,this._superApply=o,e=n.apply(this,arguments),this._super=t,this._superApply=i,e}}():r[t]=n}),o.prototype=F.widget.extend(n,{widgetEventPrefix:a&&n.widgetEventPrefix||e},r,{constructor:o,namespace:s,widgetName:e,widgetFullName:l}),a?(F.each(a._childConstructors,function(e,t){var i=t.prototype;F.widget(i.namespace+"."+i.widgetName,o,t._proto)}),delete a._childConstructors):i._childConstructors.push(o),F.widget.bridge(e,o),o},F.widget.extend=function(e){for(var t,i,a=s.call(arguments,1),o=0,n=a.length;o<n;o++)for(t in a[o])i=a[o][t],a[o].hasOwnProperty(t)&&void 0!==i&&(F.isPlainObject(i)?e[t]=F.isPlainObject(e[t])?F.widget.extend({},e[t],i):F.widget.extend({},i):e[t]=i);return e},F.widget.bridge=function(n,t){var r=t.prototype.widgetFullName||n;F.fn[n]=function(i){var e="string"==typeof i,a=s.call(arguments,1),o=this;return e?this.length||"instance"!==i?this.each(function(){var e,t=F.data(this,r);return"instance"===i?(o=t,!1):t?F.isFunction(t[i])&&"_"!==i.charAt(0)?(e=t[i].apply(t,a))!==t&&void 0!==e?(o=e&&e.jquery?o.pushStack(e.get()):e,!1):void 0:F.error("no such method '"+i+"' for "+n+" widget instance"):F.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+i+"'")}):o=void 0:(a.length&&(i=F.widget.extend.apply(null,[i].concat(a))),this.each(function(){var e=F.data(this,r);e?(e.option(i||{}),e._init&&e._init()):F.data(this,r,new t(i,this))})),o}},F.Widget=function(){},F.Widget._childConstructors=[],F.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=F(t||this.defaultElement||this)[0],this.element=F(t),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=F(),this.hoverable=F(),this.focusable=F(),this.classesElementLookup={},t!==this&&(F.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=F(t.style?t.ownerDocument:t.document||t),this.window=F(this.document[0].defaultView||this.document[0].parentWindow)),this.options=F.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:F.noop,_create:F.noop,_init:F.noop,destroy:function(){var i=this;this._destroy(),F.each(this.classesElementLookup,function(e,t){i._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:F.noop,widget:function(){return this.element},option:function(e,t){var i,a,o,n=e;if(0===arguments.length)return F.widget.extend({},this.options);if("string"==typeof e)if(n={},e=(i=e.split(".")).shift(),i.length){for(a=n[e]=F.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)a[i[o]]=a[i[o]]||{},a=a[i[o]];if(e=i.pop(),1===arguments.length)return void 0===a[e]?null:a[e];a[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];n[e]=t}return this._setOptions(n),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,i,a;for(t in e)a=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&a&&a.length&&(i=F(a.get()),this._removeClass(a,t),i.addClass(this._classes({element:i,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(o){var n=[],r=this;function e(e,t){var i,a;for(a=0;a<e.length;a++)i=r.classesElementLookup[e[a]]||F(),i=o.add?F(F.unique(i.get().concat(o.element.get()))):F(i.not(o.element).get()),r.classesElementLookup[e[a]]=i,n.push(e[a]),t&&o.classes[e[a]]&&n.push(o.classes[e[a]])}return o=F.extend({element:this.element,classes:this.options.classes||{}},o),this._on(o.element,{remove:"_untrackClassesElement"}),o.keys&&e(o.keys.match(/\S+/g)||[],!0),o.extra&&e(o.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(i){var a=this;F.each(a.classesElementLookup,function(e,t){-1!==F.inArray(i.target,t)&&(a.classesElementLookup[e]=F(t.not(i.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,a){a="boolean"==typeof a?a:i;var o="string"==typeof e||null===e,n={extra:o?t:i,keys:o?e:t,element:o?this.element:e,add:a};return n.element.toggleClass(this._classes(n),a),this},_on:function(r,s,e){var l,c=this;"boolean"!=typeof r&&(e=s,s=r,r=!1),e?(s=l=F(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,l=this.widget()),F.each(e,function(e,t){function i(){if(r||!0!==c.options.disabled&&!F(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(i.guid=t.guid=t.guid||i.guid||F.guid++);var a=e.match(/^([\w:-]*)\s*(.*)$/),o=a[1]+c.eventNamespace,n=a[2];n?l.on(o,n,i):s.on(o,i)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t).off(t),this.bindings=F(this.bindings.not(e).get()),this.focusable=F(this.focusable.not(e).get()),this.hoverable=F(this.hoverable.not(e).get())},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(F(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(F(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(F(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(F(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,i){var a,o,n=this.options[e];if(i=i||{},(t=F.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],o=t.originalEvent)for(a in o)a in t||(t[a]=o[a]);return this.element.trigger(t,i),!(F.isFunction(n)&&!1===n.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}},F.each({show:"fadeIn",hide:"fadeOut"},function(n,r){F.Widget.prototype["_"+n]=function(t,e,i){var a;"string"==typeof e&&(e={effect:e});var o=e?!0===e||"number"==typeof e?r:e.effect||r:n;"number"==typeof(e=e||{})&&(e={duration:e}),a=!F.isEmptyObject(e),e.complete=i,e.delay&&t.delay(e.delay),a&&F.effects&&F.effects.effect[o]?t[n](e):o!==n&&t[o]?t[o](e.duration,e.easing,i):t.queue(function(e){F(this)[n](),i&&i.call(t[0]),e()})}});F.widget;!function(){var o,k=Math.max,_=Math.abs,a=/left|center|right/,n=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,c=F.fn.position;function C(e,t,i){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?i/100:1)]}function T(e,t){return parseInt(F.css(e,t),10)||0}F.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,t,i=F("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=i.children()[0];return F("body").append(i),e=a.offsetWidth,i.css("overflow","scroll"),e===(t=a.offsetWidth)&&(t=i[0].clientWidth),i.remove(),o=e-t},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),a="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?F.position.scrollbarWidth():0,height:a?F.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=F(e||window),i=F.isWindow(t[0]),a=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:i,isDocument:a,offset:!i&&!a?F(e).offset():{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:t.outerWidth(),height:t.outerHeight()}}},F.fn.position=function(u){if(!u||!u.of)return c.apply(this,arguments);u=F.extend({},u);var h,f,p,m,g,e,t,i,v=F(u.of),b=F.position.getWithinInfo(u.within),y=F.position.getScrollInfo(b),x=(u.collision||"flip").split(" "),w={};return e=9===(i=(t=v)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:F.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()},v[0].preventDefault&&(u.at="left top"),f=e.width,p=e.height,m=e.offset,g=F.extend({},m),F.each(["my","at"],function(){var e,t,i=(u[this]||"").split(" ");1===i.length&&(i=a.test(i[0])?i.concat(["center"]):n.test(i[0])?["center"].concat(i):["center","center"]),i[0]=a.test(i[0])?i[0]:"center",i[1]=n.test(i[1])?i[1]:"center",e=r.exec(i[0]),t=r.exec(i[1]),w[this]=[e?e[0]:0,t?t[0]:0],u[this]=[s.exec(i[0])[0],s.exec(i[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===u.at[0]?g.left+=f:"center"===u.at[0]&&(g.left+=f/2),"bottom"===u.at[1]?g.top+=p:"center"===u.at[1]&&(g.top+=p/2),h=C(w.at,f,p),g.left+=h[0],g.top+=h[1],this.each(function(){var i,e,r=F(this),s=r.outerWidth(),l=r.outerHeight(),t=T(this,"marginLeft"),a=T(this,"marginTop"),o=s+t+T(this,"marginRight")+y.width,n=l+a+T(this,"marginBottom")+y.height,c=F.extend({},g),d=C(w.my,r.outerWidth(),r.outerHeight());"right"===u.my[0]?c.left-=s:"center"===u.my[0]&&(c.left-=s/2),"bottom"===u.my[1]?c.top-=l:"center"===u.my[1]&&(c.top-=l/2),c.left+=d[0],c.top+=d[1],i={marginLeft:t,marginTop:a},F.each(["left","top"],function(e,t){F.ui.position[x[e]]&&F.ui.position[x[e]][t](c,{targetWidth:f,targetHeight:p,elemWidth:s,elemHeight:l,collisionPosition:i,collisionWidth:o,collisionHeight:n,offset:[h[0]+d[0],h[1]+d[1]],my:u.my,at:u.at,within:b,elem:r})}),u.using&&(e=function(e){var t=m.left-c.left,i=t+f-s,a=m.top-c.top,o=a+p-l,n={target:{element:v,left:m.left,top:m.top,width:f,height:p},element:{element:r,left:c.left,top:c.top,width:s,height:l},horizontal:i<0?"left":0<t?"right":"center",vertical:o<0?"top":0<a?"bottom":"middle"};f<s&&_(t+i)<f&&(n.horizontal="center"),p<l&&_(a+o)<p&&(n.vertical="middle"),k(_(t),_(i))>k(_(a),_(o))?n.important="horizontal":n.important="vertical",u.using.call(this,e,n)}),r.offset(F.extend(c,{using:e}))})},F.ui.position={fit:{left:function(e,t){var i,a=t.within,o=a.isWindow?a.scrollLeft:a.offset.left,n=a.width,r=e.left-t.collisionPosition.marginLeft,s=o-r,l=r+t.collisionWidth-n-o;t.collisionWidth>n?0<s&&l<=0?(i=e.left+s+t.collisionWidth-n-o,e.left+=s-i):e.left=0<l&&s<=0?o:l<s?o+n-t.collisionWidth:o:0<s?e.left+=s:0<l?e.left-=l:e.left=k(e.left-r,e.left)},top:function(e,t){var i,a=t.within,o=a.isWindow?a.scrollTop:a.offset.top,n=t.within.height,r=e.top-t.collisionPosition.marginTop,s=o-r,l=r+t.collisionHeight-n-o;t.collisionHeight>n?0<s&&l<=0?(i=e.top+s+t.collisionHeight-n-o,e.top+=s-i):e.top=0<l&&s<=0?o:l<s?o+n-t.collisionHeight:o:0<s?e.top+=s:0<l?e.top-=l:e.top=k(e.top-r,e.top)}},flip:{left:function(e,t){var i,a,o=t.within,n=o.offset.left+o.scrollLeft,r=o.width,s=o.isWindow?o.scrollLeft:o.offset.left,l=e.left-t.collisionPosition.marginLeft,c=l-s,d=l+t.collisionWidth-r-s,u="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];c<0?((i=e.left+u+h+f+t.collisionWidth-r-n)<0||i<_(c))&&(e.left+=u+h+f):0<d&&(0<(a=e.left-t.collisionPosition.marginLeft+u+h+f-s)||_(a)<d)&&(e.left+=u+h+f)},top:function(e,t){var i,a,o=t.within,n=o.offset.top+o.scrollTop,r=o.height,s=o.isWindow?o.scrollTop:o.offset.top,l=e.top-t.collisionPosition.marginTop,c=l-s,d=l+t.collisionHeight-r-s,u="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];c<0?((a=e.top+u+h+f+t.collisionHeight-r-n)<0||a<_(c))&&(e.top+=u+h+f):0<d&&(0<(i=e.top-t.collisionPosition.marginTop+u+h+f-s)||_(i)<d)&&(e.top+=u+h+f)}},flipfit:{left:function(){F.ui.position.flip.left.apply(this,arguments),F.ui.position.fit.left.apply(this,arguments)},top:function(){F.ui.position.flip.top.apply(this,arguments),F.ui.position.fit.top.apply(this,arguments)}}}}();F.ui.position,F.extend(F.expr[":"],{data:F.expr.createPseudo?F.expr.createPseudo(function(t){return function(e){return!!F.data(e,t)}}):function(e,t,i){return!!F.data(e,i[3])}});"1.7"===F.fn.jquery.substring(0,3)&&(F.each(["Width","Height"],function(e,i){var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),n={innerWidth:F.fn.innerWidth,innerHeight:F.fn.innerHeight,outerWidth:F.fn.outerWidth,outerHeight:F.fn.outerHeight};function r(e,t,i,a){return F.each(o,function(){t-=parseFloat(F.css(e,"padding"+this))||0,i&&(t-=parseFloat(F.css(e,"border"+this+"Width"))||0),a&&(t-=parseFloat(F.css(e,"margin"+this))||0)}),t}F.fn["inner"+i]=function(e){return void 0===e?n["inner"+i].call(this):this.each(function(){F(this).css(a,r(this,e)+"px")})},F.fn["outer"+i]=function(e,t){return"number"!=typeof e?n["outer"+i].call(this,e):this.each(function(){F(this).css(a,r(this,e,!0,t)+"px")})}}),F.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))});F.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},F.fn.scrollParent=function(e){var t=this.css("position"),i="absolute"===t,a=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=F(this);return(!i||"static"!==e.css("position"))&&a.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&o.length?o:F(this[0].ownerDocument||document)},F.fn.extend({uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&F(this).removeAttr("id")})}}),F.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var e,n=!1;F(document).on("mouseup",function(){n=!1});F.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){if(!0===F.data(e.target,t.widgetName+".preventClickEvent"))return F.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!n){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,i=1===e.which,a=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&F(e.target).closest(this.options.cancel).length;return!(i&&!a&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===F.data(e.target,this.widgetName+".preventClickEvent")&&F.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),n=!0))}},_mouseMove:function(e){if(this._mouseMoved){if(F.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&F.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,n=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),F.ui.plugin={add:function(e,t,i){var a,o=F.ui[e].prototype;for(a in i)o.plugins[a]=o.plugins[a]||[],o.plugins[a].push([t,i[a]])},call:function(e,t,i,a){var o,n=e.plugins[t];if(n&&(a||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<n.length;o++)e.options[n[o][0]]&&n[o][1].apply(e.element,i)}},F.ui.safeActiveElement=function(t){var i;try{i=t.activeElement}catch(e){i=t.body}return i||(i=t.body),i.nodeName||(i=t.body),i},F.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&F(e).trigger("blur")};F.widget("ui.draggable",F.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||0<F(e.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=F(this);return F("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=F.ui.safeActiveElement(this.document[0]);F(e.target).closest(t).length||F.ui.safeBlur(t)},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),F.ui.ddmanager&&(F.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===F(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),F.ui.ddmanager&&!t.dropBehaviour&&F.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),F.ui.ddmanager&&F.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new F.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",F.ui.ddmanager&&F.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,i=!1;return F.ui.ddmanager&&!this.options.dropBehaviour&&(i=F.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||F.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?F(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),F.ui.ddmanager&&F.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),F.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new F.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!F(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var t=this.options,i=F.isFunction(t.helper),a=i?F(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return a.parents("body").length||a.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),i&&a[0]===this.element[0]&&this._setPositionRelative(),a[0]===this.element[0]||/(fixed|absolute)/.test(a.css("position"))||a.css("position","absolute"),a},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),F.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&F.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,a=this.options,o=this.document[0];this.relativeContainer=null,a.containment?"window"!==a.containment?"document"!==a.containment?a.containment.constructor!==Array?("parent"===a.containment&&(a.containment=this.helper[0].parentNode),(i=(t=F(a.containment))[0])&&(e=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t)):this.containment=a.containment:this.containment=[0,0,F(o).width()-this.helperProportions.width-this.margins.left,(F(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[F(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,F(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,F(window).scrollLeft()+F(window).width()-this.helperProportions.width-this.margins.left,F(window).scrollTop()+(F(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,a=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,a,o,n,r=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(a=this.relativeContainer.offset(),i=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?n-this.offset.click.left>=i[0]||n-this.offset.click.left>i[2]?n:n-this.offset.click.left>=i[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,t,i){return i=i||this._uiHash(),F.ui.plugin.call(this,e,[t,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),F.Widget.prototype._trigger.call(this,e,t,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),F.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,i){var a=F.extend({},e,{item:i.element});i.sortables=[],F(i.options.connectToSortable).each(function(){var e=F(this).sortable("instance");e&&!e.options.disabled&&(i.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,a))})},stop:function(t,e,i){var a=F.extend({},e,{item:i.element});i.cancelHelperRemoval=!1,F.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,a))})},drag:function(i,a,o){F.each(o.sortables,function(){var e=!1,t=this;t.positionAbs=o.positionAbs,t.helperProportions=o.helperProportions,t.offset.click=o.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,F.each(o.sortables,function(){return this.positionAbs=o.positionAbs,this.helperProportions=o.helperProportions,this.offset.click=o.offset.click,this!==t&&this._intersectsWith(this.containerCache)&&F.contains(t.element[0],this.element[0])&&(e=!1),e})),e?(t.isOver||(t.isOver=1,o._parent=a.helper.parent(),t.currentItem=a.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return a.helper[0]},i.target=t.currentItem[0],t._mouseCapture(i,!0),t._mouseStart(i,!0,!0),t.offset.click.top=o.offset.click.top,t.offset.click.left=o.offset.click.left,t.offset.parent.left-=o.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=o.offset.parent.top-t.offset.parent.top,o._trigger("toSortable",i),o.dropped=t.element,F.each(o.sortables,function(){this.refreshPositions()}),o.currentItem=o.element,t.fromOutside=o),t.currentItem&&(t._mouseDrag(i),a.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",i,t._uiHash(t)),t._mouseStop(i,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),a.helper.appendTo(o._parent),o._refreshOffsets(i),a.position=o._generatePosition(i,!0),o._trigger("fromSortable",i),o.dropped=!1,F.each(o.sortables,function(){this.refreshPositions()}))})}}),F.ui.plugin.add("draggable","cursor",{start:function(e,t,i){var a=F("body"),o=i.options;a.css("cursor")&&(o._cursor=a.css("cursor")),a.css("cursor",o.cursor)},stop:function(e,t,i){var a=i.options;a._cursor&&F("body").css("cursor",a._cursor)}}),F.ui.plugin.add("draggable","opacity",{start:function(e,t,i){var a=F(t.helper),o=i.options;a.css("opacity")&&(o._opacity=a.css("opacity")),a.css("opacity",o.opacity)},stop:function(e,t,i){var a=i.options;a._opacity&&F(t.helper).css("opacity",a._opacity)}}),F.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,t,i){var a=i.options,o=!1,n=i.scrollParentNotHidden[0],r=i.document[0];n!==r&&"HTML"!==n.tagName?(a.axis&&"x"===a.axis||(i.overflowOffset.top+n.offsetHeight-e.pageY<a.scrollSensitivity?n.scrollTop=o=n.scrollTop+a.scrollSpeed:e.pageY-i.overflowOffset.top<a.scrollSensitivity&&(n.scrollTop=o=n.scrollTop-a.scrollSpeed)),a.axis&&"y"===a.axis||(i.overflowOffset.left+n.offsetWidth-e.pageX<a.scrollSensitivity?n.scrollLeft=o=n.scrollLeft+a.scrollSpeed:e.pageX-i.overflowOffset.left<a.scrollSensitivity&&(n.scrollLeft=o=n.scrollLeft-a.scrollSpeed))):(a.axis&&"x"===a.axis||(e.pageY-F(r).scrollTop()<a.scrollSensitivity?o=F(r).scrollTop(F(r).scrollTop()-a.scrollSpeed):F(window).height()-(e.pageY-F(r).scrollTop())<a.scrollSensitivity&&(o=F(r).scrollTop(F(r).scrollTop()+a.scrollSpeed))),a.axis&&"y"===a.axis||(e.pageX-F(r).scrollLeft()<a.scrollSensitivity?o=F(r).scrollLeft(F(r).scrollLeft()-a.scrollSpeed):F(window).width()-(e.pageX-F(r).scrollLeft())<a.scrollSensitivity&&(o=F(r).scrollLeft(F(r).scrollLeft()+a.scrollSpeed)))),!1!==o&&F.ui.ddmanager&&!a.dropBehaviour&&F.ui.ddmanager.prepareOffsets(i,e)}}),F.ui.plugin.add("draggable","snap",{start:function(e,t,i){var a=i.options;i.snapElements=[],F(a.snap.constructor!==String?a.snap.items||":data(ui-draggable)":a.snap).each(function(){var e=F(this),t=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,i){var a,o,n,r,s,l,c,d,u,h,f=i.options,p=f.snapTolerance,m=t.offset.left,g=m+i.helperProportions.width,v=t.offset.top,b=v+i.helperProportions.height;for(u=i.snapElements.length-1;0<=u;u--)l=(s=i.snapElements[u].left-i.margins.left)+i.snapElements[u].width,d=(c=i.snapElements[u].top-i.margins.top)+i.snapElements[u].height,g<s-p||l+p<m||b<c-p||d+p<v||!F.contains(i.snapElements[u].item.ownerDocument,i.snapElements[u].item)?(i.snapElements[u].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,F.extend(i._uiHash(),{snapItem:i.snapElements[u].item})),i.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(a=Math.abs(c-b)<=p,o=Math.abs(d-v)<=p,n=Math.abs(s-g)<=p,r=Math.abs(l-m)<=p,a&&(t.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(t.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),n&&(t.position.left=i._convertPositionTo("relative",{top:0,left:s-i.helperProportions.width}).left),r&&(t.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),h=a||o||n||r,"outer"!==f.snapMode&&(a=Math.abs(c-v)<=p,o=Math.abs(d-b)<=p,n=Math.abs(s-m)<=p,r=Math.abs(l-g)<=p,a&&(t.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(t.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),n&&(t.position.left=i._convertPositionTo("relative",{top:0,left:s}).left),r&&(t.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[u].snapping&&(a||o||n||r||h)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,F.extend(i._uiHash(),{snapItem:i.snapElements[u].item})),i.snapElements[u].snapping=a||o||n||r||h)}}),F.ui.plugin.add("draggable","stack",{start:function(e,t,i){var a,o=i.options,n=F.makeArray(F(o.stack)).sort(function(e,t){return(parseInt(F(e).css("zIndex"),10)||0)-(parseInt(F(t).css("zIndex"),10)||0)});n.length&&(a=parseInt(F(n[0]).css("zIndex"),10)||0,F(n).each(function(e){F(this).css("zIndex",a+e)}),this.css("zIndex",a+n.length))}}),F.ui.plugin.add("draggable","zIndex",{start:function(e,t,i){var a=F(t.helper),o=i.options;a.css("zIndex")&&(o._zIndex=a.css("zIndex")),a.css("zIndex",o.zIndex)},stop:function(e,t,i){var a=i.options;a._zIndex&&F(t.helper).css("zIndex",a._zIndex)}});F.ui.draggable,F.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(e){var t=F(e.target),i=F(F.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&t.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),t.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var t=F(e.target).closest(".ui-menu-item"),i=F(e.currentTarget);t[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(e){this._delay(function(){!F.contains(this.element[0],F.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=F(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var t,i,a,o,n=!0;switch(e.keyCode){case F.ui.keyCode.PAGE_UP:this.previousPage(e);break;case F.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case F.ui.keyCode.HOME:this._move("first","first",e);break;case F.ui.keyCode.END:this._move("last","last",e);break;case F.ui.keyCode.UP:this.previous(e);break;case F.ui.keyCode.DOWN:this.next(e);break;case F.ui.keyCode.LEFT:this.collapse(e);break;case F.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case F.ui.keyCode.ENTER:case F.ui.keyCode.SPACE:this._activate(e);break;case F.ui.keyCode.ESCAPE:this.collapse(e);break;default:n=!1,i=this.previousFilter||"",o=!1,a=96<=e.keyCode&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),a===i?o=!0:a=i+a,t=this._filterMenuItems(a),(t=o&&-1!==t.index(this.active.next())?this.active.nextAll(".ui-menu-item"):t).length||(a=String.fromCharCode(e.keyCode),t=this._filterMenuItems(a)),t.length?(this.focus(e,t),this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}n&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,t,i,a,o=this,n=this.options.icons.submenu,r=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),t=r.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=F(this),t=e.prev(),i=F("<span>").data("ui-menu-submenu-caret",!0);o._addClass(i,"ui-menu-icon","ui-icon "+n),t.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",t.attr("id"))}),this._addClass(t,"ui-menu","ui-widget ui-widget-content ui-front"),(e=r.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=F(this);o._isDivider(e)&&o._addClass(e,"ui-menu-divider","ui-widget-content")}),a=(i=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(a,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!F.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i,a,o;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),a=this.active.children(".ui-menu-item-wrapper"),this._addClass(a,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",a.attr("id")),o=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(o,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,i,a,o,n,r;this._hasScroll()&&(t=parseFloat(F.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(F.css(this.activeMenu[0],"paddingTop"))||0,a=e.offset().top-this.activeMenu.offset().top-t-i,o=this.activeMenu.scrollTop(),n=this.activeMenu.height(),r=e.outerHeight(),a<0?this.activeMenu.scrollTop(o+a):n<a+r&&this.activeMenu.scrollTop(o+a-n+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=F.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var e=i?this.element:F(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this._removeClass(e.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=e},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!F(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var a;this.active&&(a="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),a&&a.length&&this.active||(a=this.activeMenu.find(this.options.items)[t]()),this.focus(i,a)},nextPage:function(e){var t,i,a;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,a=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(t=F(this)).offset().top-i-a<0}),this.focus(e,t)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,i,a;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,a=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=F(this)).offset().top-i+a}),this.focus(e,t)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||F(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)},_filterMenuItems:function(e){var t=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+t,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(F.trim(F(this).children(".ui-menu-item-wrapper").text()))})}});F.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var i,a,o,e=this.element[0].nodeName.toLowerCase(),t="textarea"===e,n="input"===e;this.isMultiLine=t||!n&&this._isContentEditable(this.element),this.valueMethod=this.element[t||n?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))a=o=i=!0;else{a=o=i=!1;var t=F.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:i=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:i=!0,this._move("nextPage",e);break;case t.UP:i=!0,this._keyEvent("previous",e);break;case t.DOWN:i=!0,this._keyEvent("next",e);break;case t.ENTER:this.menu.active&&(i=!0,e.preventDefault(),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:a=!0,this._searchTimeout(e)}}},keypress:function(e){if(i)return i=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault());if(!a){var t=F.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){if(o)return o=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=F("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==F.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,t){var i,a;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){F(e.target).trigger(e.originalEvent)});a=t.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:a})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(a.value),(i=t.item.attr("aria-label")||a.value)&&F.trim(i).length&&(this.liveRegion.children().hide(),F("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),a=this.previous;this.element[0]!==F.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=a,this._delay(function(){this.previous=a,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=F("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var t=this.menu.element[0];return e.target===this.element[0]||e.target===t||F.contains(t,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?F(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var i,a,o=this;F.isArray(this.options.source)?(i=this.options.source,this.source=function(e,t){t(F.ui.autocomplete.filter(i,e.term))}):"string"==typeof this.options.source?(a=this.options.source,this.source=function(e,t){o.xhr&&o.xhr.abort(),o.xhr=F.ajax({url:a,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),t=this.menu.element.is(":visible"),i=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;e&&(!e||t||i)||(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return F.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:F.map(e,function(e){return"string"==typeof e?{label:e,value:e}:F.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),t.position(F.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,e){var a=this;F.each(e,function(e,t){a._renderItemData(i,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return F("<li>").append(F("<div>").text(t.label)).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),F.extend(F.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var i=new RegExp(F.ui.autocomplete.escapeRegex(t),"i");return F.grep(e,function(e){return i.test(e.label||e.value||e)})}}),F.widget("ui.autocomplete",F.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),F("<div>").text(t).appendTo(this.liveRegion))}});F.ui.autocomplete}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function g(){return He.apply(null,arguments)}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function l(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function c(e){return void 0===e}function d(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var i,a=[];for(i=0;i<e.length;++i)a.push(t(e[i],i));return a}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var i in t)v(t,i)&&(e[i]=t[i]);return v(t,"toString")&&(e.toString=t.toString),v(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,i,a){return pe(e,t,i,a,!0).utc()}function b(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=b(e),i=Ye.call(t.parsedDateParts,function(e){return null!=e}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function y(e){var t=p(NaN);return null!=e?f(b(t),e):b(t).userInvalidated=!0,t}function x(e,t){var i,a,o;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=b(t)),c(t._locale)||(e._locale=t._locale),0<qe.length)for(i=0;i<qe.length;i++)c(o=t[a=qe[i]])||(e[a]=o);return e}function w(e){x(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Xe&&(Xe=!0,g.updateOffset(this),Xe=!1)}function k(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function C(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=_(t)),i}function r(e,t,i){var a,o=Math.min(e.length,t.length),n=Math.abs(e.length-t.length),r=0;for(a=0;a<o;a++)(i&&e[a]!==t[a]||!i&&C(e[a])!==C(t[a]))&&r++;return r+n}function T(e){!1===g.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(o,n){var r=!0;return f(function(){if(null!=g.deprecationHandler&&g.deprecationHandler(null,o),r){for(var e,t=[],i=0;i<arguments.length;i++){if(e="","object"==typeof arguments[i]){for(var a in e+="\n["+i+"] ",arguments[0])e+=a+": "+arguments[0][a]+", ";e=e.slice(0,-2)}else e=arguments[i];t.push(e)}T(o+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function n(e,t){null!=g.deprecationHandler&&g.deprecationHandler(e,t),Ze[e]||(T(t),Ze[e]=!0)}function F(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function o(e,t){var i,a=f({},e);for(i in t)v(t,i)&&(l(e[i])&&l(t[i])?(a[i]={},f(a[i],e[i]),f(a[i],t[i])):null!=t[i]?a[i]=t[i]:delete a[i]);for(i in e)v(e,i)&&!v(t,i)&&l(e[i])&&(a[i]=f({},a[i]));return a}function S(e){null!=e&&this.set(e)}function t(e,t){var i=e.toLowerCase();Je[i]=Je[i+"s"]=Je[t]=e}function E(e){return"string"==typeof e?Je[e]||Je[e.toLowerCase()]:void 0}function D(e){var t,i,a={};for(i in e)v(e,i)&&((t=E(i))&&(a[t]=e[i]));return a}function i(e,t){Qe[e]=t}function a(t,i){return function(e){return null!=e?(P(this,t,e),g.updateOffset(this,i),this):I(this,t)}}function I(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function P(e,t,i){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](i)}function M(e,t,i){var a=""+Math.abs(e),o=t-a.length;return(0<=e?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+a}function A(e,t,i,a){var o=a;"string"==typeof a&&(o=function(){return this[a]()}),e&&(at[e]=o),t&&(at[t[0]]=function(){return M(o.apply(this,arguments),t[1],t[2])}),i&&(at[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function $(e,t){return e.isValid()?(t=R(t,e.localeData()),it[t]=it[t]||function(a){var e,o,t,n=a.match(et);for(e=0,o=n.length;e<o;e++)at[n[e]]?n[e]=at[n[e]]:n[e]=(t=n[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(e){var t,i="";for(t=0;t<o;t++)i+=F(n[t])?n[t].call(e,a):n[t];return i}}(t),it[t](e)):e.localeData().invalidDate()}function R(e,t){function i(e){return t.longDateFormat(e)||e}var a=5;for(tt.lastIndex=0;0<=a&&tt.test(e);)e=e.replace(tt,i),tt.lastIndex=0,a-=1;return e}function N(e,i,a){xt[e]=F(i)?i:function(e,t){return e&&a?a:i}}function O(e,t){return v(xt,e)?xt[e](t._strict,t._locale):new RegExp(L(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,a,o){return t||i||a||o})))}function L(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function V(e,i){var t,a=i;for("string"==typeof e&&(e=[e]),d(i)&&(a=function(e,t){t[i]=C(e)}),t=0;t<e.length;t++)wt[e[t]]=a}function B(e,o){V(e,function(e,t,i,a){i._w=i._w||{},o(e,i._w,i,a)})}function z(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function G(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=C(t);else if(!d(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),z(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function U(e){return null!=e?(G(this,e),g.updateOffset(this,!0),this):I(this,"Month")}function W(){function e(e,t){return t.length-e.length}var t,i,a=[],o=[],n=[];for(t=0;t<12;t++)i=p([2e3,t]),a.push(this.monthsShort(i,"")),o.push(this.months(i,"")),n.push(this.months(i,"")),n.push(this.monthsShort(i,""));for(a.sort(e),o.sort(e),n.sort(e),t=0;t<12;t++)a[t]=L(a[t]),o[t]=L(o[t]);for(t=0;t<24;t++)n[t]=L(n[t]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function j(e){return H(e)?366:365}function H(e){return e%4==0&&e%100!=0||e%400==0}function Y(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function q(e,t,i){var a=7+t-i;return-((7+Y(e,0,a).getUTCDay()-t)%7)+a-1}function X(e,t,i,a,o){var n,r,s=1+7*(t-1)+(7+i-a)%7+q(e,a,o);return s<=0?r=j(n=e-1)+s:s>j(e)?(n=e+1,r=s-j(e)):(n=e,r=s),{year:n,dayOfYear:r}}function Z(e,t,i){var a,o,n=q(e.year(),t,i),r=Math.floor((e.dayOfYear()-n-1)/7)+1;return r<1?a=r+K(o=e.year()-1,t,i):r>K(e.year(),t,i)?(a=r-K(e.year(),t,i),o=e.year()+1):(o=e.year(),a=r),{week:a,year:o}}function K(e,t,i){var a=q(e,t,i),o=q(e+1,t,i);return(j(e)-a+o)/7}function J(){function e(e,t){return t.length-e.length}var t,i,a,o,n,r=[],s=[],l=[],c=[];for(t=0;t<7;t++)i=p([2e3,1]).day(t),a=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),n=this.weekdays(i,""),r.push(a),s.push(o),l.push(n),c.push(a),c.push(o),c.push(n);for(r.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=L(s[t]),l[t]=L(l[t]),c[t]=L(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Q(){return this.hours()%12||12}function ee(e,t){A(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function te(e,t){return t._meridiemParse}function ie(e){return e?e.toLowerCase().replace("_","-"):e}function ae(e){var t=null;if(!Yt[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Wt._abbr,require("./locale/"+e),oe(t)}catch(e){}return Yt[e]}function oe(e,t){var i;return e&&((i=c(t)?re(e):ne(e,t))&&(Wt=i)),Wt._abbr}function ne(e,t){if(null!==t){var i=Ht;if(t.abbr=e,null!=Yt[e])n("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Yt[e]._config;else if(null!=t.parentLocale){if(null==Yt[t.parentLocale])return qt[t.parentLocale]||(qt[t.parentLocale]=[]),qt[t.parentLocale].push({name:e,config:t}),null;i=Yt[t.parentLocale]._config}return Yt[e]=new S(o(i,t)),qt[e]&&qt[e].forEach(function(e){ne(e.name,e.config)}),oe(e),Yt[e]}return delete Yt[e],null}function re(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Wt;if(!s(e)){if(t=ae(e))return t;e=[e]}return function(e){for(var t,i,a,o,n=0;n<e.length;){for(t=(o=ie(e[n]).split("-")).length,i=(i=ie(e[n+1]))?i.split("-"):null;0<t;){if(a=ae(o.slice(0,t).join("-")))return a;if(i&&i.length>=t&&r(o,i,!0)>=t-1)break;t--}n++}return null}(e)}function se(e){var t,i=e._a;return i&&-2===b(e).overflow&&(t=i[_t]<0||11<i[_t]?_t:i[Ct]<1||i[Ct]>z(i[kt],i[_t])?Ct:i[Tt]<0||24<i[Tt]||24===i[Tt]&&(0!==i[Ft]||0!==i[St]||0!==i[Et])?Tt:i[Ft]<0||59<i[Ft]?Ft:i[St]<0||59<i[St]?St:i[Et]<0||999<i[Et]?Et:-1,b(e)._overflowDayOfYear&&(t<kt||Ct<t)&&(t=Ct),b(e)._overflowWeeks&&-1===t&&(t=Dt),b(e)._overflowWeekday&&-1===t&&(t=It),b(e).overflow=t),e}function le(e){var t,i,a,o,n,r,s=e._i,l=Xt.exec(s)||Zt.exec(s);if(l){for(b(e).iso=!0,t=0,i=Jt.length;t<i;t++)if(Jt[t][1].exec(l[1])){o=Jt[t][0],a=!1!==Jt[t][2];break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,i=Qt.length;t<i;t++)if(Qt[t][1].exec(l[3])){n=(l[2]||" ")+Qt[t][0];break}if(null==n)return void(e._isValid=!1)}if(!a&&null!=n)return void(e._isValid=!1);if(l[4]){if(!Kt.exec(l[4]))return void(e._isValid=!1);r="Z"}e._f=o+(n||"")+(r||""),he(e)}else e._isValid=!1}function ce(e){var t,i,a,o,n,r,s,l={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),i=ti.exec(t)){if(a=i[1]?"ddd"+(5===i[1].length?", ":" "):"",o="D MMM "+(10<i[2].length?"YYYY ":"YY "),n="HH:mm"+(i[4]?":ss":""),i[1]){var c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(i[2]).getDay()];if(i[1].substr(0,3)!==c)return b(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(i[5].length){case 2:0===s?r=" +0000":r=((s="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(i[5][1].toUpperCase())-12)<0?" -":" +")+(""+s).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:r=l[i[5]];break;default:r=l[" GMT"]}i[5]=r,e._i=i.splice(1).join("")," ZZ",e._f=a+o+n+" ZZ",he(e),b(e).rfc2822=!0}else e._isValid=!1}function de(e,t,i){return null!=e?e:null!=t?t:i}function ue(e){var t,i,a,o,n,r,s=[];if(!e._d){for(n=e,r=void 0,r=new Date(g.now()),a=n._useUTC?[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()]:[r.getFullYear(),r.getMonth(),r.getDate()],e._w&&null==e._a[Ct]&&null==e._a[_t]&&function(e){var t,i,a,o,n,r,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)n=1,r=4,i=de(t.GG,e._a[kt],Z(me(),1,4).year),a=de(t.W,1),((o=de(t.E,1))<1||7<o)&&(l=!0);else{n=e._locale._week.dow,r=e._locale._week.doy;var c=Z(me(),n,r);i=de(t.gg,e._a[kt],c.year),a=de(t.w,c.week),null!=t.d?((o=t.d)<0||6<o)&&(l=!0):null!=t.e?(o=t.e+n,(t.e<0||6<t.e)&&(l=!0)):o=n}a<1||a>K(i,n,r)?b(e)._overflowWeeks=!0:null!=l?b(e)._overflowWeekday=!0:(s=X(i,a,o,n,r),e._a[kt]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=de(e._a[kt],a[kt]),(e._dayOfYear>j(o)||0===e._dayOfYear)&&(b(e)._overflowDayOfYear=!0),i=Y(o,0,e._dayOfYear),e._a[_t]=i.getUTCMonth(),e._a[Ct]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=a[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Tt]&&0===e._a[Ft]&&0===e._a[St]&&0===e._a[Et]&&(e._nextDay=!0,e._a[Tt]=0),e._d=(e._useUTC?Y:function(e,t,i,a,o,n,r){var s=new Date(e,t,i,a,o,n,r);return e<100&&0<=e&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Tt]=24)}}function he(e){if(e._f!==g.ISO_8601)if(e._f!==g.RFC_2822){e._a=[],b(e).empty=!0;var t,i,a,o,n,r,s,l,c,d,u,h,f=""+e._i,p=f.length,m=0;for(a=R(e._f,e._locale).match(et)||[],t=0;t<a.length;t++)o=a[t],(i=(f.match(O(o,e))||[])[0])&&(0<(n=f.substr(0,f.indexOf(i))).length&&b(e).unusedInput.push(n),f=f.slice(f.indexOf(i)+i.length),m+=i.length),at[o]?(i?b(e).empty=!1:b(e).unusedTokens.push(o),r=o,l=e,null!=(s=i)&&v(wt,r)&&wt[r](s,l._a,l,r)):e._strict&&!i&&b(e).unusedTokens.push(o);b(e).charsLeftOver=p-m,0<f.length&&b(e).unusedInput.push(f),e._a[Tt]<=12&&!0===b(e).bigHour&&0<e._a[Tt]&&(b(e).bigHour=void 0),b(e).parsedDateParts=e._a.slice(0),b(e).meridiem=e._meridiem,e._a[Tt]=(c=e._locale,d=e._a[Tt],null==(u=e._meridiem)?d:null!=c.meridiemHour?c.meridiemHour(d,u):(null!=c.isPM&&((h=c.isPM(u))&&d<12&&(d+=12),h||12!==d||(d=0)),d)),ue(e),se(e)}else ce(e);else le(e)}function fe(e){var t,i,a,o,n=e._i,r=e._f;return e._locale=e._locale||re(e._l),null===n||void 0===r&&""===n?y({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),k(n)?new w(se(n)):(u(n)?e._d=n:s(r)?function(e){var t,i,a,o,n;if(0===e._f.length)return b(e).invalidFormat=!0,e._d=new Date(NaN);for(o=0;o<e._f.length;o++)n=0,t=x({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],he(t),m(t)&&(n+=b(t).charsLeftOver,n+=10*b(t).unusedTokens.length,b(t).score=n,(null==a||n<a)&&(a=n,i=t));f(e,i||t)}(e):r?he(e):c(i=(t=e)._i)?t._d=new Date(g.now()):u(i)?t._d=new Date(i.valueOf()):"string"==typeof i?(a=t,null!==(o=ei.exec(a._i))?a._d=new Date(+o[1]):(le(a),!1===a._isValid&&(delete a._isValid,ce(a),!1===a._isValid&&(delete a._isValid,g.createFromInputFallback(a))))):s(i)?(t._a=h(i.slice(0),function(e){return parseInt(e,10)}),ue(t)):l(i)?function(e){if(!e._d){var t=D(e._i);e._a=h([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ue(e)}}(t):d(i)?t._d=new Date(i):g.createFromInputFallback(t),m(e)||(e._d=null),e))}function pe(e,t,i,a,o){var n,r={};return!0!==i&&!1!==i||(a=i,i=void 0),(l(e)&&function(e){var t;for(t in e)return!1;return!0}(e)||s(e)&&0===e.length)&&(e=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=i,r._i=e,r._f=t,r._strict=a,(n=new w(se(fe(r))))._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function me(e,t,i,a){return pe(e,t,i,a,!1)}function ge(e,t){var i,a;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return me();for(i=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](i)||(i=t[a]);return i}function ve(e){var t=D(e),i=t.year||0,a=t.quarter||0,o=t.month||0,n=t.week||0,r=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===oi.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,a=0;a<oi.length;++a)if(e[oi[a]]){if(i)return!1;parseFloat(e[oi[a]])!==C(e[oi[a]])&&(i=!0)}return!0}(t),this._milliseconds=+d+1e3*c+6e4*l+1e3*s*60*60,this._days=+r+7*n,this._months=+o+3*a+12*i,this._data={},this._locale=re(),this._bubble()}function be(e){return e instanceof ve}function ye(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function xe(e,i){A(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+M(~~(e/60),2)+i+M(~~e%60,2)})}function we(e,t){var i=(t||"").match(e);if(null===i)return null;var a=((i[i.length-1]||[])+"").match(ni)||["-",0,0],o=60*a[1]+C(a[2]);return 0===o?0:"+"===a[0]?o:-o}function ke(e,t){var i,a;return t._isUTC?(i=t.clone(),a=(k(e)||u(e)?e.valueOf():me(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),g.updateOffset(i,!1),i):me(e).local()}function _e(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ce(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Te(e,t){var i,a,o,n,r,s,l=e,c=null;return be(e)?l={ms:e._milliseconds,d:e._days,M:e._months}:d(e)?(l={},t?l[t]=e:l.milliseconds=e):(c=ri.exec(e))?(i="-"===c[1]?-1:1,l={y:0,d:C(c[Ct])*i,h:C(c[Tt])*i,m:C(c[Ft])*i,s:C(c[St])*i,ms:C(ye(1e3*c[Et]))*i}):(c=si.exec(e))?(i="-"===c[1]?-1:1,l={y:Fe(c[2],i),M:Fe(c[3],i),w:Fe(c[4],i),d:Fe(c[5],i),h:Fe(c[6],i),m:Fe(c[7],i),s:Fe(c[8],i)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(n=me(l.from),r=me(l.to),o=n.isValid()&&r.isValid()?(r=ke(r,n),n.isBefore(r)?s=Se(n,r):((s=Se(r,n)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(l={}).ms=o.milliseconds,l.M=o.months),a=new ve(l),be(e)&&v(e,"_locale")&&(a._locale=e._locale),a}function Fe(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Se(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Ee(a,o){return function(e,t){var i;return null===t||isNaN(+t)||(n(o,"moment()."+o+"(period, number) is deprecated. Please use moment()."+o+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=e,e=t,t=i),De(this,Te(e="string"==typeof e?+e:e,t),a),this}}function De(e,t,i,a){var o=t._milliseconds,n=ye(t._days),r=ye(t._months);e.isValid()&&(a=null==a||a,o&&e._d.setTime(e._d.valueOf()+o*i),n&&P(e,"Date",I(e,"Date")+n*i),r&&G(e,I(e,"Month")+r*i),a&&g.updateOffset(e,n||r))}function Ie(e){var t;return void 0===e?this._locale._abbr:(null!=(t=re(e))&&(this._locale=t),this)}function Pe(){return this._locale}function Me(e,t){A(0,[e,e.length],0,t)}function Ae(e,t,i,a,o){var n;return null==e?Z(this,a,o).year:((n=K(e,a,o))<t&&(t=n),function(e,t,i,a,o){var n=X(e,t,i,a,o),r=Y(n.year,0,n.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}.call(this,e,t,i,a,o))}function $e(e,t){t[Et]=C(1e3*("0."+e))}function Re(e){return e}function Ne(e,t,i,a){var o=re(),n=p().set(a,t);return o[i](n,e)}function Oe(e,t,i){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return Ne(e,t,i,"month");var a,o=[];for(a=0;a<12;a++)o[a]=Ne(e,a,i,"month");return o}function Le(e,t,i,a){"boolean"==typeof e||(i=t=e,e=!1),d(t)&&(i=t,t=void 0),t=t||"";var o=re(),n=e?o._week.dow:0;if(null!=i)return Ne(t,(i+n)%7,a,"day");var r,s=[];for(r=0;r<7;r++)s[r]=Ne(t,(r+n)%7,a,"day");return s}function Ve(e,t,i,a){var o=Te(t,i);return e._milliseconds+=a*o._milliseconds,e._days+=a*o._days,e._months+=a*o._months,e._bubble()}function Be(e){return e<0?Math.floor(e):Math.ceil(e)}function ze(e){return 4800*e/146097}function Ge(e){return 146097*e/4800}function Ue(e){return function(){return this.as(e)}}function We(e){return function(){return this.isValid()?this._data[e]:NaN}}function je(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i=Ni(this._milliseconds)/1e3,a=Ni(this._days),o=Ni(this._months);t=_((e=_(i/60))/60),i%=60,e%=60;var n=_(o/12),r=o%=12,s=a,l=t,c=e,d=i,u=this.asSeconds();return u?(u<0?"-":"")+"P"+(n?n+"Y":"")+(r?r+"M":"")+(s?s+"D":"")+(l||c||d?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var He,Ye=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,a=0;a<i;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1},qe=g.momentProperties=[],Xe=!1,Ze={};g.suppressDeprecationWarnings=!1,g.deprecationHandler=null;var Ke=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)v(e,t)&&i.push(t);return i},Je={},Qe={},et=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,tt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,it={},at={},ot=/\d/,nt=/\d\d/,rt=/\d{3}/,st=/\d{4}/,lt=/[+-]?\d{6}/,ct=/\d\d?/,dt=/\d\d\d\d?/,ut=/\d\d\d\d\d\d?/,ht=/\d{1,3}/,ft=/\d{1,4}/,pt=/[+-]?\d{1,6}/,mt=/\d+/,gt=/[+-]?\d+/,vt=/Z|[+-]\d\d:?\d\d/gi,bt=/Z|[+-]\d\d(?::?\d\d)?/gi,yt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,xt={},wt={},kt=0,_t=1,Ct=2,Tt=3,Ft=4,St=5,Et=6,Dt=7,It=8,Pt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};A("M",["MM",2],"Mo",function(){return this.month()+1}),A("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),A("MMMM",0,0,function(e){return this.localeData().months(this,e)}),t("month","M"),i("month",8),N("M",ct),N("MM",ct,nt),N("MMM",function(e,t){return t.monthsShortRegex(e)}),N("MMMM",function(e,t){return t.monthsRegex(e)}),V(["M","MM"],function(e,t){t[_t]=C(e)-1}),V(["MMM","MMMM"],function(e,t,i,a){var o=i._locale.monthsParse(e,a,i._strict);null!=o?t[_t]=o:b(i).invalidMonth=e});var Mt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,At="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$t="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Rt=yt,Nt=yt;A("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),A(0,["YY",2],0,function(){return this.year()%100}),A(0,["YYYY",4],0,"year"),A(0,["YYYYY",5],0,"year"),A(0,["YYYYYY",6,!0],0,"year"),t("year","y"),i("year",1),N("Y",gt),N("YY",ct,nt),N("YYYY",ft,st),N("YYYYY",pt,lt),N("YYYYYY",pt,lt),V(["YYYYY","YYYYYY"],kt),V("YYYY",function(e,t){t[kt]=2===e.length?g.parseTwoDigitYear(e):C(e)}),V("YY",function(e,t){t[kt]=g.parseTwoDigitYear(e)}),V("Y",function(e,t){t[kt]=parseInt(e,10)}),g.parseTwoDigitYear=function(e){return C(e)+(68<C(e)?1900:2e3)};var Ot=a("FullYear",!0);A("w",["ww",2],"wo","week"),A("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),i("week",5),i("isoWeek",5),N("w",ct),N("ww",ct,nt),N("W",ct),N("WW",ct,nt),B(["w","ww","W","WW"],function(e,t,i,a){t[a.substr(0,1)]=C(e)});A("d",0,"do","day"),A("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),A("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),A("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),A("e",0,0,"weekday"),A("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),i("day",11),i("weekday",11),i("isoWeekday",11),N("d",ct),N("e",ct),N("E",ct),N("dd",function(e,t){return t.weekdaysMinRegex(e)}),N("ddd",function(e,t){return t.weekdaysShortRegex(e)}),N("dddd",function(e,t){return t.weekdaysRegex(e)}),B(["dd","ddd","dddd"],function(e,t,i,a){var o=i._locale.weekdaysParse(e,a,i._strict);null!=o?t.d=o:b(i).invalidWeekday=e}),B(["d","e","E"],function(e,t,i,a){t[a]=C(e)});var Lt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Vt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Bt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),zt=yt,Gt=yt,Ut=yt;A("H",["HH",2],0,"hour"),A("h",["hh",2],0,Q),A("k",["kk",2],0,function(){return this.hours()||24}),A("hmm",0,0,function(){return""+Q.apply(this)+M(this.minutes(),2)}),A("hmmss",0,0,function(){return""+Q.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)}),A("Hmm",0,0,function(){return""+this.hours()+M(this.minutes(),2)}),A("Hmmss",0,0,function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)}),ee("a",!0),ee("A",!1),t("hour","h"),i("hour",13),N("a",te),N("A",te),N("H",ct),N("h",ct),N("k",ct),N("HH",ct,nt),N("hh",ct,nt),N("kk",ct,nt),N("hmm",dt),N("hmmss",ut),N("Hmm",dt),N("Hmmss",ut),V(["H","HH"],Tt),V(["k","kk"],function(e,t,i){var a=C(e);t[Tt]=24===a?0:a}),V(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),V(["h","hh"],function(e,t,i){t[Tt]=C(e),b(i).bigHour=!0}),V("hmm",function(e,t,i){var a=e.length-2;t[Tt]=C(e.substr(0,a)),t[Ft]=C(e.substr(a)),b(i).bigHour=!0}),V("hmmss",function(e,t,i){var a=e.length-4,o=e.length-2;t[Tt]=C(e.substr(0,a)),t[Ft]=C(e.substr(a,2)),t[St]=C(e.substr(o)),b(i).bigHour=!0}),V("Hmm",function(e,t,i){var a=e.length-2;t[Tt]=C(e.substr(0,a)),t[Ft]=C(e.substr(a))}),V("Hmmss",function(e,t,i){var a=e.length-4,o=e.length-2;t[Tt]=C(e.substr(0,a)),t[Ft]=C(e.substr(a,2)),t[St]=C(e.substr(o))});var Wt,jt=a("Hours",!0),Ht={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:At,monthsShort:$t,week:{dow:0,doy:6},weekdays:Lt,weekdaysMin:Bt,weekdaysShort:Vt,meridiemParse:/[ap]\.?m?\.?/i},Yt={},qt={},Xt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Kt=/Z|[+-]\d\d(?::?\d\d)?/,Jt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Qt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ei=/^\/?Date\((\-?\d+)/i,ti=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;g.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),g.ISO_8601=function(){},g.RFC_2822=function(){};var ii=e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=me.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()}),ai=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=me.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:y()}),oi=["year","quarter","month","week","day","hour","minute","second","millisecond"];xe("Z",":"),xe("ZZ",""),N("Z",bt),N("ZZ",bt),V(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=we(bt,e)});var ni=/([\+\-]|\d\d)/gi;g.updateOffset=function(){};var ri=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,si=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Te.fn=ve.prototype,Te.invalid=function(){return Te(NaN)};var li=Ee(1,"add"),ci=Ee(-1,"subtract");g.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",g.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var di=e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});A(0,["gg",2],0,function(){return this.weekYear()%100}),A(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Me("gggg","weekYear"),Me("ggggg","weekYear"),Me("GGGG","isoWeekYear"),Me("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),i("weekYear",1),i("isoWeekYear",1),N("G",gt),N("g",gt),N("GG",ct,nt),N("gg",ct,nt),N("GGGG",ft,st),N("gggg",ft,st),N("GGGGG",pt,lt),N("ggggg",pt,lt),B(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,a){t[a.substr(0,2)]=C(e)}),B(["gg","GG"],function(e,t,i,a){t[a]=g.parseTwoDigitYear(e)}),A("Q",0,"Qo","quarter"),t("quarter","Q"),i("quarter",7),N("Q",ot),V("Q",function(e,t){t[_t]=3*(C(e)-1)}),A("D",["DD",2],"Do","date"),t("date","D"),i("date",9),N("D",ct),N("DD",ct,nt),N("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),V(["D","DD"],Ct),V("Do",function(e,t){t[Ct]=C(e.match(ct)[0])});var ui=a("Date",!0);A("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),i("dayOfYear",4),N("DDD",ht),N("DDDD",rt),V(["DDD","DDDD"],function(e,t,i){i._dayOfYear=C(e)}),A("m",["mm",2],0,"minute"),t("minute","m"),i("minute",14),N("m",ct),N("mm",ct,nt),V(["m","mm"],Ft);var hi=a("Minutes",!1);A("s",["ss",2],0,"second"),t("second","s"),i("second",15),N("s",ct),N("ss",ct,nt),V(["s","ss"],St);var fi,pi=a("Seconds",!1);for(A("S",0,0,function(){return~~(this.millisecond()/100)}),A(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),A(0,["SSS",3],0,"millisecond"),A(0,["SSSS",4],0,function(){return 10*this.millisecond()}),A(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),A(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),A(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),A(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),A(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),i("millisecond",16),N("S",ht,ot),N("SS",ht,nt),N("SSS",ht,rt),fi="SSSS";fi.length<=9;fi+="S")N(fi,mt);for(fi="S";fi.length<=9;fi+="S")V(fi,$e);var mi=a("Milliseconds",!1);A("z",0,0,"zoneAbbr"),A("zz",0,0,"zoneName");var gi=w.prototype;gi.add=li,gi.calendar=function(e,t){var i=e||me(),a=ke(i,this).startOf("day"),o=g.calendarFormat(this,a)||"sameElse",n=t&&(F(t[o])?t[o].call(this,i):t[o]);return this.format(n||this.localeData().calendar(o,this,me(i)))},gi.clone=function(){return new w(this)},gi.diff=function(e,t,i){var a,o,n,r,s,l,c,d,u,h;return this.isValid()&&(a=ke(e,this)).isValid()?(o=6e4*(a.utcOffset()-this.utcOffset()),"year"===(t=E(t))||"month"===t||"quarter"===t?(s=this,u=12*((l=a).year()-s.year())+(l.month()-s.month()),h=s.clone().add(u,"months"),l-h<0?(c=s.clone().add(u-1,"months"),d=(l-h)/(h-c)):(c=s.clone().add(u+1,"months"),d=(l-h)/(c-h)),r=-(u+d)||0,"quarter"===t?r/=3:"year"===t&&(r/=12)):(n=this-a,r="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-o)/864e5:"week"===t?(n-o)/6048e5:n),i?r:_(r)):NaN},gi.endOf=function(e){return void 0===(e=E(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},gi.format=function(e){e||(e=this.isUtc()?g.defaultFormatUtc:g.defaultFormat);var t=$(this,e);return this.localeData().postformat(t)},gi.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||me(e).isValid())?Te({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},gi.fromNow=function(e){return this.from(me(),e)},gi.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||me(e).isValid())?Te({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},gi.toNow=function(e){return this.to(me(),e)},gi.get=function(e){return F(this[e=E(e)])?this[e]():this},gi.invalidAt=function(){return b(this).overflow},gi.isAfter=function(e,t){var i=k(e)?e:me(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=E(c(t)?"millisecond":t))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())},gi.isBefore=function(e,t){var i=k(e)?e:me(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=E(c(t)?"millisecond":t))?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())},gi.isBetween=function(e,t,i,a){return("("===(a=a||"()")[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===a[1]?this.isBefore(t,i):!this.isAfter(t,i))},gi.isSame=function(e,t){var i,a=k(e)?e:me(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=E(t||"millisecond"))?this.valueOf()===a.valueOf():(i=a.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))},gi.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},gi.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},gi.isValid=function(){return m(this)},gi.lang=di,gi.locale=Ie,gi.localeData=Pe,gi.max=ai,gi.min=ii,gi.parsingFlags=function(){return f({},b(this))},gi.set=function(e,t){if("object"==typeof e)for(var i=function(e){var t=[];for(var i in e)t.push({unit:i,priority:Qe[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=D(e)),a=0;a<i.length;a++)this[i[a].unit](e[i[a].unit]);else if(F(this[e=E(e)]))return this[e](t);return this},gi.startOf=function(e){switch(e=E(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},gi.subtract=ci,gi.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},gi.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},gi.toDate=function(){return new Date(this.valueOf())},gi.toISOString=function(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||9999<e.year()?$(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(Date.prototype.toISOString)?this.toDate().toISOString():$(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},gi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=t+'[")]';return this.format(i+a+"-MM-DD[T]HH:mm:ss.SSS"+o)},gi.toJSON=function(){return this.isValid()?this.toISOString():null},gi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},gi.unix=function(){return Math.floor(this.valueOf()/1e3)},gi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},gi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},gi.year=Ot,gi.isLeapYear=function(){return H(this.year())},gi.weekYear=function(e){return Ae.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},gi.isoWeekYear=function(e){return Ae.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},gi.quarter=gi.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},gi.month=U,gi.daysInMonth=function(){return z(this.year(),this.month())},gi.week=gi.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},gi.isoWeek=gi.isoWeeks=function(e){var t=Z(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},gi.weeksInYear=function(){var e=this.localeData()._week;return K(this.year(),e.dow,e.doy)},gi.isoWeeksInYear=function(){return K(this.year(),1,4)},gi.date=ui,gi.day=gi.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,i,a=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,i=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=i.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-a,"d")):a},gi.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},gi.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=(i=e,a=this.localeData(),"string"==typeof i?a.weekdaysParse(i)%7||7:isNaN(i)?null:i);return this.day(this.day()%7?t:t-7)}var i,a;return this.day()||7},gi.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},gi.hour=gi.hours=jt,gi.minute=gi.minutes=hi,gi.second=gi.seconds=pi,gi.millisecond=gi.milliseconds=mi,gi.utcOffset=function(e,t,i){var a,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=we(bt,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(a=_e(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),o!==e&&(!t||this._changeInProgress?De(this,Te(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,g.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:_e(this)},gi.utc=function(e){return this.utcOffset(0,e)},gi.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(_e(this),"m")),this},gi.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=we(vt,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},gi.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?me(e).utcOffset():0,(this.utcOffset()-e)%60==0)},gi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},gi.isLocal=function(){return!!this.isValid()&&!this._isUTC},gi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},gi.isUtc=Ce,gi.isUTC=Ce,gi.zoneAbbr=function(){return this._isUTC?"UTC":""},gi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},gi.dates=e("dates accessor is deprecated. Use date instead.",ui),gi.months=e("months accessor is deprecated. Use month instead",U),gi.years=e("years accessor is deprecated. Use year instead",Ot),gi.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),gi.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e={};if(x(e,this),(e=fe(e))._a){var t=e._isUTC?p(e._a):me(e._a);this._isDSTShifted=this.isValid()&&0<r(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var vi=S.prototype;vi.calendar=function(e,t,i){var a=this._calendar[e]||this._calendar.sameElse;return F(a)?a.call(t,i):a},vi.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},vi.invalidDate=function(){return this._invalidDate},vi.ordinal=function(e){return this._ordinal.replace("%d",e)},vi.preparse=Re,vi.postformat=Re,vi.relativeTime=function(e,t,i,a){var o=this._relativeTime[i];return F(o)?o(e,t,i,a):o.replace(/%d/i,e)},vi.pastFuture=function(e,t){var i=this._relativeTime[0<e?"future":"past"];return F(i)?i(t):i.replace(/%s/i,t)},vi.set=function(e){var t,i;for(i in e)F(t=e[i])?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},vi.months=function(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Mt).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone},vi.monthsShort=function(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Mt.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},vi.monthsParse=function(e,t,i){var a,o,n;if(this._monthsParseExact)return function(e,t,i){var a,o,n,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)n=p([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(n,"").toLocaleLowerCase();return i?-1!==(o="MMM"===t?Pt.call(this._shortMonthsParse,r):Pt.call(this._longMonthsParse,r))?o:null:"MMM"===t?-1!==(o=Pt.call(this._shortMonthsParse,r))?o:-1!==(o=Pt.call(this._longMonthsParse,r))?o:null:-1!==(o=Pt.call(this._longMonthsParse,r))?o:-1!==(o=Pt.call(this._shortMonthsParse,r))?o:null}.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(o=p([2e3,a]),i&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[a]||(n="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[a]=new RegExp(n.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(i&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!i&&this._monthsParse[a].test(e))return a}},vi.monthsRegex=function(e){return this._monthsParseExact?(v(this,"_monthsRegex")||W.call(this),e?this._monthsStrictRegex:this._monthsRegex):(v(this,"_monthsRegex")||(this._monthsRegex=Nt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},vi.monthsShortRegex=function(e){return this._monthsParseExact?(v(this,"_monthsRegex")||W.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(v(this,"_monthsShortRegex")||(this._monthsShortRegex=Rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},vi.week=function(e){return Z(e,this._week.dow,this._week.doy).week},vi.firstDayOfYear=function(){return this._week.doy},vi.firstDayOfWeek=function(){return this._week.dow},vi.weekdays=function(e,t){return e?s(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:s(this._weekdays)?this._weekdays:this._weekdays.standalone},vi.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},vi.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},vi.weekdaysParse=function(e,t,i){var a,o,n;if(this._weekdaysParseExact)return function(e,t,i){var a,o,n,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)n=p([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(n,"").toLocaleLowerCase();return i?-1!==(o="dddd"===t?Pt.call(this._weekdaysParse,r):"ddd"===t?Pt.call(this._shortWeekdaysParse,r):Pt.call(this._minWeekdaysParse,r))?o:null:"dddd"===t?-1!==(o=Pt.call(this._weekdaysParse,r))?o:-1!==(o=Pt.call(this._shortWeekdaysParse,r))?o:-1!==(o=Pt.call(this._minWeekdaysParse,r))?o:null:"ddd"===t?-1!==(o=Pt.call(this._shortWeekdaysParse,r))?o:-1!==(o=Pt.call(this._weekdaysParse,r))?o:-1!==(o=Pt.call(this._minWeekdaysParse,r))?o:null:-1!==(o=Pt.call(this._minWeekdaysParse,r))?o:-1!==(o=Pt.call(this._weekdaysParse,r))?o:-1!==(o=Pt.call(this._shortWeekdaysParse,r))?o:null}.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(o=p([2e3,1]).day(a),i&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[a]||(n="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[a]=new RegExp(n.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[a].test(e))return a;if(i&&"ddd"===t&&this._shortWeekdaysParse[a].test(e))return a;if(i&&"dd"===t&&this._minWeekdaysParse[a].test(e))return a;if(!i&&this._weekdaysParse[a].test(e))return a}},vi.weekdaysRegex=function(e){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||J.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(v(this,"_weekdaysRegex")||(this._weekdaysRegex=zt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},vi.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||J.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(v(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Gt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},vi.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||J.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(v(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ut),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},vi.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},vi.meridiem=function(e,t,i){return 11<e?i?"pm":"PM":i?"am":"AM"},oe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===C(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),g.lang=e("moment.lang is deprecated. Use moment.locale instead.",oe),g.langData=e("moment.langData is deprecated. Use moment.localeData instead.",re);var bi=Math.abs,yi=Ue("ms"),xi=Ue("s"),wi=Ue("m"),ki=Ue("h"),_i=Ue("d"),Ci=Ue("w"),Ti=Ue("M"),Fi=Ue("y"),Si=We("milliseconds"),Ei=We("seconds"),Di=We("minutes"),Ii=We("hours"),Pi=We("days"),Mi=We("months"),Ai=We("years"),$i=Math.round,Ri={ss:44,s:45,m:45,h:22,d:26,M:11},Ni=Math.abs,Oi=ve.prototype;return Oi.isValid=function(){return this._isValid},Oi.abs=function(){var e=this._data;return this._milliseconds=bi(this._milliseconds),this._days=bi(this._days),this._months=bi(this._months),e.milliseconds=bi(e.milliseconds),e.seconds=bi(e.seconds),e.minutes=bi(e.minutes),e.hours=bi(e.hours),e.months=bi(e.months),e.years=bi(e.years),this},Oi.add=function(e,t){return Ve(this,e,t,1)},Oi.subtract=function(e,t){return Ve(this,e,t,-1)},Oi.as=function(e){if(!this.isValid())return NaN;var t,i,a=this._milliseconds;if("month"===(e=E(e))||"year"===e)return t=this._days+a/864e5,i=this._months+ze(t),"month"===e?i:i/12;switch(t=this._days+Math.round(Ge(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return 24*t+a/36e5;case"minute":return 1440*t+a/6e4;case"second":return 86400*t+a/1e3;case"millisecond":return Math.floor(864e5*t)+a;default:throw new Error("Unknown unit "+e)}},Oi.asMilliseconds=yi,Oi.asSeconds=xi,Oi.asMinutes=wi,Oi.asHours=ki,Oi.asDays=_i,Oi.asWeeks=Ci,Oi.asMonths=Ti,Oi.asYears=Fi,Oi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12):NaN},Oi._bubble=function(){var e,t,i,a,o,n=this._milliseconds,r=this._days,s=this._months,l=this._data;return 0<=n&&0<=r&&0<=s||n<=0&&r<=0&&s<=0||(n+=864e5*Be(Ge(s)+r),s=r=0),l.milliseconds=n%1e3,e=_(n/1e3),l.seconds=e%60,t=_(e/60),l.minutes=t%60,i=_(t/60),l.hours=i%24,s+=o=_(ze(r+=_(i/24))),r-=Be(Ge(o)),a=_(s/12),s%=12,l.days=r,l.months=s,l.years=a,this},Oi.get=function(e){return e=E(e),this.isValid()?this[e+"s"]():NaN},Oi.milliseconds=Si,Oi.seconds=Ei,Oi.minutes=Di,Oi.hours=Ii,Oi.days=Pi,Oi.weeks=function(){return _(this.days()/7)},Oi.months=Mi,Oi.years=Ai,Oi.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,i,a,o,n,r,s,l,c,d,u,h=this.localeData(),f=(i=!e,a=h,o=Te(t=this).abs(),n=$i(o.as("s")),r=$i(o.as("m")),s=$i(o.as("h")),l=$i(o.as("d")),c=$i(o.as("M")),d=$i(o.as("y")),(u=n<=Ri.ss&&["s",n]||n<Ri.s&&["ss",n]||r<=1&&["m"]||r<Ri.m&&["mm",r]||s<=1&&["h"]||s<Ri.h&&["hh",s]||l<=1&&["d"]||l<Ri.d&&["dd",l]||c<=1&&["M"]||c<Ri.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=i,u[3]=0<+t,u[4]=a,function(e,t,i,a,o){return o.relativeTime(t||1,!!i,e,a)}.apply(null,u));return e&&(f=h.pastFuture(+this,f)),h.postformat(f)},Oi.toISOString=je,Oi.toString=je,Oi.toJSON=je,Oi.locale=Ie,Oi.localeData=Pe,Oi.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",je),Oi.lang=di,A("X",0,0,"unix"),A("x",0,0,"valueOf"),N("x",gt),N("X",/[+-]?\d+(\.\d{1,3})?/),V("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),V("x",function(e,t,i){i._d=new Date(C(e))}),g.version="2.18.1",He=me,g.fn=gi,g.min=function(){return ge("isBefore",[].slice.call(arguments,0))},g.max=function(){return ge("isAfter",[].slice.call(arguments,0))},g.now=function(){return Date.now?Date.now():+new Date},g.utc=p,g.unix=function(e){return me(1e3*e)},g.months=function(e,t){return Oe(e,t,"months")},g.isDate=u,g.locale=oe,g.invalid=y,g.duration=Te,g.isMoment=k,g.weekdays=function(e,t,i){return Le(e,t,i,"weekdays")},g.parseZone=function(){return me.apply(null,arguments).parseZone()},g.localeData=re,g.isDuration=be,g.monthsShort=function(e,t){return Oe(e,t,"monthsShort")},g.weekdaysMin=function(e,t,i){return Le(e,t,i,"weekdaysMin")},g.defineLocale=ne,g.updateLocale=function(e,t){if(null!=t){var i,a=Ht;null!=Yt[e]&&(a=Yt[e]._config),(i=new S(t=o(a,t))).parentLocale=Yt[e],Yt[e]=i,oe(e)}else null!=Yt[e]&&(null!=Yt[e].parentLocale?Yt[e]=Yt[e].parentLocale:null!=Yt[e]&&delete Yt[e]);return Yt[e]},g.locales=function(){return Ke(Yt)},g.weekdaysShort=function(e,t,i){return Le(e,t,i,"weekdaysShort")},g.normalizeUnits=E,g.relativeTimeRounding=function(e){return void 0===e?$i:"function"==typeof e&&($i=e,!0)},g.relativeTimeThreshold=function(e,t){return void 0!==Ri[e]&&(void 0===t?Ri[e]:(Ri[e]=t,"s"===e&&(Ri.ss=t-1),!0))},g.calendarFormat=function(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},g.prototype=gi,g}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";var i="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),a="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?a[e.month()]:i[e.month()]:i},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}),function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)module.exports=e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(J,Q){"use strict";if(!Q)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,d){var u,h,i,l,a,o,r,s,c,f={},p=!0,m=!1,g=!1,v=0,t=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],b=["days","months","years","decades"],y=["top","bottom","auto"],x=["left","right","auto"],w=["default","top","bottom"],k={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},_={},C=function(){return void 0!==Q.tz&&void 0!==d.timeZone&&null!==d.timeZone&&""!==d.timeZone},T=function(e){var t;return t=null==e?Q():Q.isDate(e)||Q.isMoment(e)?Q(e):C()?Q.tz(e,o,d.useStrict,d.timeZone):Q(e,o,d.useStrict),C()&&t.tz(d.timeZone),t},F=function(e){if("string"!=typeof e||1<e.length)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==a.indexOf("Y");case"M":return-1!==a.indexOf("M");case"d":return-1!==a.toLowerCase().indexOf("d");case"h":case"H":return-1!==a.toLowerCase().indexOf("h");case"m":return-1!==a.indexOf("m");case"s":return-1!==a.indexOf("s");default:return!1}},S=function(){return F("h")||F("m")||F("s")},E=function(){return F("y")||F("M")||F("d")},D=function(){var e,t,i,a=J("<div>").addClass("timepicker-hours").append(J("<table>").addClass("table-condensed")),o=J("<div>").addClass("timepicker-minutes").append(J("<table>").addClass("table-condensed")),n=J("<div>").addClass("timepicker-seconds").append(J("<table>").addClass("table-condensed")),r=[(e=J("<tr>"),t=J("<tr>"),i=J("<tr>"),F("h")&&(e.append(J("<td>").append(J("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(J("<span>").addClass(d.icons.up)))),t.append(J("<td>").append(J("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:d.tooltips.pickHour}).attr("data-action","showHours"))),i.append(J("<td>").append(J("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(J("<span>").addClass(d.icons.down))))),F("m")&&(F("h")&&(e.append(J("<td>").addClass("separator")),t.append(J("<td>").addClass("separator").html(":")),i.append(J("<td>").addClass("separator"))),e.append(J("<td>").append(J("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(J("<span>").addClass(d.icons.up)))),t.append(J("<td>").append(J("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:d.tooltips.pickMinute}).attr("data-action","showMinutes"))),i.append(J("<td>").append(J("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(J("<span>").addClass(d.icons.down))))),F("s")&&(F("m")&&(e.append(J("<td>").addClass("separator")),t.append(J("<td>").addClass("separator").html(":")),i.append(J("<td>").addClass("separator"))),e.append(J("<td>").append(J("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(J("<span>").addClass(d.icons.up)))),t.append(J("<td>").append(J("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:d.tooltips.pickSecond}).attr("data-action","showSeconds"))),i.append(J("<td>").append(J("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(J("<span>").addClass(d.icons.down))))),l||(e.append(J("<td>").addClass("separator")),t.append(J("<td>").append(J("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:d.tooltips.togglePeriod}))),i.append(J("<td>").addClass("separator"))),J("<div>").addClass("timepicker-picker").append(J("<table>").addClass("table-condensed").append([e,t,i])))];return F("h")&&r.push(a),F("m")&&r.push(o),F("s")&&r.push(n),r},I=function(){var e,t,i,a=J("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),o=J("<div>").addClass("datepicker").append((t=J("<thead>").append(J("<tr>").append(J("<th>").addClass("prev").attr("data-action","previous").append(J("<span>").addClass(d.icons.previous))).append(J("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",d.calendarWeeks?"6":"5")).append(J("<th>").addClass("next").attr("data-action","next").append(J("<span>").addClass(d.icons.next)))),i=J("<tbody>").append(J("<tr>").append(J("<td>").attr("colspan",d.calendarWeeks?"8":"7"))),[J("<div>").addClass("datepicker-days").append(J("<table>").addClass("table-condensed").append(t).append(J("<tbody>"))),J("<div>").addClass("datepicker-months").append(J("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),J("<div>").addClass("datepicker-years").append(J("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),J("<div>").addClass("datepicker-decades").append(J("<table>").addClass("table-condensed").append(t.clone()).append(i.clone()))])),n=J("<div>").addClass("timepicker").append(D()),r=J("<ul>").addClass("list-unstyled"),s=J("<li>").addClass("picker-switch"+(d.collapse?" accordion-toggle":"")).append((e=[],d.showTodayButton&&e.push(J("<td>").append(J("<a>").attr({"data-action":"today",title:d.tooltips.today}).append(J("<span>").addClass(d.icons.today)))),!d.sideBySide&&E()&&S()&&e.push(J("<td>").append(J("<a>").attr({"data-action":"togglePicker",title:d.tooltips.selectTime}).append(J("<span>").addClass(d.icons.time)))),d.showClear&&e.push(J("<td>").append(J("<a>").attr({"data-action":"clear",title:d.tooltips.clear}).append(J("<span>").addClass(d.icons.clear)))),d.showClose&&e.push(J("<td>").append(J("<a>").attr({"data-action":"close",title:d.tooltips.close}).append(J("<span>").addClass(d.icons.close)))),J("<table>").addClass("table-condensed").append(J("<tbody>").append(J("<tr>").append(e)))));return d.inline&&a.removeClass("dropdown-menu"),l&&a.addClass("usetwentyfour"),F("s")&&!l&&a.addClass("wider"),d.sideBySide&&E()&&S()?(a.addClass("timepicker-sbs"),"top"===d.toolbarPlacement&&a.append(s),a.append(J("<div>").addClass("row").append(o.addClass("col-md-6")).append(n.addClass("col-md-6"))),"bottom"===d.toolbarPlacement&&a.append(s),a):("top"===d.toolbarPlacement&&r.append(s),E()&&r.append(J("<li>").addClass(d.collapse&&S()?"collapse in":"").append(o)),"default"===d.toolbarPlacement&&r.append(s),S()&&r.append(J("<li>").addClass(d.collapse&&E()?"collapse":"").append(n)),"bottom"===d.toolbarPlacement&&r.append(s),a.append(r))},P=function(){var e,t=(m||n).position(),i=(m||n).offset(),a=d.widgetPositioning.vertical,o=d.widgetPositioning.horizontal;if(d.widgetParent)e=d.widgetParent.append(g);else if(n.is("input"))e=n.after(g).parent();else{if(d.inline)return void(e=n.append(g));(e=n).children().first().after(g)}if("auto"===a&&(a=i.top+1.5*g.height()>=J(window).height()+J(window).scrollTop()&&g.height()+n.outerHeight()<i.top?"top":"bottom"),"auto"===o&&(o=e.width()<i.left+g.outerWidth()/2&&i.left+g.outerWidth()>J(window).width()?"right":"left"),"top"===a?g.addClass("top").removeClass("bottom"):g.addClass("bottom").removeClass("top"),"right"===o?g.addClass("pull-right"):g.removeClass("pull-right"),"static"===e.css("position")&&(e=e.parents().filter(function(){return"static"!==J(this).css("position")}).first()),0===e.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");g.css({top:"top"===a?"auto":t.top+n.outerHeight(),bottom:"top"===a?e.outerHeight()-(e===n?0:t.top):"auto",left:"left"===o?e===n?0:t.left:"auto",right:"left"===o?"auto":e.outerWidth()-n.outerWidth()-(e===n?0:t.left)})},M=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||n.trigger(e)},A=function(e){"y"===e&&(e="YYYY"),M({type:"dp.update",change:e,viewDate:h.clone()})},$=function(e){g&&(e&&(r=Math.max(v,Math.min(3,r+e))),g.find(".datepicker > div").hide().filter(".datepicker-"+t[r].clsName).show())},R=function(e,t){if(!e.isValid())return!1;if(d.disabledDates&&"d"===t&&(i=e,!0===d.disabledDates[i.format("YYYY-MM-DD")]))return!1;var i,a,o,n;if(d.enabledDates&&"d"===t&&(a=e,!0!==d.enabledDates[a.format("YYYY-MM-DD")]))return!1;if(d.minDate&&e.isBefore(d.minDate,t))return!1;if(d.maxDate&&e.isAfter(d.maxDate,t))return!1;if(d.daysOfWeekDisabled&&"d"===t&&-1!==d.daysOfWeekDisabled.indexOf(e.day()))return!1;if(d.disabledHours&&("h"===t||"m"===t||"s"===t)&&(o=e,!0===d.disabledHours[o.format("H")]))return!1;if(d.enabledHours&&("h"===t||"m"===t||"s"===t)&&(n=e,!0!==d.enabledHours[n.format("H")]))return!1;if(d.disabledTimeIntervals&&("h"===t||"m"===t||"s"===t)){var r=!1;if(J.each(d.disabledTimeIntervals,function(){if(e.isBetween(this[0],this[1]))return!(r=!0)}),r)return!1}return!0},N=function(){var e,t,i,a,o,n,r=g.find(".datepicker-days"),s=r.find("th"),l=[],c=[];if(E()){for(s.eq(0).find("span").attr("title",d.tooltips.prevMonth),s.eq(1).attr("title",d.tooltips.selectMonth),s.eq(2).find("span").attr("title",d.tooltips.nextMonth),r.find(".disabled").removeClass("disabled"),s.eq(1).text(h.format(d.dayViewHeaderFormat)),R(h.clone().subtract(1,"M"),"M")||s.eq(0).addClass("disabled"),R(h.clone().add(1,"M"),"M")||s.eq(2).addClass("disabled"),e=h.clone().startOf("M").startOf("w").startOf("d"),i=0;i<42;i++)0===e.weekday()&&(t=J("<tr>"),d.calendarWeeks&&t.append('<td class="cw">'+e.week()+"</td>"),l.push(t)),c=["day"],e.isBefore(h,"M")&&c.push("old"),e.isAfter(h,"M")&&c.push("new"),e.isSame(u,"d")&&!p&&c.push("active"),R(e,"d")||c.push("disabled"),e.isSame(T(),"d")&&c.push("today"),0!==e.day()&&6!==e.day()||c.push("weekend"),M({type:"dp.classify",date:e,classNames:c}),t.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="'+c.join(" ")+'">'+e.date()+"</td>"),e.add(1,"d");r.find("tbody").empty().append(l),a=g.find(".datepicker-months"),o=a.find("th"),n=a.find("tbody").find("span"),o.eq(0).find("span").attr("title",d.tooltips.prevYear),o.eq(1).attr("title",d.tooltips.selectYear),o.eq(2).find("span").attr("title",d.tooltips.nextYear),a.find(".disabled").removeClass("disabled"),R(h.clone().subtract(1,"y"),"y")||o.eq(0).addClass("disabled"),o.eq(1).text(h.year()),R(h.clone().add(1,"y"),"y")||o.eq(2).addClass("disabled"),n.removeClass("active"),u.isSame(h,"y")&&!p&&n.eq(u.month()).addClass("active"),n.each(function(e){R(h.clone().month(e),"M")||J(this).addClass("disabled")}),function(){var e=g.find(".datepicker-years"),t=e.find("th"),i=h.clone().subtract(5,"y"),a=h.clone().add(6,"y"),o="";for(t.eq(0).find("span").attr("title",d.tooltips.prevDecade),t.eq(1).attr("title",d.tooltips.selectDecade),t.eq(2).find("span").attr("title",d.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),d.minDate&&d.minDate.isAfter(i,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(i.year()+"-"+a.year()),d.maxDate&&d.maxDate.isBefore(a,"y")&&t.eq(2).addClass("disabled");!i.isAfter(a,"y");)o+='<span data-action="selectYear" class="year'+(i.isSame(u,"y")&&!p?" active":"")+(R(i,"y")?"":" disabled")+'">'+i.year()+"</span>",i.add(1,"y");e.find("td").html(o)}(),function(){var e,t=g.find(".datepicker-decades"),i=t.find("th"),a=Q({y:h.year()-h.year()%100-1}),o=a.clone().add(100,"y"),n=a.clone(),r=!1,s=!1,l="";for(i.eq(0).find("span").attr("title",d.tooltips.prevCentury),i.eq(2).find("span").attr("title",d.tooltips.nextCentury),t.find(".disabled").removeClass("disabled"),(a.isSame(Q({y:1900}))||d.minDate&&d.minDate.isAfter(a,"y"))&&i.eq(0).addClass("disabled"),i.eq(1).text(a.year()+"-"+o.year()),(a.isSame(Q({y:2e3}))||d.maxDate&&d.maxDate.isBefore(o,"y"))&&i.eq(2).addClass("disabled");!a.isAfter(o,"y");)e=a.year()+12,r=d.minDate&&d.minDate.isAfter(a,"y")&&d.minDate.year()<=e,s=d.maxDate&&d.maxDate.isAfter(a,"y")&&d.maxDate.year()<=e,l+='<span data-action="selectDecade" class="decade'+(u.isAfter(a)&&u.year()<=e?" active":"")+(R(a,"y")||r||s?"":" disabled")+'" data-selection="'+(a.year()+6)+'">'+(a.year()+1)+" - "+(a.year()+12)+"</span>",a.add(12,"y");l+="<span></span><span></span><span></span>",t.find("td").html(l),i.eq(1).text(n.year()+1+"-"+a.year())}()}},e=function(){var e,t,i=g.find(".timepicker span[data-time-component]");l||(e=g.find(".timepicker [data-action=togglePeriod]"),t=u.clone().add(12<=u.hours()?-12:12,"h"),e.text(u.format("A")),R(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),i.filter("[data-time-component=hours]").text(u.format(l?"HH":"hh")),i.filter("[data-time-component=minutes]").text(u.format("mm")),i.filter("[data-time-component=seconds]").text(u.format("ss")),function(){var e=g.find(".timepicker-hours table"),t=h.clone().startOf("d"),i=[],a=J("<tr>");for(11<h.hour()&&!l&&t.hour(12);t.isSame(h,"d")&&(l||h.hour()<12&&t.hour()<12||11<h.hour());)t.hour()%4==0&&(a=J("<tr>"),i.push(a)),a.append('<td data-action="selectHour" class="hour'+(R(t,"h")?"":" disabled")+'">'+t.format(l?"HH":"hh")+"</td>"),t.add(1,"h");e.empty().append(i)}(),function(){for(var e=g.find(".timepicker-minutes table"),t=h.clone().startOf("h"),i=[],a=J("<tr>"),o=1===d.stepping?5:d.stepping;h.isSame(t,"h");)t.minute()%(4*o)==0&&(a=J("<tr>"),i.push(a)),a.append('<td data-action="selectMinute" class="minute'+(R(t,"m")?"":" disabled")+'">'+t.format("mm")+"</td>"),t.add(o,"m");e.empty().append(i)}(),function(){for(var e=g.find(".timepicker-seconds table"),t=h.clone().startOf("m"),i=[],a=J("<tr>");h.isSame(t,"m");)t.second()%20==0&&(a=J("<tr>"),i.push(a)),a.append('<td data-action="selectSecond" class="second'+(R(t,"s")?"":" disabled")+'">'+t.format("ss")+"</td>"),t.add(5,"s");e.empty().append(i)}()},O=function(){g&&(N(),e())},L=function(e){var t=p?null:u;if(!e)return p=!0,i.val(""),n.data("date",""),M({type:"dp.change",date:!1,oldDate:t}),void O();if(e=e.clone().locale(d.locale),C()&&e.tz(d.timeZone),1!==d.stepping)for(e.minutes(Math.round(e.minutes()/d.stepping)*d.stepping).seconds(0);d.minDate&&e.isBefore(d.minDate);)e.add(d.stepping,"minutes");R(e)?(h=(u=e).clone(),i.val(u.format(a)),n.data("date",u.format(a)),p=!1,O(),M({type:"dp.change",date:u.clone(),oldDate:t})):(d.keepInvalid?M({type:"dp.change",date:e,oldDate:t}):i.val(p?"":u.format(a)),M({type:"dp.error",date:e,oldDate:t}))},V=function(){var t=!1;return g&&(g.find(".collapse").each(function(){var e=J(this).data("collapse");return!e||!e.transitioning||!(t=!0)}),t||(m&&m.hasClass("btn")&&m.toggleClass("active"),g.hide(),J(window).off("resize",P),g.off("click","[data-action]"),g.off("mousedown",!1),g.remove(),g=!1,M({type:"dp.hide",date:u.clone()}),i.blur(),h=u.clone())),f},B=function(){L(null)},z=function(e){return void 0===d.parseInputDate?(!Q.isMoment(e)||e instanceof Date)&&(e=T(e)):e=d.parseInputDate(e),e},G={next:function(){var e=t[r].navFnc;h.add(t[r].navStep,e),N(),A(e)},previous:function(){var e=t[r].navFnc;h.subtract(t[r].navStep,e),N(),A(e)},pickerSwitch:function(){$(1)},selectMonth:function(e){var t=J(e.target).closest("tbody").find("span").index(J(e.target));h.month(t),r===v?(L(u.clone().year(h.year()).month(h.month())),d.inline||V()):($(-1),N()),A("M")},selectYear:function(e){var t=parseInt(J(e.target).text(),10)||0;h.year(t),r===v?(L(u.clone().year(h.year())),d.inline||V()):($(-1),N()),A("YYYY")},selectDecade:function(e){var t=parseInt(J(e.target).data("selection"),10)||0;h.year(t),r===v?(L(u.clone().year(h.year())),d.inline||V()):($(-1),N()),A("YYYY")},selectDay:function(e){var t=h.clone();J(e.target).is(".old")&&t.subtract(1,"M"),J(e.target).is(".new")&&t.add(1,"M"),L(t.date(parseInt(J(e.target).text(),10))),S()||d.keepOpen||d.inline||V()},incrementHours:function(){var e=u.clone().add(1,"h");R(e,"h")&&L(e)},incrementMinutes:function(){var e=u.clone().add(d.stepping,"m");R(e,"m")&&L(e)},incrementSeconds:function(){var e=u.clone().add(1,"s");R(e,"s")&&L(e)},decrementHours:function(){var e=u.clone().subtract(1,"h");R(e,"h")&&L(e)},decrementMinutes:function(){var e=u.clone().subtract(d.stepping,"m");R(e,"m")&&L(e)},decrementSeconds:function(){var e=u.clone().subtract(1,"s");R(e,"s")&&L(e)},togglePeriod:function(){L(u.clone().add(12<=u.hours()?-12:12,"h"))},togglePicker:function(e){var t,i=J(e.target),a=i.closest("ul"),o=a.find(".in"),n=a.find(".collapse:not(.in)");if(o&&o.length){if((t=o.data("collapse"))&&t.transitioning)return;o.collapse?(o.collapse("hide"),n.collapse("show")):(o.removeClass("in"),n.addClass("in")),i.is("span")?i.toggleClass(d.icons.time+" "+d.icons.date):i.find("span").toggleClass(d.icons.time+" "+d.icons.date)}},showPicker:function(){g.find(".timepicker > div:not(.timepicker-picker)").hide(),g.find(".timepicker .timepicker-picker").show()},showHours:function(){g.find(".timepicker .timepicker-picker").hide(),g.find(".timepicker .timepicker-hours").show()},showMinutes:function(){g.find(".timepicker .timepicker-picker").hide(),g.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){g.find(".timepicker .timepicker-picker").hide(),g.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var t=parseInt(J(e.target).text(),10);l||(12<=u.hours()?12!==t&&(t+=12):12===t&&(t=0)),L(u.clone().hours(t)),G.showPicker.call(f)},selectMinute:function(e){L(u.clone().minutes(parseInt(J(e.target).text(),10))),G.showPicker.call(f)},selectSecond:function(e){L(u.clone().seconds(parseInt(J(e.target).text(),10))),G.showPicker.call(f)},clear:B,today:function(){var e=T();R(e,"d")&&L(e)},close:V},U=function(e){return!J(e.currentTarget).is(".disabled")&&(G[J(e.currentTarget).data("action")].apply(f,arguments),!1)},W=function(){var e;return i.prop("disabled")||!d.ignoreReadonly&&i.prop("readonly")||g||(void 0!==i.val()&&0!==i.val().trim().length?L(z(i.val().trim())):p&&d.useCurrent&&(d.inline||i.is("input")&&0===i.val().trim().length)&&(e=T(),"string"==typeof d.useCurrent&&(e={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}}[d.useCurrent](e)),L(e)),g=I(),function(){var e=J("<tr>"),t=h.clone().startOf("w").startOf("d");for(!0===d.calendarWeeks&&e.append(J("<th>").addClass("cw").text("#"));t.isBefore(h.clone().endOf("w"));)e.append(J("<th>").addClass("dow").text(t.format("dd"))),t.add(1,"d");g.find(".datepicker-days thead").append(e)}(),function(){for(var e=[],t=h.clone().startOf("y").startOf("d");t.isSame(h,"y");)e.push(J("<span>").attr("data-action","selectMonth").addClass("month").text(t.format("MMM"))),t.add(1,"M");g.find(".datepicker-months td").empty().append(e)}(),g.find(".timepicker-hours").hide(),g.find(".timepicker-minutes").hide(),g.find(".timepicker-seconds").hide(),O(),$(),J(window).on("resize",P),g.on("click","[data-action]",U),g.on("mousedown",!1),m&&m.hasClass("btn")&&m.toggleClass("active"),P(),g.show(),d.focusOnShow&&!i.is(":focus")&&i.focus(),M({type:"dp.show"})),f},j=function(){return g?V():W()},H=function(e){var t,i,a,o,n=null,r=[],s={},l=e.which;for(t in _[l]="p",_)_.hasOwnProperty(t)&&"p"===_[t]&&(r.push(t),parseInt(t,10)!==l&&(s[t]=!0));for(t in d.keyBinds)if(d.keyBinds.hasOwnProperty(t)&&"function"==typeof d.keyBinds[t]&&((a=t.split(" ")).length===r.length&&k[l]===a[a.length-1])){for(o=!0,i=a.length-2;0<=i;i--)if(!(k[a[i]]in s)){o=!1;break}if(o){n=d.keyBinds[t];break}}n&&(n.call(f,g),e.stopPropagation(),e.preventDefault())},Y=function(e){_[e.which]="r",e.stopPropagation(),e.preventDefault()},q=function(e){var t=J(e.target).val().trim(),i=t?z(t):null;return L(i),e.stopImmediatePropagation(),!1},X=function(e){var t={};return J.each(e,function(){var e=z(this);e.isValid()&&(t[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(t).length&&t},Z=function(e){var t={};return J.each(e,function(){t[this]=!0}),!!Object.keys(t).length&&t},K=function(){var e=d.format||"L LT";a=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return(u.localeData().longDateFormat(e)||e).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return u.localeData().longDateFormat(e)||e})}),(o=d.extraFormats?d.extraFormats.slice():[]).indexOf(e)<0&&o.indexOf(a)<0&&o.push(a),l=a.toLowerCase().indexOf("a")<1&&a.replace(/\[.*?\]/g,"").indexOf("h")<1,F("y")&&(v=2),F("M")&&(v=1),F("d")&&(v=0),r=Math.max(v,r),p||L(u)};if(f.destroy=function(){V(),i.off({change:q,blur:blur,keydown:H,keyup:Y,focus:d.allowInputToggle?V:""}),n.is("input")?i.off({focus:W}):m&&(m.off("click",j),m.off("mousedown",!1)),n.removeData("DateTimePicker"),n.removeData("date")},f.toggle=j,f.show=W,f.hide=V,f.disable=function(){return V(),m&&m.hasClass("btn")&&m.addClass("disabled"),i.prop("disabled",!0),f},f.enable=function(){return m&&m.hasClass("btn")&&m.removeClass("disabled"),i.prop("disabled",!1),f},f.ignoreReadonly=function(e){if(0===arguments.length)return d.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return d.ignoreReadonly=e,f},f.options=function(e){if(0===arguments.length)return J.extend(!0,{},d);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return J.extend(!0,d,e),J.each(d,function(e,t){if(void 0===f[e])throw new TypeError("option "+e+" is not recognized!");f[e](t)}),f},f.date=function(e){if(0===arguments.length)return p?null:u.clone();if(!(null===e||"string"==typeof e||Q.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return L(null===e?null:z(e)),f},f.format=function(e){if(0===arguments.length)return d.format;if("string"!=typeof e&&("boolean"!=typeof e||!1!==e))throw new TypeError("format() expects a string or boolean:false parameter "+e);return d.format=e,a&&K(),f},f.timeZone=function(e){if(0===arguments.length)return d.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");return d.timeZone=e,f},f.dayViewHeaderFormat=function(e){if(0===arguments.length)return d.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return d.dayViewHeaderFormat=e,f},f.extraFormats=function(e){if(0===arguments.length)return d.extraFormats;if(!1!==e&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return d.extraFormats=e,o&&K(),f},f.disabledDates=function(e){if(0===arguments.length)return d.disabledDates?J.extend({},d.disabledDates):d.disabledDates;if(!e)return d.disabledDates=!1,O(),f;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return d.disabledDates=X(e),d.enabledDates=!1,O(),f},f.enabledDates=function(e){if(0===arguments.length)return d.enabledDates?J.extend({},d.enabledDates):d.enabledDates;if(!e)return d.enabledDates=!1,O(),f;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return d.enabledDates=X(e),d.disabledDates=!1,O(),f},f.daysOfWeekDisabled=function(e){if(0===arguments.length)return d.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return d.daysOfWeekDisabled=!1,O(),f;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(d.daysOfWeekDisabled=e.reduce(function(e,t){return 6<(t=parseInt(t,10))||t<0||isNaN(t)||-1===e.indexOf(t)&&e.push(t),e},[]).sort(),d.useCurrent&&!d.keepInvalid){for(var t=0;!R(u,"d");){if(u.add(1,"d"),31===t)throw"Tried 31 times to find a valid date";t++}L(u)}return O(),f},f.maxDate=function(e){if(0===arguments.length)return d.maxDate?d.maxDate.clone():d.maxDate;if("boolean"==typeof e&&!1===e)return d.maxDate=!1,O(),f;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=T()));var t=z(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(d.minDate&&t.isBefore(d.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(a));return d.maxDate=t,d.useCurrent&&!d.keepInvalid&&u.isAfter(e)&&L(d.maxDate),h.isAfter(t)&&(h=t.clone().subtract(d.stepping,"m")),O(),f},f.minDate=function(e){if(0===arguments.length)return d.minDate?d.minDate.clone():d.minDate;if("boolean"==typeof e&&!1===e)return d.minDate=!1,O(),f;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=T()));var t=z(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(d.maxDate&&t.isAfter(d.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(a));return d.minDate=t,d.useCurrent&&!d.keepInvalid&&u.isBefore(e)&&L(d.minDate),h.isBefore(t)&&(h=t.clone().add(d.stepping,"m")),O(),f},f.defaultDate=function(e){if(0===arguments.length)return d.defaultDate?d.defaultDate.clone():d.defaultDate;if(!e)return d.defaultDate=!1,f;"string"==typeof e&&(e="now"===e||"moment"===e?T():T(e));var t=z(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!R(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return d.defaultDate=t,(d.defaultDate&&d.inline||""===i.val().trim())&&L(d.defaultDate),f},f.locale=function(e){if(0===arguments.length)return d.locale;if(!Q.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return d.locale=e,u.locale(d.locale),h.locale(d.locale),a&&K(),g&&(V(),W()),f},f.stepping=function(e){return 0===arguments.length?d.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),d.stepping=e,f)},f.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return d.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return d.useCurrent=e,f},f.collapse=function(e){if(0===arguments.length)return d.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return d.collapse===e||(d.collapse=e,g&&(V(),W())),f},f.icons=function(e){if(0===arguments.length)return J.extend({},d.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return J.extend(d.icons,e),g&&(V(),W()),f},f.tooltips=function(e){if(0===arguments.length)return J.extend({},d.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return J.extend(d.tooltips,e),g&&(V(),W()),f},f.useStrict=function(e){if(0===arguments.length)return d.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return d.useStrict=e,f},f.sideBySide=function(e){if(0===arguments.length)return d.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return d.sideBySide=e,g&&(V(),W()),f},f.viewMode=function(e){if(0===arguments.length)return d.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===b.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+b.join(", ")+") value");return d.viewMode=e,r=Math.max(b.indexOf(e),v),$(),f},f.toolbarPlacement=function(e){if(0===arguments.length)return d.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===w.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return d.toolbarPlacement=e,g&&(V(),W()),f},f.widgetPositioning=function(e){if(0===arguments.length)return J.extend({},d.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===x.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+x.join(", ")+")");d.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===y.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")");d.widgetPositioning.vertical=e.vertical}return O(),f},f.calendarWeeks=function(e){if(0===arguments.length)return d.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return d.calendarWeeks=e,O(),f},f.showTodayButton=function(e){if(0===arguments.length)return d.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return d.showTodayButton=e,g&&(V(),W()),f},f.showClear=function(e){if(0===arguments.length)return d.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return d.showClear=e,g&&(V(),W()),f},f.widgetParent=function(e){if(0===arguments.length)return d.widgetParent;if("string"==typeof e&&(e=J(e)),null!==e&&"string"!=typeof e&&!(e instanceof J))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return d.widgetParent=e,g&&(V(),W()),f},f.keepOpen=function(e){if(0===arguments.length)return d.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return d.keepOpen=e,f},f.focusOnShow=function(e){if(0===arguments.length)return d.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return d.focusOnShow=e,f},f.inline=function(e){if(0===arguments.length)return d.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return d.inline=e,f},f.clear=function(){return B(),f},f.keyBinds=function(e){return 0===arguments.length?d.keyBinds:(d.keyBinds=e,f)},f.getMoment=function(e){return T(e)},f.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return d.debug=e,f},f.allowInputToggle=function(e){if(0===arguments.length)return d.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return d.allowInputToggle=e,f},f.showClose=function(e){if(0===arguments.length)return d.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return d.showClose=e,f},f.keepInvalid=function(e){if(0===arguments.length)return d.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return d.keepInvalid=e,f},f.datepickerInput=function(e){if(0===arguments.length)return d.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return d.datepickerInput=e,f},f.parseInputDate=function(e){if(0===arguments.length)return d.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return d.parseInputDate=e,f},f.disabledTimeIntervals=function(e){if(0===arguments.length)return d.disabledTimeIntervals?J.extend({},d.disabledTimeIntervals):d.disabledTimeIntervals;if(!e)return d.disabledTimeIntervals=!1,O(),f;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return d.disabledTimeIntervals=e,O(),f},f.disabledHours=function(e){if(0===arguments.length)return d.disabledHours?J.extend({},d.disabledHours):d.disabledHours;if(!e)return d.disabledHours=!1,O(),f;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(d.disabledHours=Z(e),d.enabledHours=!1,d.useCurrent&&!d.keepInvalid){for(var t=0;!R(u,"h");){if(u.add(1,"h"),24===t)throw"Tried 24 times to find a valid date";t++}L(u)}return O(),f},f.enabledHours=function(e){if(0===arguments.length)return d.enabledHours?J.extend({},d.enabledHours):d.enabledHours;if(!e)return d.enabledHours=!1,O(),f;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(d.enabledHours=Z(e),d.disabledHours=!1,d.useCurrent&&!d.keepInvalid){for(var t=0;!R(u,"h");){if(u.add(1,"h"),24===t)throw"Tried 24 times to find a valid date";t++}L(u)}return O(),f},f.viewDate=function(e){if(0===arguments.length)return h.clone();if(!e)return h=u.clone(),f;if(!("string"==typeof e||Q.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return h=z(e),A(),f},n.is("input"))i=n;else if(0===(i=n.find(d.datepickerInput)).length)i=n.find("input");else if(!i.is("input"))throw new Error('CSS class "'+d.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(m=0===n.find(".datepickerbutton").length?n.find(".input-group-addon"):n.find(".datepickerbutton")),!d.inline&&!i.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return u=T(),h=u.clone(),J.extend(!0,d,(c={},(s=n.is("input")||d.inline?n.data():n.find("input").data()).dateOptions&&s.dateOptions instanceof Object&&(c=J.extend(!0,c,s.dateOptions)),J.each(d,function(e){var t="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==s[t]&&(c[e]=s[t])}),c)),f.options(d),K(),i.on({change:q,blur:d.debug?"":V,keydown:H,keyup:Y,focus:d.allowInputToggle?W:""}),n.is("input")?i.on({focus:W}):m&&(m.on("click",j),m.on("mousedown",!1)),i.prop("disabled")&&f.disable(),i.is("input")&&0!==i.val().trim().length?L(z(i.val().trim())):d.defaultDate&&void 0===i.attr("placeholder")&&L(d.defaultDate),d.inline&&W(),f};return J.fn.datetimepicker=function(i){i=i||{};var t,a=Array.prototype.slice.call(arguments,1),o=!0;if("object"==typeof i)return this.each(function(){var e,t=J(this);t.data("DateTimePicker")||(e=J.extend(!0,{},J.fn.datetimepicker.defaults,i),t.data("DateTimePicker",n(t,e)))});if("string"==typeof i)return this.each(function(){var e=J(this).data("DateTimePicker");if(!e)throw new Error('bootstrap-datetimepicker("'+i+'") method was called on an element that is not using DateTimePicker');t=e[i].apply(e,a),o=t===e}),o||-1<J.inArray(i,["destroy","hide","show","toggle"])?this:t;throw new TypeError("Invalid arguments for DateTimePicker: "+i)},J.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:Q.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))}else this.show()},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e&&e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},J.fn.datetimepicker});var $jscomp={scope:{},findInternal:function(e,t,i){e instanceof String&&(e=String(e));for(var a=e.length,o=0;o<a;o++){var n=e[o];if(t.call(i,n,o,e))return{i:o,v:n}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){if(i.get||i.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=i.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,i,a){if(t){for(i=$jscomp.global,e=e.split("."),a=0;a<e.length-1;a++){var o=e[a];o in i||(i[o]={}),i=i[o]}(t=t(a=i[e=e[e.length-1]]))!=a&&null!=t&&$jscomp.defineProperty(i,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.find",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6-impl","es3"),function(e,t,i){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t||i)}(function(r){var s=function(c,y,x){var w={invalid:[],getCaret:function(){try{var e,t=0,i=c.get(0),a=document.selection,o=i.selectionStart;return a&&-1===navigator.appVersion.indexOf("MSIE 10")?((e=a.createRange()).moveStart("character",-w.val().length),t=e.text.length):(o||"0"===o)&&(t=o),t}catch(e){}},setCaret:function(e){try{if(c.is(":focus")){var t,i=c.get(0);i.setSelectionRange?i.setSelectionRange(e,e):((t=i.createTextRange()).collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select())}}catch(e){}},events:function(){c.on("keydown.mask",function(e){c.data("mask-keycode",e.keyCode||e.which),c.data("mask-previus-value",c.val()),c.data("mask-previus-caret-pos",w.getCaret()),w.maskDigitPosMapOld=w.maskDigitPosMap}).on(r.jMaskGlobals.useInput?"input.mask":"keyup.mask",w.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){c.keydown().keyup()},100)}).on("change.mask",function(){c.data("changed",!0)}).on("blur.mask",function(){n===w.val()||c.data("changed")||c.trigger("change"),c.data("changed",!1)}).on("blur.mask",function(){n=w.val()}).on("focus.mask",function(e){!0===x.selectOnFocus&&r(e.target).select()}).on("focusout.mask",function(){x.clearIfNotMatch&&!a.test(w.val())&&w.val("")})},getRegexMask:function(){for(var e,t,i,a,o=[],n=0;n<y.length;n++)(e=k.translation[y.charAt(n)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),i=e.optional,(e=e.recursive)?(o.push(y.charAt(n)),a={digit:y.charAt(n),pattern:t}):o.push(i||e?t+"?":t)):o.push(y.charAt(n).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=o.join(""),a&&(o=o.replace(new RegExp("("+a.digit+"(.*"+a.digit+")?)"),"($1)?").replace(new RegExp(a.digit,"g"),a.pattern)),new RegExp(o)},destroyEvents:function(){c.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(e){var t=c.is("input")?"val":"text";return 0<arguments.length?(c[t]()!==e&&c[t](e),t=c):t=c[t](),t},calculateCaretPosition:function(){var e=c.data("mask-previus-value")||"",t=w.getMasked(),i=w.getCaret();if(e!==t){var a,o=c.data("mask-previus-caret-pos")||0,n=(t=t.length,e.length),r=e=0,s=0,l=0;for(a=i;a<t&&w.maskDigitPosMap[a];a++)r++;for(a=i-1;0<=a&&w.maskDigitPosMap[a];a--)e++;for(a=i-1;0<=a;a--)w.maskDigitPosMap[a]&&s++;for(a=o-1;0<=a;a--)w.maskDigitPosMapOld[a]&&l++;n<i?i=10*t:i<=o&&o!==n?w.maskDigitPosMapOld[i]||(i=(o=i)-(l-s)-e,w.maskDigitPosMap[i]&&(i=o)):o<i&&(i=i+(s-l)+r)}return i},behaviour:function(e){e=e||window.event,w.invalid=[];var t=c.data("mask-keycode");if(-1===r.inArray(t,k.byPassKeys)){t=w.getMasked();var i=w.getCaret();return setTimeout(function(){w.setCaret(w.calculateCaretPosition())},10),w.val(t),w.setCaret(i),w.callbacks(e)}},getMasked:function(e,t){var i,a,o,n=[],r=void 0===t?w.val():t+"",s=0,l=y.length,c=0,d=r.length,u=1,h="push",f=-1,p=0,m=[];for(x.reverse?(h="unshift",u=-1,i=0,s=l-1,c=d-1,a=function(){return-1<s&&-1<c}):(i=l-1,a=function(){return s<l&&c<d});a();){var g=y.charAt(s),v=r.charAt(c),b=k.translation[g];b?(v.match(b.pattern)?(n[h](v),b.recursive&&(-1===f?f=s:s===i&&s!==f&&(s=f-u),i===f&&(s-=u)),s+=u):v===o?(p--,o=void 0):b.optional?(s+=u,c-=u):b.fallback?(n[h](b.fallback),s+=u,c-=u):w.invalid.push({p:c,v:v,e:b.pattern}),c+=u):(e||n[h](g),v===g?(m.push(c),c+=u):(o=g,m.push(c+p),p++),s+=u)}return r=y.charAt(i),l!==d+1||k.translation[r]||n.push(r),n=n.join(""),w.mapMaskdigitPositions(n,m,d),n},mapMaskdigitPositions:function(e,t,i){for(e=x.reverse?e.length-i:0,w.maskDigitPosMap={},i=0;i<t.length;i++)w.maskDigitPosMap[t[i]+e]=1},callbacks:function(e){var t=w.val(),i=t!==n,a=[t,e,c,x],o=function(e,t,i){"function"==typeof x[e]&&t&&x[e].apply(this,i)};o("onChange",!0===i,a),o("onKeyPress",!0===i,a),o("onComplete",t.length===y.length,a),o("onInvalid",0<w.invalid.length,[t,e,c,w.invalid,x])}};c=r(c);var a,k=this,n=w.val();y="function"==typeof y?y(w.val(),void 0,c,x):y,k.mask=y,k.options=x,k.remove=function(){var e=w.getCaret();return w.destroyEvents(),w.val(k.getCleanVal()),w.setCaret(e),c},k.getCleanVal=function(){return w.getMasked(!0)},k.getMaskedVal=function(e){return w.getMasked(!1,e)},k.init=function(e){if(e=e||!1,x=x||{},k.clearIfNotMatch=r.jMaskGlobals.clearIfNotMatch,k.byPassKeys=r.jMaskGlobals.byPassKeys,k.translation=r.extend({},r.jMaskGlobals.translation,x.translation),k=r.extend(!0,{},k,x),a=w.getRegexMask(),e)w.events(),w.val(w.getMasked());else{x.placeholder&&c.attr("placeholder",x.placeholder),c.data("mask")&&c.attr("autocomplete","off");for(var t=!(e=0);e<y.length;e++){var i=k.translation[y.charAt(e)];if(i&&i.recursive){t=!1;break}}t&&c.attr("maxlength",y.length),w.destroyEvents(),w.events(),e=w.getCaret(),w.val(w.getMasked()),w.setCaret(e)}},k.init(!c.is("input"))};r.maskWatchers={};var t=function(){var e=r(this),t={},i=e.attr("data-mask");if(e.attr("data-mask-reverse")&&(t.reverse=!0),e.attr("data-mask-clearifnotmatch")&&(t.clearIfNotMatch=!0),"true"===e.attr("data-mask-selectonfocus")&&(t.selectOnFocus=!0),l(e,i,t))return e.data("mask",new s(this,i,t))},l=function(e,t,i){i=i||{};var a=r(e).data("mask"),o=JSON.stringify;e=r(e).val()||r(e).text();try{return"function"==typeof t&&(t=t(e)),"object"!=typeof a||o(a.options)!==o(i)||a.mask!==t}catch(e){}},e=function(e){var t,i=document.createElement("div");return(t=(e="on"+e)in i)||(i.setAttribute(e,"return;"),t="function"==typeof i[e]),t};r.fn.mask=function(e,t){t=t||{};var i=this.selector,a=(o=r.jMaskGlobals).watchInterval,o=t.watchInputs||o.watchInputs,n=function(){if(l(this,e,t))return r(this).data("mask",new s(this,e,t))};return r(this).each(n),i&&""!==i&&o&&(clearInterval(r.maskWatchers[i]),r.maskWatchers[i]=setInterval(function(){r(document).find(i).each(n)},a)),this},r.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},r.fn.unmask=function(){return clearInterval(r.maskWatchers[this.selector]),delete r.maskWatchers[this.selector],this.each(function(){var e=r(this).data("mask");e&&e.remove().removeData("mask")})},r.fn.cleanVal=function(){return this.data("mask").getCleanVal()},r.applyDataMask=function(e){((e=e||r.jMaskGlobals.maskElements)instanceof r?e:r(e)).filter(r.jMaskGlobals.dataMaskAttr).each(t)},e={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&e("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},r.jMaskGlobals=r.jMaskGlobals||{},(e=r.jMaskGlobals=r.extend(!0,{},e,r.jMaskGlobals)).dataMask&&r.applyDataMask(),setInterval(function(){r.jMaskGlobals.watchDataMask&&r.applyDataMask()},e.watchInterval)},window.jQuery,window.Zepto),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):jQuery&&!jQuery.fn.colorpicker&&t(jQuery)}(0,function(c){"use strict";var n=function(e,t,i,a,o){this.fallbackValue=i?"string"==typeof i?this.parse(i):i:null,this.fallbackFormat=a||"rgba",this.hexNumberSignPrefix=!0===o,this.value=this.fallbackValue,this.origFormat=null,this.predefinedColors=t||{},this.colors=c.extend({},n.webColors,this.predefinedColors),e&&(void 0!==e.h?this.value=e:this.setColor(String(e))),this.value||(this.value={h:0,s:0,b:0,a:1})};n.webColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32",transparent:"transparent"};var r={horizontal:!(n.prototype={constructor:n,colors:{},predefinedColors:{},getValue:function(){return this.value},setValue:function(e){this.value=e},_sanitizeNumber:function(e){return"number"==typeof e?e:isNaN(e)||null===e||""===e||void 0===e?1:""===e?0:void 0!==e.toLowerCase?(e.match(/^\./)&&(e="0"+e),Math.ceil(100*parseFloat(e))/100):1},isTransparent:function(e){return!(!e||!("string"==typeof e||e instanceof String))&&("transparent"===(e=e.toLowerCase().trim())||e.match(/#?00000000/)||e.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/))},rgbaIsTransparent:function(e){return 0===e.r&&0===e.g&&0===e.b&&0===e.a},setColor:function(e){if(e=e.toLowerCase().trim()){if(this.isTransparent(e))return this.value={h:0,s:0,b:0,a:0},!0;var t=this.parse(e);t?(this.value=this.value={h:t.h,s:t.s,b:t.b,a:t.a},this.origFormat||(this.origFormat=t.format)):this.fallbackValue&&(this.value=this.fallbackValue)}return!1},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setBrightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=Math.round(parseInt(100*(1-e),10)/100*100)/100},toRGB:function(e,t,i,a){var o,n,r,s,l;return 0===arguments.length&&(e=this.value.h,t=this.value.s,i=this.value.b,a=this.value.a),e=(e*=360)%360/60,o=n=r=i-(l=i*t),o+=[l,s=l*(1-Math.abs(e%2-1)),0,0,s,l][e=~~e],n+=[s,l,l,s,0,0][e],r+=[0,0,s,l,l,s][e],{r:Math.round(255*o),g:Math.round(255*n),b:Math.round(255*r),a:a}},toHex:function(e,t,i,a,o){arguments.length<=1&&(t=this.value.h,i=this.value.s,a=this.value.b,o=this.value.a);var n="#",r=this.toRGB(t,i,a,o);return this.rgbaIsTransparent(r)?"transparent":(e||(n=this.hexNumberSignPrefix?"#":""),n+((1<<24)+(parseInt(r.r)<<16)+(parseInt(r.g)<<8)+parseInt(r.b)).toString(16).slice(1))},toHSL:function(e,t,i,a){0===arguments.length&&(e=this.value.h,t=this.value.s,i=this.value.b,a=this.value.a);var o=e,n=(2-t)*i,r=t*i;return r/=0<n&&n<=1?n:2-n,n/=2,1<r&&(r=1),{h:isNaN(o)?0:o,s:isNaN(r)?0:r,l:isNaN(n)?0:n,a:isNaN(a)?0:a}},toAlias:function(e,t,i,a){var o,n=0===arguments.length?this.toHex(!0):this.toHex(!0,e,t,i,a),r="alias"===this.origFormat?n:this.toString(!1,this.origFormat);for(var s in this.colors)if((o=this.colors[s].toLowerCase().trim())===n||o===r)return s;return!1},RGBtoHSB:function(e,t,i,a){var o,n,r,s;return e/=255,t/=255,i/=255,o=((o=0===(s=(r=Math.max(e,t,i))-Math.min(e,t,i))?null:r===e?(t-i)/s:r===t?(i-e)/s+2:(e-t)/s+4)+360)%6*60/360,n=0===s?0:s/r,{h:this._sanitizeNumber(o),s:n,b:r,a:this._sanitizeNumber(a)}},HueToRGB:function(e,t,i){return i<0?i+=1:1<i&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e},HSLtoRGB:function(e,t,i,a){var o;t<0&&(t=0);var n=2*i-(o=i<=.5?i*(1+t):i+t-i*t),r=e+1/3,s=e,l=e-1/3;return[Math.round(255*this.HueToRGB(n,o,r)),Math.round(255*this.HueToRGB(n,o,s)),Math.round(255*this.HueToRGB(n,o,l)),this._sanitizeNumber(a)]},parse:function(a){if("string"!=typeof a)return this.fallbackValue;if(0===arguments.length)return!1;var o,n,r=this,s=!1,l=void 0!==this.colors[a];return l&&(a=this.colors[a].toLowerCase().trim()),c.each(this.stringParsers,function(e,t){var i=t.re.exec(a);return!(o=i&&t.parse.apply(r,[i]))||(s={},n=l?"alias":t.format?t.format:r.getValidFallbackFormat(),(s=n.match(/hsla?/)?r.RGBtoHSB.apply(r,r.HSLtoRGB.apply(r,o)):r.RGBtoHSB.apply(r,o))instanceof Object&&(s.format=n),!1)}),s},getValidFallbackFormat:function(){var e=["rgba","rgb","hex","hsla","hsl"];return this.origFormat&&-1!==e.indexOf(this.origFormat)?this.origFormat:this.fallbackFormat&&-1!==e.indexOf(this.fallbackFormat)?this.fallbackFormat:"rgba"},toString:function(e,t,i){i=i||!1;var a=!1;switch(t=t||this.origFormat||this.fallbackFormat){case"rgb":return a=this.toRGB(),this.rgbaIsTransparent(a)?"transparent":"rgb("+a.r+","+a.g+","+a.b+")";case"rgba":return"rgba("+(a=this.toRGB()).r+","+a.g+","+a.b+","+a.a+")";case"hsl":return a=this.toHSL(),"hsl("+Math.round(360*a.h)+","+Math.round(100*a.s)+"%,"+Math.round(100*a.l)+"%)";case"hsla":return a=this.toHSL(),"hsla("+Math.round(360*a.h)+","+Math.round(100*a.s)+"%,"+Math.round(100*a.l)+"%,"+a.a+")";case"hex":return this.toHex(e);case"alias":return!1===(a=this.toAlias())?this.toString(e,this.getValidFallbackFormat()):i&&!(a in n.webColors)&&a in this.predefinedColors?this.predefinedColors[a]:a;default:return a}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(e){return[e[1],e[2],e[3],1]}},{re:/rgb\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/hsl\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/hsla\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1]}}],colorNameToHex:function(e){return void 0!==this.colors[e.toLowerCase()]&&this.colors[e.toLowerCase()]}}),inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",fallbackColor:!1,fallbackFormat:"hex",hexNumberSignPrefix:!0,sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',align:"right",customClass:null,colorSelectors:null},s=function(e,t){this.element=c(e).addClass("colorpicker-element"),this.options=c.extend(!0,{},r,this.element.data(),t),this.component=this.options.component,this.component=!1!==this.component&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=!0===this.options.container?this.element:this.options.container,this.container=!1!==this.container&&c(this.container),this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.color=this.createColor(!1!==this.options.color?this.options.color:this.getValue()),this.format=!1!==this.options.format?this.options.format:this.color.origFormat,!1!==this.options.color&&(this.updateInput(this.color),this.updateData(this.color)),this.disabled=!1;var i=this.picker=c(this.options.template);if(this.options.customClass&&i.addClass(this.options.customClass),this.options.inline?i.addClass("colorpicker-inline colorpicker-visible"):i.addClass("colorpicker-hidden"),this.options.horizontal&&i.addClass("colorpicker-horizontal"),-1===["rgba","hsla","alias"].indexOf(this.format)&&!1!==this.options.format&&"transparent"!==this.getValue()||i.addClass("colorpicker-with-alpha"),"right"===this.options.align&&i.addClass("colorpicker-right"),!0===this.options.inline&&i.addClass("colorpicker-no-arrow"),this.options.colorSelectors){var a=this,o=a.picker.find(".colorpicker-selectors");0<o.length&&(c.each(this.options.colorSelectors,function(e,t){var i=c("<i />").addClass("colorpicker-selectors-color").css("background-color",t).data("class",e).data("alias",e);i.on("mousedown.colorpicker touchstart.colorpicker",function(e){e.preventDefault(),a.setValue("alias"===a.format?c(this).data("alias"):c(this).css("background-color"))}),o.append(i)}),o.show().addClass("colorpicker-visible"))}i.on("mousedown.colorpicker touchstart.colorpicker",c.proxy(function(e){e.target===e.currentTarget&&e.preventDefault()},this)),i.find(".colorpicker-saturation, .colorpicker-hue, .colorpicker-alpha").on("mousedown.colorpicker touchstart.colorpicker",c.proxy(this.mousedown,this)),i.appendTo(this.container?this.container:c("body")),!1!==this.input&&(this.input.on({"keyup.colorpicker":c.proxy(this.keyup,this)}),this.input.on({"input.colorpicker":c.proxy(this.change,this)}),!1===this.component&&this.element.on({"focus.colorpicker":c.proxy(this.show,this)}),!1===this.options.inline&&this.element.on({"focusout.colorpicker":c.proxy(this.hide,this)})),!1!==this.component&&this.component.on({"click.colorpicker":c.proxy(this.show,this)}),!1===this.input&&!1===this.component&&this.element.on({"click.colorpicker":c.proxy(this.show,this)}),!1!==this.input&&!1!==this.component&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":c.proxy(this.show,this),"focus.colorpicker":c.proxy(this.show,this)}),this.update(),c(c.proxy(function(){this.element.trigger("create")},this))};s.Color=n,s.prototype={constructor:s,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker","color").off(".colorpicker"),!1!==this.input&&this.input.off(".colorpicker"),!1!==this.component&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(!1!==this.options.inline||this.options.container)return!1;var e=this.container&&this.container[0]!==window.document.body?"position":"offset",t=this.component||this.element,i=t[e]();"right"===this.options.align&&(i.left-=this.picker.outerWidth()-t.outerWidth()),this.picker.css({top:i.top+t.outerHeight(),left:i.left})},show:function(e){this.isDisabled()||(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),c(window).on("resize.colorpicker",c.proxy(this.reposition,this)),!e||this.hasInput()&&"color"!==this.input.attr("type")||e.stopPropagation&&e.preventDefault&&(e.stopPropagation(),e.preventDefault()),!this.component&&this.input||!1!==this.options.inline||c(window.document).on({"mousedown.colorpicker":c.proxy(this.hide,this)}),this.element.trigger({type:"showPicker",color:this.color}))},hide:function(e){if(void 0!==e&&e.target&&(0<c(e.currentTarget).parents(".colorpicker").length||0<c(e.target).parents(".colorpicker").length))return!1;this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),c(window).off("resize.colorpicker",this.reposition),c(window.document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(e){return e=e||this.color.toString(!1,this.format),this.element.data("color",e),e},updateInput:function(e){return e=e||this.color.toString(!1,this.format),!1!==this.input&&(this.input.prop("value",e),this.input.trigger("change")),e},updatePicker:function(e){void 0!==e&&(this.color=this.createColor(e));var t=!1===this.options.horizontal?this.options.sliders:this.options.slidersHorz,i=this.picker.find("i");if(0!==i.length)return!1===this.options.horizontal?(t=this.options.sliders,i.eq(1).css("top",t.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",t.alpha.maxTop*(1-this.color.value.a))):(t=this.options.slidersHorz,i.eq(1).css("left",t.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",t.alpha.maxLeft*(1-this.color.value.a))),i.eq(0).css({top:t.saturation.maxTop-this.color.value.b*t.saturation.maxTop,left:this.color.value.s*t.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(!0,this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex(!0)),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(!0,this.format)),e},updateComponent:function(e){var t;if(t=void 0!==e?this.createColor(e):this.color,!1!==this.component){var i=this.component.find("i").eq(0);0<i.length?i.css({backgroundColor:t.toString(!0,this.format)}):this.component.css({backgroundColor:t.toString(!0,this.format)})}return t.toString(!1,this.format)},update:function(e){var t;return!1===this.getValue(!1)&&!0!==e||(t=this.updateComponent(),this.updateInput(t),this.updateData(t),this.updatePicker()),t},setValue:function(e){this.color=this.createColor(e),this.update(!0),this.element.trigger({type:"changeColor",color:this.color,value:e})},createColor:function(e){return new n(e||null,this.options.colorSelectors,this.options.fallbackColor?this.options.fallbackColor:this.color,this.options.fallbackFormat,this.options.hexNumberSignPrefix)},getValue:function(e){var t;return e=void 0===e?this.options.fallbackColor:e,void 0!==(t=this.hasInput()?this.input.val():this.element.data("color"))&&""!==t&&null!==t||(t=e),t},hasInput:function(){return!1!==this.input},isDisabled:function(){return this.disabled},disable:function(){return this.hasInput()&&this.input.prop("disabled",!0),this.disabled=!0,this.element.trigger({type:"disable",color:this.color,value:this.getValue()}),!0},enable:function(){return this.hasInput()&&this.input.prop("disabled",!1),this.disabled=!1,this.element.trigger({type:"enable",color:this.color,value:this.getValue()}),!0},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(e){!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var t=c(e.target).closest("div"),i=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!t.is(".colorpicker")){if(t.is(".colorpicker-saturation"))this.currentSlider=c.extend({},i.saturation);else if(t.is(".colorpicker-hue"))this.currentSlider=c.extend({},i.hue);else{if(!t.is(".colorpicker-alpha"))return!1;this.currentSlider=c.extend({},i.alpha)}var a=t.offset();this.currentSlider.guide=t.find("i")[0].style,this.currentSlider.left=e.pageX-a.left,this.currentSlider.top=e.pageY-a.top,this.mousePointer={left:e.pageX,top:e.pageY},c(window.document).on({"mousemove.colorpicker":c.proxy(this.mousemove,this),"touchmove.colorpicker":c.proxy(this.mousemove,this),"mouseup.colorpicker":c.proxy(this.mouseup,this),"touchend.colorpicker":c.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(e){!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var t=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left))),i=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=t+"px",this.currentSlider.guide.top=i+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,t/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,i/this.currentSlider.maxTop),!1!==this.options.format||"setAlpha"!==this.currentSlider.callTop&&"setAlpha"!==this.currentSlider.callLeft||(1!==this.color.value.a?(this.format="rgba",this.color.origFormat="rgba"):(this.format="hex",this.color.origFormat="hex")),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),c(window.document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},change:function(e){this.color=this.createColor(this.input.val()),this.color.origFormat&&!1===this.options.format&&(this.format=this.color.origFormat),!1!==this.getValue(!1)&&(this.updateData(),this.updateComponent(),this.updatePicker()),this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})},keyup:function(e){38===e.keyCode?(this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0)):40===e.keyCode&&(0<this.color.value.a&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0)),this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})}},c.colorpicker=s,c.fn.colorpicker=function(i){var a=Array.prototype.slice.call(arguments,1),e=1===this.length,o=null,t=this.each(function(){var e=c(this),t=e.data("colorpicker");t||(t=new s(this,"object"==typeof i?i:{}),e.data("colorpicker",t)),"string"==typeof i?c.isFunction(t[i])?o=t[i].apply(t,a):(a.length&&(t[i]=a[0]),o=t[i]):o=e});return e?o:t},c.fn.colorpicker.constructor=s}),function(k){"use strict";var _=0;function C(e,t){return k.map(e,function(e){return e+".touchspin_"+t})}k.fn.TouchSpin=function(y){if("destroy"!==y){var x={min:0,max:100,initval:"",replacementval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},w={min:"min",max:"max",initval:"init-val",replacementval:"replacement-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){var s,l,o,i,e,t,a,n,c=k(this),r=c.data(),d=0,u=!1;function h(){var e,t,i;""!==(e=c.val())?0<s.decimals&&"."===e||(t=parseFloat(e),isNaN(t)&&(t=""!==s.replacementval?s.replacementval:0),(i=t).toString()!==e&&(i=t),t<s.min&&(i=s.min),t>s.max&&(i=s.max),i=function(e){switch(s.forcestepdivisibility){case"round":return(Math.round(e/s.step)*s.step).toFixed(s.decimals);case"floor":return(Math.floor(e/s.step)*s.step).toFixed(s.decimals);case"ceil":return(Math.ceil(e/s.step)*s.step).toFixed(s.decimals);default:return e}}(i),Number(e).toString()!==i.toString()&&(c.val(i),c.trigger("change"))):""!==s.replacementval&&(c.val(s.replacementval),c.trigger("change"))}function f(){if(s.booster){var e=Math.pow(2,Math.floor(d/s.boostat))*s.step;return s.maxboostedstep&&e>s.maxboostedstep&&(e=s.maxboostedstep,i=Math.round(i/e)*e),Math.max(s.step,e)}return s.step}function p(){h(),i=parseFloat(o.input.val()),isNaN(i)&&(i=0);var e=i,t=f();(i+=t)>s.max&&(i=s.max,c.trigger("touchspin.on.max"),b()),o.input.val(Number(i).toFixed(s.decimals)),e!==i&&c.trigger("change")}function m(){h(),i=parseFloat(o.input.val()),isNaN(i)&&(i=0);var e=i,t=f();(i-=t)<s.min&&(i=s.min,c.trigger("touchspin.on.min"),b()),o.input.val(i.toFixed(s.decimals)),e!==i&&c.trigger("change")}function g(){b(),d=0,u="down",c.trigger("touchspin.on.startspin"),c.trigger("touchspin.on.startdownspin"),a=setTimeout(function(){e=setInterval(function(){d++,m()},s.stepinterval)},s.stepintervaldelay)}function v(){b(),d=0,u="up",c.trigger("touchspin.on.startspin"),c.trigger("touchspin.on.startupspin"),n=setTimeout(function(){t=setInterval(function(){d++,p()},s.stepinterval)},s.stepintervaldelay)}function b(){switch(clearTimeout(a),clearTimeout(n),clearInterval(e),clearInterval(t),u){case"up":c.trigger("touchspin.on.stopupspin"),c.trigger("touchspin.on.stopspin");break;case"down":c.trigger("touchspin.on.stopdownspin"),c.trigger("touchspin.on.stopspin")}d=0,u=!1}!function(){if(c.data("alreadyinitialized"))return;if(c.data("alreadyinitialized",!0),_+=1,c.data("spinnerid",_),!c.is("input"))return console.log("Must be an input.");s=k.extend({},x,r,(a={},k.each(w,function(e,t){var i="bts-"+t;c.is("[data-"+i+"]")&&(a[e]=c.data(i))}),a),y),""!==s.initval&&""===c.val()&&c.val(s.initval),h(),function(){var e=c.val(),t=c.parent();""!==e&&(e=Number(e).toFixed(s.decimals));c.data("initvalue",e).val(e),c.addClass("form-control"),t.hasClass("input-group")?function(e){e.addClass("bootstrap-touchspin");var t,i,a=c.prev(),o=c.next(),n='<span class="input-group-addon bootstrap-touchspin-prefix">'+s.prefix+"</span>",r='<span class="input-group-addon bootstrap-touchspin-postfix">'+s.postfix+"</span>";a.hasClass("input-group-btn")?(t='<button class="'+s.buttondown_class+' bootstrap-touchspin-down" type="button">'+s.buttondown_txt+"</button>",a.append(t)):(t='<span class="input-group-btn"><button class="'+s.buttondown_class+' bootstrap-touchspin-down" type="button">'+s.buttondown_txt+"</button></span>",k(t).insertBefore(c));o.hasClass("input-group-btn")?(i='<button class="'+s.buttonup_class+' bootstrap-touchspin-up" type="button">'+s.buttonup_txt+"</button>",o.prepend(i)):(i='<span class="input-group-btn"><button class="'+s.buttonup_class+' bootstrap-touchspin-up" type="button">'+s.buttonup_txt+"</button></span>",k(i).insertAfter(c));k(n).insertBefore(c),k(r).insertAfter(c),l=e}(t):function(){var e;e=s.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+s.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+s.postfix+'</span><span class="input-group-btn-vertical"><button class="'+s.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+s.verticalupclass+'"></i></button><button class="'+s.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+s.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+s.buttondown_class+' bootstrap-touchspin-down" type="button">'+s.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+s.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+s.postfix+'</span><span class="input-group-btn"><button class="'+s.buttonup_class+' bootstrap-touchspin-up" type="button">'+s.buttonup_txt+"</button></span></div>";l=k(e).insertBefore(c),k(".bootstrap-touchspin-prefix",l).after(c),c.hasClass("input-sm")?l.addClass("input-group-sm"):c.hasClass("input-lg")&&l.addClass("input-group-lg")}()}(),o={down:k(".bootstrap-touchspin-down",l),up:k(".bootstrap-touchspin-up",l),input:k("input",l),prefix:k(".bootstrap-touchspin-prefix",l).addClass(s.prefix_extraclass),postfix:k(".bootstrap-touchspin-postfix",l).addClass(s.postfix_extraclass)},function(){""===s.prefix&&o.prefix.hide();""===s.postfix&&o.postfix.hide()}(),c.on("keydown",function(e){var t=e.keyCode||e.which;38===t?("up"!==u&&(p(),v()),e.preventDefault()):40===t&&("down"!==u&&(m(),g()),e.preventDefault())}),c.on("keyup",function(e){var t=e.keyCode||e.which;38===t?b():40===t&&b()}),c.on("blur",function(){h()}),o.down.on("keydown",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||("down"!==u&&(m(),g()),e.preventDefault())}),o.down.on("keyup",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||b()}),o.up.on("keydown",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||("up"!==u&&(p(),v()),e.preventDefault())}),o.up.on("keyup",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||b()}),o.down.on("mousedown.touchspin",function(e){o.down.off("touchstart.touchspin"),c.is(":disabled")||(m(),g(),e.preventDefault(),e.stopPropagation())}),o.down.on("touchstart.touchspin",function(e){o.down.off("mousedown.touchspin"),c.is(":disabled")||(m(),g(),e.preventDefault(),e.stopPropagation())}),o.up.on("mousedown.touchspin",function(e){o.up.off("touchstart.touchspin"),c.is(":disabled")||(p(),v(),e.preventDefault(),e.stopPropagation())}),o.up.on("touchstart.touchspin",function(e){o.up.off("mousedown.touchspin"),c.is(":disabled")||(p(),v(),e.preventDefault(),e.stopPropagation())}),o.up.on("mouseout touchleave touchend touchcancel",function(e){u&&(e.stopPropagation(),b())}),o.down.on("mouseout touchleave touchend touchcancel",function(e){u&&(e.stopPropagation(),b())}),o.down.on("mousemove touchmove",function(e){u&&(e.stopPropagation(),e.preventDefault())}),o.up.on("mousemove touchmove",function(e){u&&(e.stopPropagation(),e.preventDefault())}),k(document).on(C(["mouseup","touchend","touchcancel"],_).join(" "),function(e){u&&(e.preventDefault(),b())}),k(document).on(C(["mousemove","touchmove","scroll","scrollstart"],_).join(" "),function(e){u&&(e.preventDefault(),b())}),c.on("mousewheel DOMMouseScroll",function(e){if(s.mousewheel&&c.is(":focus")){var t=e.originalEvent.wheelDelta||-e.originalEvent.deltaY||-e.originalEvent.detail;e.stopPropagation(),e.preventDefault(),t<0?m():p()}}),c.on("touchspin.uponce",function(){b(),p()}),c.on("touchspin.downonce",function(){b(),m()}),c.on("touchspin.startupspin",function(){v()}),c.on("touchspin.startdownspin",function(){g()}),c.on("touchspin.stopspin",function(){b()}),c.on("touchspin.updatesettings",function(e,t){!function(e){var t;t=e,s=k.extend({},s,t),t.postfix&&c.parent().find(".bootstrap-touchspin-postfix").text(t.postfix),t.prefix&&c.parent().find(".bootstrap-touchspin-prefix").text(t.prefix),h();var i=o.input.val();""!==i&&(i=Number(o.input.val()),o.input.val(i.toFixed(s.decimals)))}(t)}),o.input.css("display","block");var a}()})}this.each(function(){var e=k(this).data();k(document).off(C(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],e.spinnerid).join(" "))})}}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(M){"use strict";var n,A,$,a,t,f,k,o,c,r,s,y,e,i,l,d,u,h,p,w,m,R,N,O,L,g,_,C,v,b;M.fn.fileinputLocales={},n=".fileinput",A=window.URL||window.webkitURL,$=function(e,t,i){return void 0!==e&&(i?e===t:e.match(t))},a=function(e){if("Microsoft Internet Explorer"!==navigator.appName)return!1;if(10===e)return new RegExp("msie\\s"+e,"i").test(navigator.userAgent);var t,i=document.createElement("div");return i.innerHTML="\x3c!--[if IE "+e+"]> <i></i> <![endif]--\x3e",t=i.getElementsByTagName("i").length,document.body.appendChild(i),i.parentNode.removeChild(i),t},t=function(){return new RegExp("Edge/[0-9]+","i").test(navigator.userAgent)},f=function(e,t,i,a){var o=a?t:t.split(" ").join(n+" ")+n;e.off(o).on(o,i)},k={data:{},init:function(n){var e=n.initialPreview,t=n.id;0<e.length&&!O(e)&&(e=e.split(n.initialPreviewDelimiter)),k.data[t]={content:e,config:n.initialPreviewConfig,tags:n.initialPreviewThumbTags,delimiter:n.initialPreviewDelimiter,template:n.previewGenericTemplate,msg:function(e){return n._getMsgSelected(e)},initId:n.previewInitId,footer:n._getLayoutTemplate("footer").replace(/\{progress}/g,n._renderThumbProgress()),isDelete:n.initialPreviewShowDelete,caption:n.initialCaption,actions:function(e,t,i,a,o){return n._renderFileActions(e,t,i,a,o)}}},fetch:function(e){return k.data[e].content.filter(function(e){return null!==e})},count:function(e,t){return k.data[e]&&k.data[e].content?t?k.data[e].content.length:k.fetch(e).length:0},get:function(e,t,i){var a,o,n="init_"+t,r=k.data[e],s=r.config[t],l=r.initId+"-"+n,c=" file-preview-initial";return i=void 0===i||i,null===r.content[t]?"":(N(s)||N(s.frameClass)||(c+=" "+s.frameClass),a=r.template.replace(/\{previewId}/g,l).replace(/\{frameClass}/g,c).replace(/\{fileindex}/g,n).replace(/\{content}/g,r.content[t]).replace(/\{footer}/g,k.footer(e,t,i)),r.tags.length&&r.tags[t]&&(a=v(a,r.tags[t])),N(s)||N(s.frameAttr)||((o=M(document.createElement("div")).html(a)).find(".file-preview-initial").attr(s.frameAttr),a=o.html(),o.remove()),a)},add:function(e,t,i,a,o){var n,r=M.extend(!0,{},k.data[e]);return O(t)||(t=t.split(r.delimiter)),o?(n=r.content.push(t)-1,r.config[n]=i,r.tags[n]=a):(n=t.length,r.content=t,r.config=i,r.tags=a),k.data[e]=r,n},set:function(e,t,i,a,o){var n,r=M.extend(!0,{},k.data[e]);if(t&&t.length&&(O(t)||(t=t.split(r.delimiter)),t.filter(function(e){return null!==e}).length)){if(void 0===r.content&&(r.content=[]),void 0===r.config&&(r.config=[]),void 0===r.tags&&(r.tags=[]),o){for(n=0;n<t.length;n++)t[n]&&r.content.push(t[n]);for(n=0;n<i.length;n++)i[n]&&r.config.push(i[n]);for(n=0;n<a.length;n++)a[n]&&r.tags.push(a[n])}else r.content=t,r.config=i,r.tags=a;k.data[e]=r}},unset:function(e,t){var i=k.count(e);if(i){if(1===i)return k.data[e].content=[],void(k.data[e].config=[]);k.data[e].content[t]=null,k.data[e].config[t]=null}},out:function(e){var t="",i=k.data[e],a=k.count(e,!0);if(0===a)return{content:"",caption:""};for(var o=0;o<a;o++)t+=k.get(e,o);return{content:t,caption:i.msg(k.count(e))}},footer:function(e,t,i){var a=k.data[e];if(i=void 0===i||i,0===a.config.length||N(a.config[t]))return"";var o=a.config[t],n=L("caption",o)?o.caption:"",r=L("width",o)?o.width:"auto",s=!!L("url",o)&&o.url,l=L("key",o)?o.key:null,c=!1===s&&i,d=a.isDelete?a.actions(!1,!0,c,s,l):"";return a.footer.replace(/\{actions}/g,d).replace(/\{caption}/g,n).replace(/\{width}/g,r).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,"")}},o=function(e,t){return t=t||0,"number"==typeof e?e:("string"==typeof e&&(e=parseFloat(e)),isNaN(e)?t:e)},c=function(){return!(!window.File||!window.FileReader)},r=function(){var e=document.createElement("div");return!a(9)&&!t()&&(void 0!==e.draggable||void 0!==e.ondragstart&&void 0!==e.ondrop)},s=function(){return c()&&window.FormData},y=function(e,t){e.removeClass(t).addClass(t)},d={removeIcon:'<i class="glyphicon glyphicon-trash text-danger"></i>',removeClass:"btn btn-xs btn-default",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload text-info"></i>',uploadClass:"btn btn-xs btn-default",uploadTitle:"Upload file",indicatorNew:'<i class="glyphicon glyphicon-hand-down text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hand-up text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."},l='<div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',e='style="width:{width};height:{height};"',i='      <param name="controller" value="true" />\n      <param name="allowFullScreen" value="true" />\n      <param name="allowScriptAccess" value="always" />\n      <param name="autoPlay" value="false" />\n      <param name="autoStart" value="false" />\n      <param name="quality" value="high" />\n',u={main1:'{preview}\n<div class="kv-upload-progress hide"></div>\n<div class="input-group {class}">\n   {caption}\n   <div class="input-group-btn">\n       {remove}\n       {cancel}\n       {upload}\n       {browse}\n   </div>\n</div>',main2:'{preview}\n<div class="kv-upload-progress hide"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',preview:'<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',close:'<div class="close fileinput-remove">&times;</div>\n',zoom:'<button type="button" class="btn btn-default btn-xs btn-block" title="{zoomTitle}: {caption}" onclick="{dialog}">\n   {zoomInd}\n</button>\n',icon:'<span class="glyphicon glyphicon-file kv-caption-icon"></span>',caption:'<div tabindex="500" class="form-control file-caption {class}">\n   <div class="file-caption-name"></div>\n</div>\n',modal:'<div id="{id}" class="file-preview-detail-modal modal fade" tabindex="-1">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h3 class="modal-title">{heading} <small>{title}</small></h3>\n      </div>\n      <div class="modal-body">\n           <pre>{body}</pre>\n      </div>\n    </div>\n  </div>\n</div>',progress:'<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {percent}%\n     </div>\n</div>',footer:'<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">{caption}</div>\n    {progress} {actions}\n</div>',actions:'<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload}{delete}{other}    </div>\n    <div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>\n    <div class="clearfix"></div>\n</div>',actionDelete:'<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n',actionUpload:'<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">   {uploadIcon}\n</button>\n',btnDefault:'<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon}{label}</button>',btnLink:'<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon}{label}</a>',btnBrowse:'<div tabindex="500" class="{css}" {status}>{icon}{label}</div>'},h={generic:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   {content}\n   {footer}\n</div>\n',html:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n    <object class="file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n       <div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n    </object>\n   {footer}\n</div>',image:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   <img src="{data}" class="file-preview-image" title="{caption}" alt="{caption}" style="width:{width};height:{height};">\n   {footer}\n</div>\n',text:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   <pre class="file-preview-text" title="{caption}" style="width:{width};height:{height};">{data}</pre>\n   {zoom}\n   {footer}\n</div>',video:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" style="width:{width};height:{height};">\n   <video width="{width}" height="{height}" controls>\n       <source src="{data}" type="{type}">\n       <div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n   </video>\n   {footer}\n</div>\n',audio:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" style="width:{width};height:{height};">\n   <audio controls>\n       <source src="{data}" type="{type}">\n       <div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n   </audio>\n   {footer}\n</div>',flash:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" style="width:{width};height:{height};">\n   <object class="file-object" type="application/x-shockwave-flash" width="{width}" height="{height}" data="{data}">\n      <param name="controller" value="true" />\n      <param name="allowFullScreen" value="true" />\n      <param name="allowScriptAccess" value="always" />\n      <param name="autoPlay" value="false" />\n      <param name="autoStart" value="false" />\n      <param name="quality" value="high" />\n       <div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n   </object>\n   {footer}\n</div>\n',object:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" style="width:{width};height:{height};">\n   <object class="file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n       <param name="movie" value="{caption}" />\n      <param name="controller" value="true" />\n      <param name="allowFullScreen" value="true" />\n      <param name="allowScriptAccess" value="always" />\n      <param name="autoPlay" value="false" />\n      <param name="autoStart" value="false" />\n      <param name="quality" value="high" />\n         <div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n   </object>\n   {footer}\n</div>',other:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" style="width:{width};height:{height};">\n   <div class="file-preview-other-frame">\n   <div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n   </div>\n   <div class="file-preview-other-footer">{footer}</div>\n</div>'},p=["image","html","text","video","audio","flash","object"],w={image:{width:"auto",height:"160px"},html:{width:"213px",height:"160px"},text:{width:"160px",height:"136px"},video:{width:"213px",height:"160px"},audio:{width:"213px",height:"80px"},flash:{width:"213px",height:"160px"},object:{width:"160px",height:"160px"},other:{width:"160px",height:"160px"}},R={image:function(e,t){return $(e,"image.*")||$(t,/\.(gif|png|jpe?g)$/i)},html:function(e,t){return $(e,"text/html")||$(t,/\.(htm|html)$/i)},text:function(e,t){return $(e,"text.*")||$(e,/\.(xml|javascript)$/i)||$(t,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,t){return $(e,"video.*")&&($(e,/(ogg|mp4|mp?g|webm|3gp)$/i)||$(t,/\.(og?|mp4|webm|mp?g|3gp)$/i))},audio:function(e,t){return $(e,"audio.*")&&($(e,/(ogg|mp3|mp?g|wav)$/i)||$(t,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(e,t){return $(e,"application/x-shockwave-flash",!0)||$(t,/\.(swf)$/i)},object:function(e,t){return $(e,"application/pdf",!0)||$(t,/\.(pdf)$/i)},other:function(){return!0}},N=function(e,t){return null==e||0===e.length||t&&""===M.trim(e)},O=function(e){return Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)},L=function(e,t){return"object"==typeof t&&e in t},g=function(e,t,i){return N(e)||N(e[t])?i:M(e[t])},_=function(){return Math.round((new Date).getTime()+100*Math.random())},C=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},v=function(e,t){var i=e;return t&&M.each(t,function(e,t){"function"==typeof t&&(t=t()),i=i.split(e).join(t)}),i},b=function(e){var t=e.is("img")?e.attr("src"):e.find("source").attr("src");A.revokeObjectURL(t)},(m=function(e,t){var i=this;i.$element=M(e),i._validate()&&(i.isPreviewable=c(),i.isIE9=a(9),i.isIE10=a(10),i.isPreviewable||i.isIE9?(i._init(t),i._listen()):i.$element.removeClass("file-loading"))}).prototype={constructor:m,_init:function(e){var t,i=this,a=i.$element;M.each(e,function(e,t){switch(e){case"minFileCount":case"maxFileCount":case"maxFileSize":i[e]=o(t);break;default:i[e]=t}}),i.fileInputCleared=!1,i.fileBatchCompleted=!0,i.isPreviewable||(i.showPreview=!1),i.uploadFileAttr=N(a.attr("name"))?"file_data":a.attr("name"),i.reader=null,i.formdata={},i.clearStack(),i.uploadCount=0,i.uploadStatus={},i.uploadLog=[],i.uploadAsyncCount=0,i.loadedImages=[],i.totalImagesCount=0,i.ajaxRequests=[],i.isError=!1,i.ajaxAborted=!1,i.cancelling=!1,t=i._getLayoutTemplate("progress"),i.progressTemplate=t.replace("{class}",i.progressClass),i.progressCompleteTemplate=t.replace("{class}",i.progressCompleteClass),i.progressErrorTemplate=t.replace("{class}",i.progressErrorClass),i.dropZoneEnabled=r()&&i.dropZoneEnabled,i.isDisabled=i.$element.attr("disabled")||i.$element.attr("readonly"),i.isUploadable=s()&&!N(i.uploadUrl),i.slug="function"==typeof e.slugCallback?e.slugCallback:i._slugDefault,i.mainTemplate=i.showCaption?i._getLayoutTemplate("main1"):i._getLayoutTemplate("main2"),i.captionTemplate=i._getLayoutTemplate("caption"),i.previewGenericTemplate=i._getPreviewTemplate("generic"),i.resizeImage&&(i.maxImageWidth||i.maxImageHeight)&&(i.imageCanvas=document.createElement("canvas"),i.imageCanvasContext=i.imageCanvas.getContext("2d")),N(i.$element.attr("id"))&&i.$element.attr("id",_()),void 0===i.$container?i.$container=i._createContainer():i._refreshContainer(),i.$dropZone=i.$container.find(".file-drop-zone"),i.$progress=i.$container.find(".kv-upload-progress"),i.$btnUpload=i.$container.find(".fileinput-upload"),i.$captionContainer=g(e,"elCaptionContainer",i.$container.find(".file-caption")),i.$caption=g(e,"elCaptionText",i.$container.find(".file-caption-name")),i.$previewContainer=g(e,"elPreviewContainer",i.$container.find(".file-preview")),i.$preview=g(e,"elPreviewImage",i.$container.find(".file-preview-thumbnails")),i.$previewStatus=g(e,"elPreviewStatus",i.$container.find(".file-preview-status")),i.$errorContainer=g(e,"elErrorContainer",i.$previewContainer.find(".kv-fileinput-error")),N(i.msgErrorClass)||y(i.$errorContainer,i.msgErrorClass),i.$errorContainer.hide(),i.fileActionSettings=M.extend(!0,d,e.fileActionSettings),i.previewInitId="preview-"+_(),i.id=i.$element.attr("id"),k.init(i),i._initPreview(!0),i._initPreviewDeletes(),i.options=e,i._setFileDropZoneTitle(),i.$element.removeClass("file-loading"),i.$element.attr("disabled")&&i.disable()},_validate:function(){return"file"===this.$element.attr("type")||('<div class="help-block alert alert-warning"><h4>Invalid Input Type</h4>You must set an input <code>type = file</code> for <b>bootstrap-fileinput</b> plugin to initialize.</div>',this.$element.after('<div class="help-block alert alert-warning"><h4>Invalid Input Type</h4>You must set an input <code>type = file</code> for <b>bootstrap-fileinput</b> plugin to initialize.</div>'),!1)},_errorsExist:function(){var e;return!!this.$errorContainer.find("li").length||((e=M(document.createElement("div")).html(this.$errorContainer.html())).find("span.kv-error-close").remove(),e.find("ul").remove(),!!M.trim(e.text()).length)},_errorHandler:function(e,t){var i=this,a=e.target.error;a.code===a.NOT_FOUND_ERR?i._showError(i.msgFileNotFound.replace("{name}",t)):a.code===a.SECURITY_ERR?i._showError(i.msgFileSecured.replace("{name}",t)):a.code===a.NOT_READABLE_ERR?i._showError(i.msgFileNotReadable.replace("{name}",t)):a.code===a.ABORT_ERR?i._showError(i.msgFilePreviewAborted.replace("{name}",t)):i._showError(i.msgFilePreviewError.replace("{name}",t))},_addError:function(e){var t=this.$errorContainer;e&&t.length&&(t.html(this.errorCloseButton+e),f(t.find(".kv-error-close"),"click",function(){t.fadeOut("slow")}))},_resetErrors:function(e){var t=this.$errorContainer;this.isError=!1,this.$container.removeClass("has-error"),t.html(""),e?t.fadeOut("slow"):t.hide()},_showFolderError:function(e){var t,i=this,a=i.$errorContainer;e&&(t=i.msgFoldersNotAllowed.replace(/\{n}/g,e),i._addError(t),y(i.$container,"has-error"),a.fadeIn(800),i._raise("filefoldererror",[e,t]))},_showUploadError:function(e,t,i){var a=this,o=a.$errorContainer,n=i||"fileuploaderror",r=t&&t.id?'<li data-file-id="'+t.id+'">'+e+"</li>":"<li>"+e+"</li>";return 0===o.find("ul").length?a._addError("<ul>"+r+"</ul>"):o.find("ul").append(r),o.fadeIn(800),a._raise(n,[t,e]),a.$container.removeClass("file-input-new"),y(a.$container,"has-error"),!0},_showError:function(e,t,i){var a=this,o=a.$errorContainer,n=i||"fileerror";return(t=t||{}).reader=a.reader,a._addError(e),o.fadeIn(800),a._raise(n,[t,e]),a.isUploadable||a._clearFileInput(),a.$container.removeClass("file-input-new"),y(a.$container,"has-error"),a.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(e){var t=this,i=1<t.minFileCount?t.filePlural:t.fileSingle,a=t.msgFilesTooLess.replace("{n}",t.minFileCount).replace("{files}",i),o=t.$errorContainer;t._addError(a),t.isError=!0,t._updateFileDetails(0),o.fadeIn(800),t._raise("fileerror",[e,a]),t._clearFileInput(),y(t.$container,"has-error")},_parseError:function(e,t,i){var a=this,o=M.trim(t+""),n="."===o.slice(-1)?"":".",r=void 0!==e.responseJSON&&void 0!==e.responseJSON.error?e.responseJSON.error:e.responseText;return a.cancelling&&a.msgUploadAborted&&(o=a.msgUploadAborted),a.showAjaxErrorDetails&&r?o+=n+(r=0<(r=M.trim(r.replace(/\n\s*\n/g,"\n"))).length?"<pre>"+r+"</pre>":""):o+=n,a.cancelling=!1,i?"<b>"+i+": </b>"+o:o},_parseFileType:function(e){var t,i,a;for(a=0;a<p.length;a+=1)if(t=(L(i=p[a],this.fileTypeSettings)?this.fileTypeSettings[i]:R[i])(e.type,e.name)?i:"",!N(t))return t;return"other"},_parseFilePreviewIcon:function(e,t){var i,a=this,o=a.previewFileIcon;return t&&-1<t.indexOf(".")&&(i=t.split(".").pop(),a.previewFileIconSettings&&a.previewFileIconSettings[i]&&(o=a.previewFileIconSettings[i]),a.previewFileExtSettings&&M.each(a.previewFileExtSettings,function(e,t){a.previewFileIconSettings[e]&&t(i)&&(o=a.previewFileIconSettings[e])})),-1<e.indexOf("{previewFileIcon}")?e.replace(/\{previewFileIconClass}/g,a.previewFileIconClass).replace(/\{previewFileIcon}/g,o):e},_raise:function(e,t){var i=M.Event(e);if(void 0!==t?this.$element.trigger(i,t):this.$element.trigger(i),i.isDefaultPrevented())return!1;if(!i.result)return i.result;switch(e){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:this.ajaxAborted=i.result}return!0},_listen:function(){var e=this,t=e.$element,i=t.closest("form"),a=e.$container;f(t,"change",M.proxy(e._change,e)),f(e.$btnFile,"click",M.proxy(e._browse,e)),f(i,"reset",M.proxy(e.reset,e)),f(a.find(".fileinput-remove:not([disabled])"),"click",M.proxy(e.clear,e)),f(a.find(".fileinput-cancel"),"click",M.proxy(e.cancel,e)),e._initDragDrop(),e.isUploadable||f(i,"submit",M.proxy(e._submitForm,e)),f(e.$container.find(".fileinput-upload"),"click",M.proxy(e._uploadClick,e))},_initDragDrop:function(){var e=this,t=e.$dropZone;e.isUploadable&&e.dropZoneEnabled&&e.showPreview&&(f(t,"dragenter dragover",M.proxy(e._zoneDragEnter,e)),f(t,"dragleave",M.proxy(e._zoneDragLeave,e)),f(t,"drop",M.proxy(e._zoneDrop,e)),f(M(document),"dragenter dragover drop",e._zoneDragDropInit))},_zoneDragDropInit:function(e){e.stopPropagation(),e.preventDefault()},_zoneDragEnter:function(e){var t=-1<M.inArray("Files",e.originalEvent.dataTransfer.types);if(this._zoneDragDropInit(e),this.isDisabled||!t)return e.originalEvent.dataTransfer.effectAllowed="none",void(e.originalEvent.dataTransfer.dropEffect="none");y(this.$dropZone,"file-highlighted")},_zoneDragLeave:function(e){this._zoneDragDropInit(e),this.isDisabled||this.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(e){e.preventDefault(),this.isDisabled||N(e.originalEvent.dataTransfer.files)||(this._change(e,"dragdrop"),this.$dropZone.removeClass("file-highlighted"))},_uploadClick:function(e){var t,i=this.$container.find(".fileinput-upload"),a=!i.hasClass("disabled")&&N(i.attr("disabled"));e&&e.isDefaultPrevented()||(this.isUploadable?(e.preventDefault(),a&&this.upload()):a&&"submit"!==i.attr("type")&&((t=i.closest("form")).length&&t.trigger("submit"),e.preventDefault()))},_submitForm:function(){var e=this,t=e.$element.get(0).files;return t&&0<e.minFileCount&&e._getFileCount(t.length)<e.minFileCount?(e._noFilesError({}),!1):!e._abort({})},_clearPreview:function(){var e=this;(e.showUploadedThumbs?e.$preview.find(".file-preview-frame:not(.file-preview-success)"):e.$preview.find(".file-preview-frame")).remove(),e.$preview.find(".file-preview-frame").length&&e.showPreview||e._resetUpload(),e._validateDefaultPreview()},_initPreview:function(e){var t,i=this,a=i.initialCaption||"";if(!k.count(i.id))return i._clearPreview(),void(e?i._setCaption(a):i._initCaption());t=k.out(i.id),a=e&&i.initialCaption?i.initialCaption:t.caption,i.$preview.html(t.content),i._setCaption(a),N(t.content)||i.$container.removeClass("file-input-new")},_initPreviewDeletes:function(){var u=this,o=u.deleteExtraData||{},h=function(){var e=u.isUploadable?k.count(u.id):u.$element.get(0).files.length;0!==u.$preview.find(".kv-file-remove").length||e||(u.reset(),u.initialCaption="")};u.$preview.find(".kv-file-remove").each(function(){var n=M(this),e=n.data("url")||u.deleteUrl,r=n.data("key");if(!N(e)&&void 0!==r){var t,s,i,l,c=n.closest(".file-preview-frame"),a=k.data[u.id],d=c.data("fileindex");d=parseInt(d.replace("init_","")),i=N(a.config)&&N(a.config[d])?null:a.config[d],"function"==typeof(l=N(i)||N(i.extra)?o:i.extra)&&(l=l()),s={id:n.attr("id"),key:r,extra:l},t=M.extend(!0,{},{url:e,type:"POST",dataType:"json",data:M.extend(!0,{},{key:r},l),beforeSend:function(e){u.ajaxAborted=!1,u._raise("filepredelete",[r,e,l]),u.ajaxAborted?e.abort():(y(c,"file-uploading"),y(n,"disabled"))},success:function(e,t,i){var a,o;if(!N(e)&&!N(e.error))return s.jqXHR=i,s.response=e,u._showError(e.error,s,"filedeleteerror"),c.removeClass("file-uploading"),n.removeClass("disabled"),void h();k.unset(u.id,d),o=0<(a=k.count(u.id))?u._getMsgSelected(a):"",u._raise("filedeleted",[r,i,l]),u._setCaption(o),c.removeClass("file-uploading").addClass("file-deleted"),c.fadeOut("slow",function(){u._clearObjects(c),c.remove(),h(),a||0!==u.getFileStack().length||(u._setCaption(""),u.reset())})},error:function(e,t,i){var a=u._parseError(e,i);s.jqXHR=e,s.response={},u._showError(a,s,"filedeleteerror"),c.removeClass("file-uploading"),h()}},u.ajaxDeleteSettings),f(n,"click",function(){if(!u._validateMinCount())return!1;M.ajax(t)})}})},_clearObjects:function(e){e.find("video audio").each(function(){this.pause(),M(this).remove()}),e.find("img object div").each(function(){M(this).remove()})},_clearFileInput:function(){var e,t,i,a=this.$element;N(a.val())||(this.isIE9||this.isIE10?(e=a.closest("form"),t=M(document.createElement("form")),i=M(document.createElement("div")),a.before(i),e.length?e.after(t):i.after(t),t.append(a).trigger("reset"),i.before(a).remove(),t.remove()):a.val(""),this.fileInputCleared=!0)},_resetUpload:function(){var e=this;e.uploadCache={content:[],config:[],tags:[],append:!0},e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.uploadAsyncCount=0,e.loadedImages=[],e.totalImagesCount=0,e.$btnUpload.removeAttr("disabled"),e._setProgress(0),y(e.$progress,"hide"),e._resetErrors(!1),e.ajaxAborted=!1,e.ajaxRequests=[],e._resetCanvas()},_resetCanvas:function(){var e=this;e.canvas&&e.imageCanvasContext&&e.imageCanvasContext.clearRect(0,0,e.canvas.width,e.canvas.height)},_hasInitialPreview:function(){return!this.overwriteInitial&&k.count(this.id)},_resetPreview:function(){var e,t,i=this;k.count(i.id)?(e=k.out(i.id),i.$preview.html(e.content),t=i.initialCaption?i.initialCaption:e.caption,i._setCaption(t)):(i._clearPreview(),i._initCaption())},_clearDefaultPreview:function(){this.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var e=this;e.showPreview&&!N(e.defaultPreviewContent)&&(e.$preview.html('<div class="file-default-preview">'+e.defaultPreviewContent+"</div>"),e.$container.removeClass("file-input-new"))},_resetPreviewThumbs:function(e){var t,i=this;if(e)return i._clearPreview(),void i.clearStack();i._hasInitialPreview()?(t=k.out(i.id),i.$preview.html(t.content),i._setCaption(t.caption),i._initPreviewDeletes()):i._clearPreview()},_getLayoutTemplate:function(e){var t=L(e,this.layoutTemplates)?this.layoutTemplates[e]:u[e];return N(this.customLayoutTags)?t:v(t,this.customLayoutTags)},_getPreviewTemplate:function(e){var t=L(e,this.previewTemplates)?this.previewTemplates[e]:h[e];return N(this.customPreviewTags)?t:v(t,this.customPreviewTags)},_getOutData:function(e,t,i){var a=this;return e=e||{},t=t||{},i=i||a.filestack.slice(0)||{},{form:a.formdata,files:i,filenames:a.filenames,extra:a._getExtraData(),response:t,reader:a.reader,jqXHR:e}},_getMsgSelected:function(e){var t=1===e?this.fileSingle:this.filePlural;return this.msgSelected.replace("{n}",e).replace("{files}",t)},_getThumbs:function(e){return e=e||"",this.$preview.find(".file-preview-frame:not(.file-preview-initial)"+e)},_getExtraData:function(e,t){var i=this.uploadExtraData;return"function"==typeof this.uploadExtraData&&(i=this.uploadExtraData(e,t)),i},_initXhr:function(e,o,n){var r=this;return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,i=e.loaded||e.position,a=e.total;e.lengthComputable&&(t=Math.ceil(i/a*100)),o?r._setAsyncUploadStatus(o,t,n):r._setProgress(Math.ceil(t))},!1),e},_ajaxSubmit:function(e,t,i,a,o,n){var r,s=this;s._raise("filepreajax",[o,n]),s._uploadExtra(o,n),r=M.extend(!0,{},{xhr:function(){var e=M.ajaxSettings.xhr();return s._initXhr(e,o,s.getFileStack().length)},url:s.uploadUrl,type:"POST",dataType:"json",data:s.formdata,cache:!1,processData:!1,contentType:!1,beforeSend:e,success:t,complete:i,error:a},s.ajaxSettings),s.ajaxRequests.push(M.ajax(r))},_initUploadSuccess:function(e,t,i){var a,o,n,r,s,l,c,d,u=this;u.showPreview&&"object"==typeof e&&!M.isEmptyObject(e)&&void 0!==e.initialPreview&&0<e.initialPreview.length&&(u.hasInitData=!0,s=e.initialPreview||[],l=e.initialPreviewConfig||[],c=e.initialPreviewThumbTags||[],a=!(void 0!==e.append&&!e.append),u.overwriteInitial=!1,void 0!==t?i?(d=t.attr("data-fileindex"),u.uploadCache.content[d]=s[0],u.uploadCache.config[d]=l[0],u.uploadCache.tags[d]=c[0],u.uploadCache.append=a):(n=k.add(u.id,s,l[0],c[0],a),o=k.get(u.id,n,!1),r=M(o).hide(),t.after(r).fadeOut("slow",function(){r.fadeIn("slow").css("display:inline-block"),u._initPreviewDeletes(),u._clearFileInput(),t.remove()})):(k.set(u.id,s,l,c,a),u._initPreview(),u._initPreviewDeletes()))},_initSuccessThumbs:function(){var i=this;i.showPreview&&i._getThumbs(".file-preview-success").each(function(){var t=M(this),e=t.find(".kv-file-remove");e.removeAttr("disabled"),f(e,"click",function(){var e=i._raise("filesuccessremove",[t.attr("id"),t.data("fileindex")]);b(t),!1!==e&&t.fadeOut("slow",function(){t.remove(),i.$preview.find(".file-preview-frame").length||i.reset()})})})},_checkAsyncComplete:function(){var e,t,i=this;for(t=0;t<i.filestack.length;t++)if(i.filestack[t]&&(e=i.previewInitId+"-"+t,-1===M.inArray(e,i.uploadLog)))return!1;return i.uploadAsyncCount===i.uploadLog.length},_uploadExtra:function(e,t){var i=this,a=i._getExtraData(e,t);0!==a.length&&M.each(a,function(e,t){i.formdata.append(e,t)})},_uploadSingle:function(o,n,r){var a,s,e,l,t,i,c,d,u,h,f=this,p=f.getFileStack().length,m=new FormData,g=f.previewInitId+"-"+o,v=0<f.filestack.length||!M.isEmptyObject(f.uploadExtraData),b={id:g,index:o};f.formdata=m,f.showPreview&&(s=M("#"+g+":not(.file-preview-initial)"),l=s.find(".kv-file-upload"),t=s.find(".kv-file-remove"),M("#"+g).find(".file-thumb-progress").removeClass("hide")),0===p||!v||l&&l.hasClass("disabled")||f._abort(b)||(h=function(e,t){f.updateStack(e,void 0),f.uploadLog.push(t),f._checkAsyncComplete()&&(f.fileBatchCompleted=!0)},e=function(){f.fileBatchCompleted&&setTimeout(function(){f.showPreview&&(k.set(f.id,f.uploadCache.content,f.uploadCache.config,f.uploadCache.tags,f.uploadCache.append),f.hasInitData&&(f._initPreview(),f._initPreviewDeletes())),f.unlock(),f._clearFileInput(),f._raise("filebatchuploadcomplete",[f.filestack,f._getExtraData()]),f.uploadCount=0,f.uploadStatus={},f.uploadLog=[],f._setProgress(100)},100)},i=function(e){a=f._getOutData(e),f.fileBatchCompleted=!1,f.showPreview&&(s.hasClass("file-preview-success")||(f._setThumbStatus(s,"Loading"),y(s,"file-uploading")),l.attr("disabled",!0),t.attr("disabled",!0)),r||f.lock(),f._raise("filepreupload",[a,g,o]),M.extend(!0,b,a),f._abort(b)&&(e.abort(),f._setProgressCancelled())},c=function(e,t,i){a=f._getOutData(i,e),M.extend(!0,b,a),setTimeout(function(){N(e)||N(e.error)?(f.showPreview&&(f._setThumbStatus(s,"Success"),l.hide(),f._initUploadSuccess(e,s,r)),f._raise("fileuploaded",[a,g,o]),r?h(o,g):f.updateStack(o,void 0)):(f._showUploadError(e.error,b),f._setPreviewError(s,o),r&&h(o,g))},100)},d=function(){setTimeout(function(){f.showPreview&&(l.removeAttr("disabled"),t.removeAttr("disabled"),s.removeClass("file-uploading")),r?e():(f.unlock(!1),f._clearFileInput()),f._initSuccessThumbs()},100)},u=function(e,t,i){var a=f._parseError(e,i,r?n[o].name:null);setTimeout(function(){r&&h(o,g),f.uploadStatus[g]=100,f._setPreviewError(s,o),M.extend(!0,b,f._getOutData(e)),f._showUploadError(a,b)},100)},m.append(f.uploadFileAttr,n[o],f.filenames[o]),m.append("file_id",o),f._ajaxSubmit(i,c,d,u,g,o))},_uploadBatch:function(){var e,t,i,a,s,l=this,o=l.filestack,n=o.length,r=0<l.filestack.length||!M.isEmptyObject(l.uploadExtraData);l.formdata=new FormData,0!==n&&r&&!l._abort({})&&(s=function(){M.each(o,function(e){l.updateStack(e,void 0)}),l._clearFileInput()},e=function(e){l.lock();var t=l._getOutData(e);l.showPreview&&l._getThumbs().each(function(){var e=M(this),t=e.find(".kv-file-upload"),i=e.find(".kv-file-remove");e.hasClass("file-preview-success")||(l._setThumbStatus(e,"Loading"),y(e,"file-uploading")),t.attr("disabled",!0),i.attr("disabled",!0)}),l._raise("filebatchpreupload",[t]),l._abort(t)&&(e.abort(),l._setProgressCancelled())},t=function(e,t,i){var a=l._getOutData(i,e),o=l._getThumbs(),n=0,r=N(e)||N(e.errorkeys)?[]:e.errorkeys;N(e)||N(e.error)?(l._raise("filebatchuploadsuccess",[a]),s(),l.showPreview?(o.each(function(){var e=M(this),t=e.find(".kv-file-upload");e.find(".kv-file-upload").hide(),l._setThumbStatus(e,"Success"),e.removeClass("file-uploading"),t.removeAttr("disabled")}),l._initUploadSuccess(e)):l.reset()):(l.showPreview&&(o.each(function(){var e=M(this),t=e.find(".kv-file-remove"),i=e.find(".kv-file-upload");e.removeClass("file-uploading"),i.removeAttr("disabled"),t.removeAttr("disabled"),0!==r.length?(-1!==M.inArray(n,r)?l._setPreviewError(e):(e.find(".kv-file-upload").hide(),l._setThumbStatus(e,"Success"),l.updateStack(n,void 0)),n++):l._setPreviewError(e)}),l._initUploadSuccess(e)),l._showUploadError(e.error,a,"filebatchuploaderror"))},a=function(){l._setProgress(100),l.unlock(),l._initSuccessThumbs(),l._clearFileInput(),l._raise("filebatchuploadcomplete",[l.filestack,l._getExtraData()])},i=function(e,t,i){var a=l._getOutData(e),o=l._parseError(e,i);l._showUploadError(o,a,"filebatchuploaderror"),l.uploadFileCount=n-1,l.showPreview&&(l._getThumbs().each(function(){var e=M(this),t=e.attr("data-fileindex");e.removeClass("file-uploading"),void 0!==l.filestack[t]&&l._setPreviewError(e)}),l._getThumbs().removeClass("file-uploading"),l._getThumbs(" .kv-file-upload").removeAttr("disabled"),l._getThumbs(" .kv-file-delete").removeAttr("disabled"))},M.each(o,function(e,t){N(o[e])||l.formdata.append(l.uploadFileAttr,t,l.filenames[e])}),l._ajaxSubmit(e,t,a,i))},_uploadExtraOnly:function(){var e,t,i,a,n=this,r={};n.formdata=new FormData,n._abort(r)||(e=function(e){n.lock();var t=n._getOutData(e);n._raise("filebatchpreupload",[t]),n._setProgress(50),r.data=t,r.xhr=e,n._abort(r)&&(e.abort(),n._setProgressCancelled())},t=function(e,t,i){var a=n._getOutData(i,e);N(e)||N(e.error)?(n._raise("filebatchuploadsuccess",[a]),n._clearFileInput(),n._initUploadSuccess(e)):n._showUploadError(e.error,a,"filebatchuploaderror")},i=function(){n._setProgress(100),n.unlock(),n._clearFileInput(),n._raise("filebatchuploadcomplete",[n.filestack,n._getExtraData()])},a=function(e,t,i){var a=n._getOutData(e),o=n._parseError(e,i);r.data=a,n._showUploadError(o,a,"filebatchuploaderror")},n._ajaxSubmit(e,t,i,a))},_initFileActions:function(){var d=this;d.showPreview&&(d.$preview.find(".kv-file-remove").each(function(){var o,n,r,e=M(this),s=e.closest(".file-preview-frame"),l=s.attr("id"),c=s.attr("data-fileindex");f(e,"click",function(){if(!1===d._raise("filepreremove",[l,c])||!d._validateMinCount())return!1;o=s.hasClass("file-preview-error"),b(s),s.fadeOut("slow",function(){d.updateStack(c,void 0),d._clearObjects(s),s.remove(),l&&o&&d.$errorContainer.find('li[data-file-id="'+l+'"]').fadeOut("fast",function(){M(this).remove(),d._errorsExist()||d._resetErrors()});var e=d.getFileStack(!0),t=e.length,i=k.count(d.id),a=d.showPreview&&d.$preview.find(".file-preview-frame").length;d._clearFileInput(),0!==t||0!==i||a?(r=1<(n=i+t)?d._getMsgSelected(n):e[0]?d._getFileNames()[0]:"",d._setCaption(r)):d.reset(),d._raise("fileremoved",[l,c])})})}),d.$preview.find(".kv-file-upload").each(function(){var i=M(this);f(i,"click",function(){var e=i.closest(".file-preview-frame"),t=e.attr("data-fileindex");e.hasClass("file-preview-error")||d._uploadSingle(t,d.filestack,!1)})}))},_hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.find(".kv-caption-icon").hide()},_showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},_previewDefault:function(e,t,i){if(this.showPreview){var a=this,o=e?e.name:"",n=A.createObjectURL(e),r=t.slice(t.lastIndexOf("-")+1),s=a.previewSettings.other||w.other,l=a._renderFileFooter(e.name,s.width),c=a._parseFilePreviewIcon(a._getPreviewTemplate("other"),o);!0===i&&(a.isUploadable||(l+='<div class="file-other-error" title="'+a.fileActionSettings.indicatorErrorTitle+'">'+a.fileActionSettings.indicatorError+"</div>")),a._clearDefaultPreview(),a.$preview.append("\n"+c.replace(/\{previewId}/g,t).replace(/\{frameClass}/g,"").replace(/\{fileindex}/g,r).replace(/\{caption}/g,a.slug(e.name)).replace(/\{width}/g,s.width).replace(/\{height}/g,s.height).replace(/\{type}/g,e.type).replace(/\{data}/g,n).replace(/\{footer}/g,l)),!0===i&&a.isUploadable&&a._setThumbStatus(M("#"+t),"Error")}},_previewFile:function(e,t,i,a,o){if(this.showPreview){var n,r,s,l=this,c=l._parseFileType(t),d=t?t.name:"",u=l.slug(d),h=l.allowedPreviewTypes,f=l.allowedPreviewMimeTypes,p=l._getPreviewTemplate(c),m=h&&0<=h.indexOf(c),g=L(c,l.previewSettings)?l.previewSettings[c]:w[c],v=f&&-1!==f.indexOf(t.type),b=l._renderFileFooter(u,g.width),y="",x=a.slice(a.lastIndexOf("-")+1);m||v?(p=l._parseFilePreviewIcon(p,d.split(".").pop()),"text"===c?(r=C(i.target.result),s="text-"+_(),n=p.replace(/\{zoom}/g,l._getLayoutTemplate("zoom")),y=l._getLayoutTemplate("modal").replace("{id}",s).replace(/\{title}/g,u).replace(/\{body}/g,r).replace(/\{heading}/g,l.msgZoomModalHeading),n=n.replace(/\{previewId}/g,a).replace(/\{caption}/g,u).replace(/\{width}/g,g.width).replace(/\{height}/g,g.height).replace(/\{frameClass}/g,"").replace(/\{zoomInd}/g,l.zoomIndicator).replace(/\{footer}/g,b).replace(/\{fileindex}/g,x).replace(/\{type}/g,t.type).replace(/\{zoomTitle}/g,l.msgZoomTitle).replace(/\{dialog}/g,"$('#"+s+"').modal('show')").replace(/\{data}/g,r)+y):n=p.replace(/\{previewId}/g,a).replace(/\{caption}/g,u).replace(/\{frameClass}/g,"").replace(/\{type}/g,t.type).replace(/\{fileindex}/g,x).replace(/\{width}/g,g.width).replace(/\{height}/g,g.height).replace(/\{footer}/g,b).replace(/\{data}/g,o),l._clearDefaultPreview(),l.$preview.append("\n"+n),l._validateImage(e,a,u,t.type)):l._previewDefault(t,a)}},_slugDefault:function(e){return N(e)?"":String(e).replace(/[\-\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_readFiles:function(v){this.reader=new FileReader;var b,y=this,x=y.$element,w=y.$preview,k=y.reader,_=y.$previewContainer,C=y.$previewStatus,T=y.msgLoading,F=y.msgProgress,S=y.previewInitId,E=v.length,D=y.fileTypeSettings,I=y.filestack.length,P=function(e,t,i,a){var o=M.extend(!0,{},y._getOutData({},{},v),{id:i,index:a}),n={id:i,index:a,file:t,files:v};return y._previewDefault(t,i,!0),y.isUploadable&&y.addToStack(void 0),setTimeout(b(a+1),100),y._initFileActions(),y.removeFromPreviewOnError&&M("#"+i).remove(),y.isUploadable?y._showUploadError(e,o):y._showError(e,n)};y.loadedImages=[],y.totalImagesCount=0,M.each(v,function(e,t){var i=y.fileTypeSettings.image||R.image;i&&i(t.type)&&y.totalImagesCount++}),(b=function(a){if(N(x.attr("multiple"))&&(E=1),E<=a)return y.isUploadable&&0<y.filestack.length?y._raise("filebatchselected",[y.getFileStack()]):y._raise("filebatchselected",[v]),_.removeClass("file-thumb-loading"),void C.html("");var e,t,o,i,n,r=S+"-"+(I+a),s=v[a],l=y.slug(s.name),c=(s.size||0)/1e3,d="",u=A.createObjectURL(s),h=0,f=y.allowedFileTypes,p=N(f)?"":f.join(", "),m=y.allowedFileExtensions,g=N(m)?"":m.join(", ");if(N(m)||(d=new RegExp("\\.("+m.join("|")+")$","i")),c=c.toFixed(2),0<y.maxFileSize&&c>y.maxFileSize)return o=y.msgSizeTooLarge.replace("{name}",l).replace("{size}",c).replace("{maxSize}",y.maxFileSize),void(y.isError=P(o,s,r,a));if(!N(f)&&O(f)){for(t=0;t<f.length;t+=1)i=f[t],n=void 0!==(e=D[i])&&e(s.type,l),h+=N(n)?0:n.length;if(0===h)return o=y.msgInvalidFileType.replace("{name}",l).replace("{types}",p),void(y.isError=P(o,s,r,a))}return 0!==h||N(m)||!O(m)||N(d)||(n=$(l,d),0!==(h+=N(n)?0:n.length))?y.showPreview?(0<w.length&&void 0!==FileReader?(C.html(T.replace("{index}",a+1).replace("{files}",E)),_.addClass("file-thumb-loading"),k.onerror=function(e){y._errorHandler(e,l)},k.onload=function(e){y._previewFile(a,s,e,r,u),y._initFileActions()},k.onloadend=function(){o=F.replace("{index}",a+1).replace("{files}",E).replace("{percent}",50).replace("{name}",l),setTimeout(function(){C.html(o),y._updateFileDetails(E),b(a+1)},100),y._raise("fileloaded",[s,r,a,k])},k.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100,i=Math.ceil(t);o=F.replace("{index}",a+1).replace("{files}",E).replace("{percent}",i).replace("{name}",l),setTimeout(function(){C.html(o)},100)}},(L("text",D)?D.text:R.text)(s.type,l)?k.readAsText(s,y.textEncoding):k.readAsArrayBuffer(s)):(y._previewDefault(s,r),setTimeout(function(){b(a+1),y._updateFileDetails(E)},100),y._raise("fileloaded",[s,r,a,k])),void y.addToStack(s)):(y.addToStack(s),setTimeout(b(a+1),100),void y._raise("fileloaded",[s,r,a,k])):(o=y.msgInvalidFileExtension.replace("{name}",l).replace("{extensions}",g),void(y.isError=P(o,s,r,a)))})(0),y._updateFileDetails(E,!1)},_updateFileDetails:function(e){var t=this,i=t.$element,a=t.getFileStack(),o=i[0].files[0]&&i[0].files[0].name||a.length&&a[0].name||"",n=t.slug(o),r=t.isUploadable?a.length:e,s=k.count(t.id)+r,l=1<r?t._getMsgSelected(s):n;t.isError?(t.$previewContainer.removeClass("file-thumb-loading"),t.$previewStatus.html(""),t.$captionContainer.find(".kv-caption-icon").hide()):t._showFileIcon(),t._setCaption(l,t.isError),t.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&t._raise("fileselect",[e,n]),k.count(t.id)&&t._initPreviewDeletes()},_setThumbStatus:function(e,t){if(this.showPreview){var i="indicator"+t,a=i+"Title",o="file-preview-"+t.toLowerCase(),n=e.find(".file-upload-indicator"),r=this.fileActionSettings;e.removeClass("file-preview-success file-preview-error file-preview-loading"),"Error"===t&&e.find(".kv-file-upload").attr("disabled",!0),n.html(r[i]),n.attr("title",r[a]),e.addClass(o)}},_setProgressCancelled:function(){this._setProgress(100,this.$progress,this.msgCancelled)},_setProgress:function(e,t,i){var a=Math.min(e,100),o=a<100?this.progressTemplate:i?this.progressErrorTemplate:this.progressCompleteTemplate;t=t||this.$progress,N(o)||(t.html(o.replace(/\{percent}/g,a)),i&&t.find('[role="progressbar"]').html(i))},_setFileDropZoneTitle:function(){var e=this,t=e.$container.find(".file-drop-zone");t.find("."+e.dropZoneTitleClass).remove(),e.isUploadable&&e.showPreview&&0!==t.length&&!(0<e.getFileStack().length)&&e.dropZoneEnabled&&(0===t.find(".file-preview-frame").length&&N(e.defaultPreviewContent)&&t.prepend('<div class="'+e.dropZoneTitleClass+'">'+e.dropZoneTitle+"</div>"),e.$container.removeClass("file-input-new"),y(e.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(e,t,i){var a=0;this._setProgress(t,M("#"+e).find(".file-thumb-progress")),this.uploadStatus[e]=t,M.each(this.uploadStatus,function(e,t){a+=t}),this._setProgress(Math.ceil(a/i))},_validateMinCount:function(){var e=this,t=e.isUploadable?e.getFileStack().length:e.$element.get(0).files.length;return!(e.validateInitialCount&&0<e.minFileCount&&e._getFileCount(t-1)<e.minFileCount)||(e._noFilesError({}),!1)},_getFileCount:function(e){return this.validateInitialCount&&!this.overwriteInitial&&(e+=k.count(this.id)),e},_getFileName:function(e){return e&&e.name?this.slug(e.name):void 0},_getFileNames:function(t){return this.filenames.filter(function(e){return t?void 0!==e:null!=e})},_setPreviewError:function(e,t,i){t&&this.updateStack(t,i),this.removeFromPreviewOnError?e.remove():this._setThumbStatus(e,"Error")},_checkDimensions:function(e,t,i,a,o,n,r){var s,l,c,d=this[("Small"===t?"min":"max")+"Image"+n];!N(d)&&i.length&&(c=i[0],l="Width"===n?c.naturalWidth||c.width:c.naturalHeight||c.height,("Small"===t?d<=l:l<=d)||(s=this["msgImage"+n+t].replace("{name}",o).replace("{size}",d),this._showUploadError(s,r),this._setPreviewError(a,e,null)))},_validateImage:function(e,t,i,a){var o,n,r=this,s=r.$preview,l=s.find("#"+t),c=l.find("img");i=i||"Untitled",c.length&&f(c,"load",function(){n=l.width(),s.width()<n&&(c.css("width","100%"),l.css("width","97%")),o={ind:e,id:t},r._checkDimensions(e,"Small",c,l,i,"Width",o),r._checkDimensions(e,"Small",c,l,i,"Height",o),r.resizeImage||(r._checkDimensions(e,"Large",c,l,i,"Width",o),r._checkDimensions(e,"Large",c,l,i,"Height",o)),r._raise("fileimageloaded",[t]),r.loadedImages.push({ind:e,img:c,thumb:l,pid:t,typ:a}),r._validateAllImages(),A.revokeObjectURL(c.attr("src"))})},_validateAllImages:function(){var e,t,i,a,o,n,r,s=this,l={};if(s.loadedImages.length===s.totalImagesCount&&(s._raise("fileimagesloaded"),s.resizeImage)){for(r=s.isUploadable?s._showUploadError:s._showError,e=0;e<s.loadedImages.length;e++)i=(t=s.loadedImages[e]).img,a=t.thumb,l={id:o=t.pid,index:n=t.ind},s._getResizedImage(i[0],t.typ,o,n)||(r(s.msgImageResizeError,l,"fileimageresizeerror"),s._setPreviewError(a,n));s._raise("fileimagesresized")}},_getResizedImage:function(e,t,i,a){var o,n,r=this,s=e.naturalWidth,l=e.naturalHeight,c=1,d=r.maxImageWidth||s,u=r.maxImageHeight||l,h=s&&l,f=r.imageCanvas,p=r.imageCanvasContext;if(!h)return!1;if(s===d&&l===u)return!0;t=t||r.resizeDefaultImageType,o=d<s,n=u<l,c="width"===r.resizePreference?o?d/s:n?u/l:1:n?u/l:o?d/s:1,r._resetCanvas(),s*=c,l*=c,f.width=s,f.height=l;try{return p.drawImage(e,0,0,s,l),f.toBlob(function(e){r._raise("fileimageresized",[i,a]),r.filestack[a]=e},t,r.resizeQuality),!0}catch(e){return!1}},_initBrowse:function(e){this.$btnFile=e.find(".btn-file"),this.$btnFile.append(this.$element)},_initCaption:function(){var e=this.initialCaption||"";return this.overwriteInitial||N(e)?(this.$caption.html(""),!1):(this._setCaption(e),!0)},_setCaption:function(e,t){var i,a,o,n,r=this,s=r.getFileStack();if(r.$caption.length){if(t)i=M("<div>"+r.msgValidationError+"</div>").text(),n=(o=s.length)?1===o&&s[0]?r._getFileNames()[0]:r._getMsgSelected(o):r._getMsgSelected(r.msgNo),a='<span class="'+r.msgValidationErrorClass+'">'+r.msgValidationErrorIcon+(N(e)?n:e)+"</span>";else{if(N(e))return;i=M("<div>"+e+"</div>").text(),a=r._getLayoutTemplate("icon")+i}r.$caption.html(a),r.$caption.attr("title",i),r.$captionContainer.find(".file-caption-ellipsis").attr("title",i)}},_createContainer:function(){var e=M(document.createElement("div")).attr({class:"file-input file-input-new"}).html(this._renderMain());return this.$element.before(e),this._initBrowse(e),e},_refreshContainer:function(){var e=this.$container;e.before(this.$element),e.html(this._renderMain()),this._initBrowse(e)},_renderMain:function(){var e=this,t=e.isUploadable&&e.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",i=e.showClose?e._getLayoutTemplate("close"):"",a=e.showPreview?e._getLayoutTemplate("preview").replace(/\{class}/g,e.previewClass).replace(/\{dropClass}/g,t):"",o=e.isDisabled?e.captionClass+" file-caption-disabled":e.captionClass,n=e.captionTemplate.replace(/\{class}/g,o+" kv-fileinput-caption");return e.mainTemplate.replace(/\{class}/g,e.mainClass).replace(/\{preview}/g,a).replace(/\{close}/g,i).replace(/\{caption}/g,n).replace(/\{upload}/g,e._renderButton("upload")).replace(/\{remove}/g,e._renderButton("remove")).replace(/\{cancel}/g,e._renderButton("cancel")).replace(/\{browse}/g,e._renderButton("browse"))},_renderButton:function(e){var t=this,i=t._getLayoutTemplate("btnDefault"),a=t[e+"Class"],o=t[e+"Title"],n=t[e+"Icon"],r=t[e+"Label"],s=t.isDisabled?" disabled":"",l="button";switch(e){case"remove":if(!t.showRemove)return"";break;case"cancel":if(!t.showCancel)return"";a+=" hide";break;case"upload":if(!t.showUpload)return"";t.isUploadable&&!t.isDisabled?i=t._getLayoutTemplate("btnLink").replace("{href}",t.uploadUrl):l="submit";break;case"browse":i=t._getLayoutTemplate("btnBrowse");break;default:return""}return a+="browse"===e?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button",N(r)||(r=' <span class="'+t.buttonLabelClass+'">'+r+"</span>"),i.replace("{type}",l).replace("{css}",a).replace("{title}",o).replace("{status}",s).replace("{icon}",n).replace("{label}",r)},_renderThumbProgress:function(){return'<div class="file-thumb-progress hide">'+this.progressTemplate.replace(/\{percent}/g,"0")+"</div>"},_renderFileFooter:function(e,t){var i,a=this,o=a.fileActionSettings,n=a._getLayoutTemplate("footer");return i=a.isUploadable?n.replace(/\{actions}/g,a._renderFileActions(!0,!0,!1,!1,!1)).replace(/\{caption}/g,e).replace(/\{width}/g,t).replace(/\{progress}/g,a._renderThumbProgress()).replace(/\{indicator}/g,o.indicatorNew).replace(/\{indicatorTitle}/g,o.indicatorNewTitle):n.replace(/\{actions}/g,"").replace(/\{caption}/g,e).replace(/\{progress}/g,"").replace(/\{width}/g,t).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,""),i=v(i,a.previewThumbTags)},_renderFileActions:function(e,t,i,a,o){if(!e&&!t)return"";var n=this,r=!1===a?"":' data-url="'+a+'"',s=!1===o?"":' data-key="'+o+'"',l=n._getLayoutTemplate("actionDelete"),c="",d=n._getLayoutTemplate("actions"),u=n.otherActionButtons.replace(/\{dataKey}/g,s),h=n.fileActionSettings,f=i?h.removeClass+" disabled":h.removeClass;return l=l.replace(/\{removeClass}/g,f).replace(/\{removeIcon}/g,h.removeIcon).replace(/\{removeTitle}/g,h.removeTitle).replace(/\{dataUrl}/g,r).replace(/\{dataKey}/g,s),e&&(c=n._getLayoutTemplate("actionUpload").replace(/\{uploadClass}/g,h.uploadClass).replace(/\{uploadIcon}/g,h.uploadIcon).replace(/\{uploadTitle}/g,h.uploadTitle)),d.replace(/\{delete}/g,l).replace(/\{upload}/g,c).replace(/\{other}/g,u)},_browse:function(e){var t=this;t._raise("filebrowse"),e&&e.isDefaultPrevented()||(t.isError&&!t.isUploadable&&t.clear(),t.$captionContainer.focus())},_change:function(e){var t=this,i=t.$element;if(!t.isUploadable&&N(i.val())&&t.fileInputCleared)t.fileInputCleared=!1;else{t.fileInputCleared=!1;var a,o,n,r,s,l,c,d,u,h,f,p,m=1<arguments.length,g=t.isUploadable,v=0,b=m?e.originalEvent.dataTransfer.files:i.get(0).files,y=t.filestack.length,x=N(i.attr("multiple"))&&0<y,w=0;if(t.reader=null,t._resetUpload(),t._hideFileIcon(),t.isUploadable&&t.$container.find(".file-drop-zone ."+t.dropZoneTitleClass).remove(),m)for(a=[];b[v];)(r=b[v]).type||r.size%4096!=0?a.push(r):w++,v++;else a=void 0===e.target.files?e.target&&e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]:e.target.files;if(N(a)||0===a.length)return g||t.clear(),t._showFolderError(w),void t._raise("fileselectnone");if(t._resetErrors(),l=a.length,n=t._getFileCount(t.isUploadable?t.getFileStack().length+l:l),0<t.maxFileCount&&n>t.maxFileCount){if(!t.autoReplace||l>t.maxFileCount)return s=t.autoReplace&&l>t.maxFileCount?l:n,o=t.msgFilesTooMany.replace("{m}",t.maxFileCount).replace("{n}",s),t.isError=(c=o,h=u=d=null,f=M.extend(!0,{},t._getOutData({},{},b),{id:u,index:h}),p={id:u,index:h,file:d,files:b},t.isUploadable?t._showUploadError(c,f):t._showError(c,p)),t.$captionContainer.find(".kv-caption-icon").hide(),t._setCaption("",!0),void t.$container.removeClass("file-input-new file-input-ajax-new");n>t.maxFileCount&&t._resetPreviewThumbs(g)}else!g||x?(t._resetPreviewThumbs(!1),x&&t.clearStack()):!g||0!==y||k.count(t.id)&&!t.overwriteInitial||t._resetPreviewThumbs(!0);t.isPreviewable?t._readFiles(a):t._updateFileDetails(1),t._showFolderError(w)}},_abort:function(e){var t,i=this;return!(!i.ajaxAborted||"object"!=typeof i.ajaxAborted||void 0===i.ajaxAborted.message)&&((t=M.extend(!0,{},i._getOutData(),e)).abortData=i.ajaxAborted.data||{},t.abortMessage=i.ajaxAborted.message,i.cancel(),i._setProgress(100,i.$progress,i.msgCancelled),i._showUploadError(i.ajaxAborted.message,t,"filecustomerror"),!0)},_resetFileStack:function(){var a=this,o=0,n=[],r=[];a._getThumbs().each(function(){var e=M(this),t=e.attr("data-fileindex"),i=a.filestack[t];-1!==t&&(void 0!==i?(n[o]=i,r[o]=a._getFileName(i),e.attr({id:a.previewInitId+"-"+o,"data-fileindex":o}),o++):e.attr({id:"uploaded-"+_(),"data-fileindex":"-1"}))}),a.filestack=n,a.filenames=r},clearStack:function(){return this.filestack=[],this.filenames=[],this.$element},updateStack:function(e,t){return this.filestack[e]=t,this.filenames[e]=this._getFileName(t),this.$element},addToStack:function(e){return this.filestack.push(e),this.filenames.push(this._getFileName(e)),this.$element},getFileStack:function(t){return this.filestack.filter(function(e){return t?void 0!==e:null!=e})},lock:function(){var e=this;return e._resetErrors(),e.disable(),e.showRemove&&y(e.$container.find(".fileinput-remove"),"hide"),e.showCancel&&e.$container.find(".fileinput-cancel").removeClass("hide"),e._raise("filelock",[e.filestack,e._getExtraData()]),e.$element},unlock:function(e){var t=this;return void 0===e&&(e=!0),t.enable(),t.showCancel&&y(t.$container.find(".fileinput-cancel"),"hide"),t.showRemove&&t.$container.find(".fileinput-remove").removeClass("hide"),e&&t._resetFileStack(),t._raise("fileunlock",[t.filestack,t._getExtraData()]),t.$element},cancel:function(){var e,i=this,t=i.ajaxRequests,a=t.length;if(0<a)for(e=0;e<a;e+=1)i.cancelling=!0,t[e].abort();return i._setProgressCancelled(),i._getThumbs().each(function(){var e=M(this),t=e.attr("data-fileindex");e.removeClass("file-uploading"),void 0!==i.filestack[t]&&(e.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),e.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),i.unlock()}),i.$element},clear:function(){var e,t=this;return t.$btnUpload.removeAttr("disabled"),t._getThumbs().find("video,audio,img").each(function(){b(M(this))}),t._resetUpload(),t.clearStack(),t._clearFileInput(),t._resetErrors(!0),t._raise("fileclear"),t._hasInitialPreview()?(t._showFileIcon(),t._resetPreview(),t._initPreviewDeletes(),t.$container.removeClass("file-input-new")):(t._getThumbs().each(function(){t._clearObjects(M(this))}),t.isUploadable&&(k.data[t.id]={}),t.$preview.html(""),e=!t.overwriteInitial&&0<t.initialCaption.length?t.initialCaption:"",t._setCaption(e),t.$caption.attr("title",""),y(t.$container,"file-input-new"),t._validateDefaultPreview()),0===t.$container.find(".file-preview-frame").length&&(t._initCaption()||t.$captionContainer.find(".kv-caption-icon").hide()),t._hideFileIcon(),t._raise("filecleared"),t.$captionContainer.focus(),t._setFileDropZoneTitle(),t.$element},reset:function(){var e=this;return e._resetPreview(),e.$container.find(".fileinput-filename").text(""),e._raise("filereset"),y(e.$container,"file-input-new"),(e.$preview.find(".file-preview-frame").length||e.isUploadable&&e.dropZoneEnabled)&&e.$container.removeClass("file-input-new"),e._setFileDropZoneTitle(),e.clearStack(),e.formdata={},e.$element},disable:function(){var e=this;return e.isDisabled=!0,e._raise("filedisabled"),e.$element.attr("disabled","disabled"),e.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),e.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),e._initDragDrop(),e.$element},enable:function(){var e=this;return e.isDisabled=!1,e._raise("fileenabled"),e.$element.removeAttr("disabled"),e.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),e.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),e._initDragDrop(),e.$element},upload:function(){var e,t,i,a=this,o=a.getFileStack().length,n=!M.isEmptyObject(a._getExtraData());if(0<a.minFileCount&&a._getFileCount(o)<a.minFileCount)a._noFilesError({});else if(a.isUploadable&&!a.isDisabled&&(0!==o||n))if(a._resetUpload(),a.$progress.removeClass("hide"),a.uploadCount=0,a.uploadStatus={},a.uploadLog=[],a.lock(),a._setProgress(2),0===o&&n)a._uploadExtraOnly();else{if(i=a.filestack.length,a.hasInitData=!1,!a.uploadAsync)return a._uploadBatch(),a.$element;for(t=a._getOutData(),a._raise("filebatchpreupload",[t]),a.fileBatchCompleted=!1,a.uploadCache={content:[],config:[],tags:[],append:!0},a.uploadAsyncCount=a.getFileStack().length,e=0;e<i;e++)a.uploadCache.content[e]=null,a.uploadCache.config[e]=null,a.uploadCache.tags[e]=null;for(e=0;e<i;e++)void 0!==a.filestack[e]&&a._uploadSingle(e,a.filestack,!0)}},destroy:function(){var e=this.$container;return e.find(".file-drop-zone").off(),this.$element.insertBefore(e).off(n).removeData(),e.off().remove(),this.$element},refresh:function(e){var t=this.$element;return e=e?M.extend(!0,{},this.options,e):this.options,this.destroy(),t.fileinput(e),t.val()&&t.trigger("change.fileinput"),t}},M.fn.fileinput=function(r){if(c()||a(9)){var s=Array.apply(null,arguments),l=[];switch(s.shift(),this.each(function(){var e,t=M(this),i=t.data("fileinput"),a="object"==typeof r&&r,o=a.language||t.data("language")||"en",n={};i||("en"===o||N(M.fn.fileinputLocales[o])||(n=M.fn.fileinputLocales[o]),e=M.extend(!0,{},M.fn.fileinput.defaults,M.fn.fileinputLocales.en,n,a,t.data()),i=new m(this,e),t.data("fileinput",i)),"string"==typeof r&&l.push(i[r].apply(i,s))}),l.length){case 0:return this;case 1:return l[0];default:return l}}},M.fn.fileinput.defaults={language:"en",showCaption:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,autoReplace:!1,mainClass:"",previewClass:"",captionClass:"",mainTemplate:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,layoutTemplates:u,previewTemplates:h,allowedPreviewTypes:p,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewSettings:w,fileTypeSettings:R,previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-icon-4x",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default",uploadUrl:null,uploadAsync:!0,uploadExtraData:{},minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",maxFileSize:0,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-success progress-bar-striped active",progressClass:"progress-bar progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar progress-bar-success",progressErrorClass:"progress-bar progress-bar-danger",previewFileType:"image",zoomIndicator:'<i class="glyphicon glyphicon-zoom-in"></i>',elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<span class="close kv-error-close">&times;</span>',slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0},M.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgCancelled:"Cancelled",msgZoomTitle:"View details",msgZoomModalHeading:"Detailed Preview",msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgUploadAborted:"The file upload was aborted",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",dropZoneTitle:"Drag & drop files here &hellip;"},M.fn.fileinput.Constructor=m,M(document).ready(function(){var e=M("input.file[type=file]");e.length&&e.fileinput()})}),function(e){"use strict";var a=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,s=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),l=s&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),c=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,o=(s||c)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,i,a,o,n,r;for(t=0<=e.split(",")[0].indexOf("base64")?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),i=new ArrayBuffer(t.length),a=new Uint8Array(i),o=0;o<t.length;o+=1)a[o]=t.charCodeAt(o);return n=e.split(",")[0].split(":")[1].split(";")[0],s?new Blob([l?a:i],{type:n}):((r=new c).append(i),r.getBlob(n))};e.HTMLCanvasElement&&!a.toBlob&&(a.mozGetAsFile?a.toBlob=function(e,t,i){i&&a.toDataURL&&o?e(o(this.toDataURL(t,i))):e(this.mozGetAsFile("blob",t))}:a.toDataURL&&o&&(a.toBlob=function(e,t,i){e(o(this.toDataURL(t,i)))})),"function"==typeof define&&define.amd?define(function(){return o}):e.dataURLtoBlob=o}(window),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(E){"use strict";var s,e,l,t,i,c,a;String.prototype.includes||(s={}.toString,e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),l="".indexOf,t=function(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==s.call(e))throw new TypeError;var i=t.length,a=String(e),o=a.length,n=1<arguments.length?arguments[1]:void 0,r=n?Number(n):0;return r!=r&&(r=0),!(i<o+Math.min(Math.max(r,0),i))&&-1!=l.call(t,a,r)},e?e(String.prototype,"includes",{value:t,configurable:!0,writable:!0}):String.prototype.includes=t),String.prototype.startsWith||(i=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),c={}.toString,a=function(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==c.call(e))throw new TypeError;var i=t.length,a=String(e),o=a.length,n=1<arguments.length?arguments[1]:void 0,r=n?Number(n):0;r!=r&&(r=0);var s=Math.min(Math.max(r,0),i);if(i<o+s)return!1;for(var l=-1;++l<o;)if(t.charCodeAt(s+l)!=a.charCodeAt(l))return!1;return!0},i?i(String.prototype,"startsWith",{value:a,configurable:!0,writable:!0}):String.prototype.startsWith=a),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i});var o={useDefault:!1,_set:E.valHooks.select.set};E.valHooks.select.set=function(e,t){return t&&!o.useDefault&&E(e).data("selected",!0),o._set.apply(this,arguments)};var w=null;function b(e){return E.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){e=e?e.replace(this.re,this.ch):""}),e}E.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?("function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)},E.expr.pseudos.icontains=function(e,t,i){var a=E(e);return(a.data("tokens")||a.text()).toString().toUpperCase().includes(i[3].toUpperCase())},E.expr.pseudos.ibegins=function(e,t,i){var a=E(e);return(a.data("tokens")||a.text()).toString().toUpperCase().startsWith(i[3].toUpperCase())},E.expr.pseudos.aicontains=function(e,t,i){var a=E(e);return(a.data("tokens")||a.data("normalizedText")||a.text()).toString().toUpperCase().includes(i[3].toUpperCase())},E.expr.pseudos.aibegins=function(e,t,i){var a=E(e);return(a.data("tokens")||a.data("normalizedText")||a.text()).toString().toUpperCase().startsWith(i[3].toUpperCase())};var n=function(t){var i=function(e){return t[e]},e="(?:"+Object.keys(t).join("|")+")",a=RegExp(e),o=RegExp(e,"g");return function(e){return e=null==e?"":""+e,a.test(e)?e.replace(o,i):e}},D=n({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),d=n({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),u=function(e,t){o.useDefault||(E.valHooks.select.set=o._set,o.useDefault=!0),this.$element=E(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=t,null===this.options.title&&(this.options.title=this.$element.attr("title"));var i=this.options.windowPadding;"number"==typeof i&&(this.options.windowPadding=[i,i,i,i]),this.val=u.prototype.val,this.render=u.prototype.render,this.refresh=u.prototype.refresh,this.setStyle=u.prototype.setStyle,this.selectAll=u.prototype.selectAll,this.deselectAll=u.prototype.deselectAll,this.destroy=u.prototype.destroy,this.remove=u.prototype.remove,this.show=u.prototype.show,this.hide=u.prototype.hide,this.init()};function r(e){var n,r=arguments,s=e;[].shift.apply(r);var t=this.each(function(){var e=E(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==typeof s&&s;if(t){if(i)for(var a in i)i.hasOwnProperty(a)&&(t.options[a]=i[a])}else{var o=E.extend({},u.DEFAULTS,E.fn.selectpicker.defaults||{},e.data(),i);o.template=E.extend({},u.DEFAULTS.template,E.fn.selectpicker.defaults?E.fn.selectpicker.defaults.template:{},e.data().template,i.template),e.data("selectpicker",t=new u(this,o))}"string"==typeof s&&(n=t[s]instanceof Function?t[s].apply(t,r):t.options[s])}});return void 0!==n?n:t}u.VERSION="1.12.2",u.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0},u.prototype={constructor:u,init:function(){var t=this,e=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==e&&(this.$button.attr("data-id",e),E('label[for="'+e+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!1),t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!0),t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){t.$button.addClass("bs-invalid").focus(),t.$element.on({"focus.bs.select":function(){t.$button.focus(),t.$element.off("focus.bs.select")},"shown.bs.select":function(){t.$element.val(t.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&t.$button.removeClass("bs-invalid"),t.$element.off("rendered.bs.select")}})}),setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",t=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",a=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+D(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",n=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",r=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",s='<div class="btn-group bootstrap-select'+e+t+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+i+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+a+o+n+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+r+"</div></div>";return E(s)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul")[0].innerHTML=t,e},reloadLi:function(){var e=this.createLi();this.$menuInner[0].innerHTML=e},createLi:function(){var k=this,_=[],C=0,e=document.createElement("option"),T=-1,F=function(e,t,i,a){return"<li"+(void 0!==i&""!==i?' class="'+i+'"':"")+(void 0!==t&null!==t?' data-original-index="'+t+'"':"")+(void 0!==a&null!==a?'data-optgroup="'+a+'"':"")+">"+e+"</li>"},S=function(e,t,i,a){return'<a tabindex="0"'+(void 0!==t?' class="'+t+'"':"")+(i?' style="'+i+'"':"")+(k.options.liveSearchNormalize?' data-normalized-text="'+b(D(E(e).html()))+'"':"")+(void 0!==a||null!==a?' data-tokens="'+a+'"':"")+' role="option">'+e+'<span class="'+k.options.iconBase+" "+k.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(T--,!this.$element.find(".bs-title-option").length)){var t=this.$element[0];e.className="bs-title-option",e.innerHTML=this.options.title,e.value="",t.insertBefore(e,t.firstChild),void 0===E(t.options[t.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")&&(e.selected=!0)}return this.$element.find("option").each(function(e){var t=E(this);if(T++,!t.hasClass("bs-title-option")){var i=this.className||"",a=this.style.cssText,o=t.data("content")?t.data("content"):t.html(),n=t.data("tokens")?t.data("tokens"):null,r=void 0!==t.data("subtext")?'<small class="text-muted">'+t.data("subtext")+"</small>":"",s=void 0!==t.data("icon")?'<span class="'+k.options.iconBase+" "+t.data("icon")+'"></span> ':"",l=t.parent(),c="OPTGROUP"===l[0].tagName,d=c&&l[0].disabled,u=this.disabled||d;if(""!==s&&u&&(s="<span>"+s+"</span>"),k.options.hideDisabled&&(u&&!c||d))T--;else{if(t.data("content")||(o=s+'<span class="text">'+o+r+"</span>"),c&&!0!==t.data("divider")){if(k.options.hideDisabled&&u){if(void 0===l.data("allOptionsDisabled")){var h=l.children();l.data("allOptionsDisabled",h.filter(":disabled").length===h.length)}if(l.data("allOptionsDisabled"))return void T--}var f=" "+l[0].className||"";if(0===t.index()){C+=1;var p=l[0].label,m=void 0!==l.data("subtext")?'<small class="text-muted">'+l.data("subtext")+"</small>":"";p=(l.data("icon")?'<span class="'+k.options.iconBase+" "+l.data("icon")+'"></span> ':"")+'<span class="text">'+D(p)+m+"</span>",0!==e&&0<_.length&&(T++,_.push(F("",null,"divider",C+"div"))),T++,_.push(F(p,null,"dropdown-header"+f,C))}if(k.options.hideDisabled&&u)return void T--;_.push(F(S(o,"opt "+i+f,a,n),e,"",C))}else if(!0===t.data("divider"))_.push(F("",e,"divider"));else if(!0===t.data("hidden"))_.push(F(S(o,i,a,n),e,"hidden is-hidden"));else{var g=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!g&&k.options.hideDisabled)for(var v=E(this).prevAll(),b=0;b<v.length;b++)if("OPTGROUP"===v[b].tagName){for(var y=0,x=0;x<b;x++){var w=v[x];(w.disabled||!0===E(w).data("hidden"))&&y++}y===b&&(g=!0);break}g&&(T++,_.push(F("",null,"divider",C+"div"))),_.push(F(S(o,i,a,n),e))}k.liObj[e]=T}}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),_.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var t,a=this;!1!==e&&this.$element.find("option").each(function(e){var t=a.findLis().eq(a.liObj[e]);a.setDisabled(e,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,t),a.setSelected(e,this.selected,t)}),this.togglePlaceholder(),this.tabIndex();var i=this.$element.find("option").map(function(){if(this.selected){if(a.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var e,t=E(this),i=t.data("icon")&&a.options.showIcon?'<i class="'+a.options.iconBase+" "+t.data("icon")+'"></i> ':"";return e=a.options.showSubtext&&t.data("subtext")&&!a.multiple?' <small class="text-muted">'+t.data("subtext")+"</small>":"",void 0!==t.attr("title")?t.attr("title"):t.data("content")&&a.options.showContent?t.data("content").toString():i+t.html()+e}}).toArray(),o=this.multiple?i.join(this.options.multipleSeparator):i[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var n=this.options.selectedTextFormat.split(">");if(1<n.length&&i.length>n[1]||1==n.length&&2<=i.length){t=this.options.hideDisabled?", [disabled]":"";var r=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+t).length;o=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(i.length,r):this.options.countSelectedText).replace("{0}",i.length.toString()).replace("{1}",r.toString())}}null==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(o=this.options.title),o||(o=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",d(E.trim(o.replace(/<[^>]*>?/g,"")))),this.$button.children(".filter-option").html(o),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=e||this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){var t=document.createElement("div"),i=document.createElement("div"),a=document.createElement("ul"),o=document.createElement("li"),n=document.createElement("li"),r=document.createElement("a"),s=document.createElement("span"),l=this.options.header&&0<this.$menu.find(".popover-title").length?this.$menu.find(".popover-title")[0].cloneNode(!0):null,c=this.options.liveSearch?document.createElement("div"):null,d=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(s.className="text",t.className=this.$menu[0].parentNode.className+" open",i.className="dropdown-menu open",a.className="dropdown-menu inner",o.className="divider",s.appendChild(document.createTextNode("Inner text")),r.appendChild(s),n.appendChild(r),a.appendChild(n),a.appendChild(o),l&&i.appendChild(l),c){var h=document.createElement("input");c.className="bs-searchbox",h.className="form-control",c.appendChild(h),i.appendChild(c)}d&&i.appendChild(d),i.appendChild(a),u&&i.appendChild(u),t.appendChild(i),document.body.appendChild(t);var f=r.offsetHeight,p=l?l.offsetHeight:0,m=c?c.offsetHeight:0,g=d?d.offsetHeight:0,v=u?u.offsetHeight:0,b=E(o).outerHeight(!0),y="function"==typeof getComputedStyle&&getComputedStyle(i),x=y?null:E(i),w={vert:parseInt(y?y.paddingTop:x.css("paddingTop"))+parseInt(y?y.paddingBottom:x.css("paddingBottom"))+parseInt(y?y.borderTopWidth:x.css("borderTopWidth"))+parseInt(y?y.borderBottomWidth:x.css("borderBottomWidth")),horiz:parseInt(y?y.paddingLeft:x.css("paddingLeft"))+parseInt(y?y.paddingRight:x.css("paddingRight"))+parseInt(y?y.borderLeftWidth:x.css("borderLeftWidth"))+parseInt(y?y.borderRightWidth:x.css("borderRightWidth"))},k={vert:w.vert+parseInt(y?y.marginTop:x.css("marginTop"))+parseInt(y?y.marginBottom:x.css("marginBottom"))+2,horiz:w.horiz+parseInt(y?y.marginLeft:x.css("marginLeft"))+parseInt(y?y.marginRight:x.css("marginRight"))+2};document.body.removeChild(t),this.sizeInfo={liHeight:f,headerHeight:p,searchHeight:m,actionsHeight:g,doneButtonHeight:v,dividerHeight:b,menuPadding:w,menuExtras:k}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var n,r,s,l,c,d,u,h,f=this,p=this.$menu,m=this.$menuInner,o=E(window),g=this.$newElement[0].offsetHeight,v=this.$newElement[0].offsetWidth,b=this.sizeInfo.liHeight,y=this.sizeInfo.headerHeight,x=this.sizeInfo.searchHeight,w=this.sizeInfo.actionsHeight,k=this.sizeInfo.doneButtonHeight,e=this.sizeInfo.dividerHeight,_=this.sizeInfo.menuPadding,C=this.sizeInfo.menuExtras,t=this.options.hideDisabled?".disabled":"",T=function(){var e,t=f.$newElement.offset(),i=E(f.options.container);f.options.container&&!i.is("body")?((e=i.offset()).top+=parseInt(i.css("borderTopWidth")),e.left+=parseInt(i.css("borderLeftWidth"))):e={top:0,left:0};var a=f.options.windowPadding;c=t.top-e.top-o.scrollTop(),d=o.height()-c-g-e.top-a[2],u=t.left-e.left-o.scrollLeft(),h=o.width()-u-v-e.left-a[1],c-=a[0],u-=a[3]};if(T(),"auto"===this.options.size){var i=function(){var e,t=function(t,i){return function(e){return i?e.classList?e.classList.contains(t):E(e).hasClass(t):!(e.classList?e.classList.contains(t):E(e).hasClass(t))}},i=f.$menuInner[0].getElementsByTagName("li"),a=Array.prototype.filter?Array.prototype.filter.call(i,t("hidden",!1)):f.$lis.not(".hidden"),o=Array.prototype.filter?Array.prototype.filter.call(a,t("dropdown-header",!0)):a.filter(".dropdown-header");T(),n=d-C.vert,r=h-C.horiz,f.options.container?(p.data("height")||p.data("height",p.height()),s=p.data("height"),p.data("width")||p.data("width",p.width()),l=p.data("width")):(s=p.height(),l=p.width()),f.options.dropupAuto&&f.$newElement.toggleClass("dropup",d<c&&n-C.vert<s),f.$newElement.hasClass("dropup")&&(n=c-C.vert),"auto"===f.options.dropdownAlignRight&&p.toggleClass("dropdown-menu-right",h<u&&r-C.horiz<l-v),e=3<a.length+o.length?3*b+C.vert-2:0,p.css({"max-height":n+"px",overflow:"hidden","min-height":e+y+x+w+k+"px"}),m.css({"max-height":n-y-x-w-k-_.vert+"px","overflow-y":"auto","min-height":Math.max(e-_.vert,0)+"px"})};i(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",i),o.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",i)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(t).length>this.options.size){var a=this.$lis.not(".divider").not(t).children().slice(0,this.options.size).last().parent().index(),F=this.$lis.slice(0,a+1).filter(".divider").length;n=b*this.options.size+F*e+_.vert,f.options.container?(p.data("height")||p.data("height",p.height()),s=p.data("height")):s=p.height(),f.options.dropupAuto&&this.$newElement.toggleClass("dropup",d<c&&n-C.vert<s),p.css({"max-height":n+y+x+w+k+"px",overflow:"hidden","min-height":""}),m.css({"max-height":n-_.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,i=e.children(".dropdown-menu").outerWidth(),a=t.css("width","auto").children("button").outerWidth();e.remove(),t.remove(),this.$newElement.css("width",Math.max(i,a)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=E('<div class="bs-container" />');var t,i,a,o=this,n=E(this.options.container),r=function(e){o.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),n.is("body")?i={top:0,left:0}:((i=n.offset()).top+=parseInt(n.css("borderTopWidth"))-n.scrollTop(),i.left+=parseInt(n.css("borderLeftWidth"))-n.scrollLeft()),a=e.hasClass("dropup")?0:e[0].offsetHeight,o.$bsContainer.css({top:t.top-i.top+a,left:t.left-i.left,width:e[0].offsetWidth})};this.$button.on("click",function(){var e=E(this);o.isDisabled()||(r(o.$newElement),o.$bsContainer.appendTo(o.options.container).toggleClass("open",!e.hasClass("open")).append(o.$menu))}),E(window).on("resize scroll",function(){r(o.$newElement)}),this.$element.on("hide.bs.select",function(){o.$menu.data("height",o.$menu.height()),o.$bsContainer.detach()})},setSelected:function(e,t,i){i||(this.togglePlaceholder(),i=this.findLis().eq(this.liObj[e])),i.toggleClass("selected",t).find("a").attr("aria-selected",t)},setDisabled:function(e,t,i){i||(i=this.findLis().eq(this.liObj[e])),t?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element.val();this.$button.toggleClass("bs-placeholder",null===e||""===e||e.constructor===Array&&0===e.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var x=this,t=E(document);t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$button.on("click",function(){x.setSize()}),this.$element.on("shown.bs.select",function(){if(x.options.liveSearch||x.multiple){if(!x.multiple){var e=x.liObj[x.$element[0].selectedIndex];if("number"!=typeof e||!1===x.options.size)return;var t=x.$lis.eq(e)[0].offsetTop-x.$menuInner[0].offsetTop;t=t-x.$menuInner[0].offsetHeight/2+x.sizeInfo.liHeight/2,x.$menuInner[0].scrollTop=t}}else x.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(e){var t=E(this),i=t.parent().data("originalIndex"),a=x.$element.val(),o=x.$element.prop("selectedIndex"),n=!0;if(x.multiple&&1!==x.options.maxOptions&&e.stopPropagation(),e.preventDefault(),!x.isDisabled()&&!t.parent().hasClass("disabled")){var r=x.$element.find("option"),s=r.eq(i),l=s.prop("selected"),c=s.parent("optgroup"),d=x.options.maxOptions,u=c.data("maxOptions")||!1;if(x.multiple){if(s.prop("selected",!l),x.setSelected(i,!l),t.blur(),!1!==d||!1!==u){var h=d<r.filter(":selected").length,f=u<c.find("option:selected").length;if(d&&h||u&&f)if(d&&1==d)r.prop("selected",!1),s.prop("selected",!0),x.$menuInner.find(".selected").removeClass("selected"),x.setSelected(i,!0);else if(u&&1==u){c.find("option:selected").prop("selected",!1),s.prop("selected",!0);var p=t.parent().data("optgroup");x.$menuInner.find('[data-optgroup="'+p+'"]').removeClass("selected"),x.setSelected(i,!0)}else{var m="string"==typeof x.options.maxOptionsText?[x.options.maxOptionsText,x.options.maxOptionsText]:x.options.maxOptionsText,g="function"==typeof m?m(d,u):m,v=g[0].replace("{n}",d),b=g[1].replace("{n}",u),y=E('<div class="notify"></div>');g[2]&&(v=v.replace("{var}",g[2][1<d?0:1]),b=b.replace("{var}",g[2][1<u?0:1])),s.prop("selected",!1),x.$menu.append(y),d&&h&&(y.append(E("<div>"+v+"</div>")),n=!1,x.$element.trigger("maxReached.bs.select")),u&&f&&(y.append(E("<div>"+b+"</div>")),n=!1,x.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){x.setSelected(i,!1)},10),y.delay(750).fadeOut(300,function(){E(this).remove()})}}}else r.prop("selected",!1),s.prop("selected",!0),x.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),x.setSelected(i,!0);!x.multiple||x.multiple&&1===x.options.maxOptions?x.$button.focus():x.options.liveSearch&&x.$searchbox.focus(),n&&(a!=x.$element.val()&&x.multiple||o!=x.$element.prop("selectedIndex")&&!x.multiple)&&(w=[i,s.prop("selected"),l],x.$element.triggerNative("change"))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),x.options.liveSearch&&!E(e.target).hasClass("close")?x.$searchbox.focus():x.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),x.options.liveSearch?x.$searchbox.focus():x.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){x.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){x.options.liveSearch?x.$searchbox.focus():x.$button.focus(),e.preventDefault(),e.stopPropagation(),E(this).hasClass("bs-select-all")?x.selectAll():x.deselectAll()}),this.$element.change(function(){x.render(!1),x.$element.trigger("changed.bs.select",w),w=null})},liveSearchListener:function(){var o=this,n=E('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api",function(){o.$menuInner.find(".active").removeClass("active"),o.$searchbox.val()&&(o.$searchbox.val(""),o.$lis.not(".is-hidden").removeClass("hidden"),n.parent().length&&n.remove()),o.multiple||o.$menuInner.find(".selected").addClass("active"),setTimeout(function(){o.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(o.$lis.not(".is-hidden").removeClass("hidden"),o.$lis.filter(".active").removeClass("active"),n.remove(),o.$searchbox.val()){var e,t=o.$lis.not(".is-hidden, .divider, .dropdown-header");if((e=o.options.liveSearchNormalize?t.find("a").not(":a"+o._searchStyle()+'("'+b(o.$searchbox.val())+'")'):t.find("a").not(":"+o._searchStyle()+'("'+o.$searchbox.val()+'")')).length===t.length)n.html(o.options.noneResultsText.replace("{0}",'"'+D(o.$searchbox.val())+'"')),o.$menuInner.append(n),o.$lis.addClass("hidden");else{e.parent().addClass("hidden");var i,a=o.$lis.not(".hidden");a.each(function(e){var t=E(this);t.hasClass("divider")?void 0===i?t.addClass("hidden"):(i&&i.addClass("hidden"),i=t):t.hasClass("dropdown-header")&&a.eq(e+1).data("optgroup")!==t.data("optgroup")?t.addClass("hidden"):i=null}),i&&i.addClass("hidden"),t.not(".hidden").first().addClass("active")}}})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(e){return void 0!==e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0),this.findLis();var t=this.$element.find("option"),i=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),a=i.length,o=[];if(e){if(i.filter(".selected").length===i.length)return}else if(0===i.filter(".selected").length)return;i.toggleClass("selected",e);for(var n=0;n<a;n++){var r=i[n].getAttribute("data-original-index");o[o.length]=t.eq(r)[0]}E(o).prop("selected",e),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click")},keydown:function(e){var t,i,a,o,n,r,s,l,c,d=E(this),u=d.is("input")?d.parent().parent():d.parent(),h=u.data("this"),f=":not(.disabled, .hidden, .dropdown-header, .divider)",p={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(h.options.liveSearch&&(u=d.parent().parent()),h.options.container&&(u=h.$menu),t=E('[role="listbox"] li',u),!(c=h.$newElement.hasClass("open"))&&(48<=e.keyCode&&e.keyCode<=57||96<=e.keyCode&&e.keyCode<=105||65<=e.keyCode&&e.keyCode<=90))return h.options.container?h.$button.trigger("click"):(h.setSize(),h.$menu.parent().addClass("open"),c=!0),void h.$searchbox.focus();if(h.options.liveSearch&&(/(^9$|27)/.test(e.keyCode.toString(10))&&c&&(e.preventDefault(),e.stopPropagation(),h.$menuInner.click(),h.$button.focus()),t=E('[role="listbox"] li'+f,u),d.val()||/(38|40)/.test(e.keyCode.toString(10))||0===t.filter(".active").length&&(t=h.$menuInner.find("li"),t=h.options.liveSearchNormalize?t.filter(":a"+h._searchStyle()+"("+b(p[e.keyCode])+")"):t.filter(":"+h._searchStyle()+"("+p[e.keyCode]+")"))),t.length){if(/(38|40)/.test(e.keyCode.toString(10)))i=t.index(t.find("a").filter(":focus").parent()),o=t.filter(f).first().index(),n=t.filter(f).last().index(),a=t.eq(i).nextAll(f).eq(0).index(),r=t.eq(i).prevAll(f).eq(0).index(),s=t.eq(a).prevAll(f).eq(0).index(),h.options.liveSearch&&(t.each(function(e){E(this).hasClass("disabled")||E(this).data("index",e)}),i=t.index(t.filter(".active")),o=t.first().data("index"),n=t.last().data("index"),a=t.eq(i).nextAll().eq(0).data("index"),r=t.eq(i).prevAll().eq(0).data("index"),s=t.eq(a).prevAll().eq(0).data("index")),l=d.data("prevIndex"),38==e.keyCode?(h.options.liveSearch&&i--,i!=s&&r<i&&(i=r),i<o&&(i=o),i==l&&(i=n)):40==e.keyCode&&(h.options.liveSearch&&i++,-1==i&&(i=0),i!=s&&i<a&&(i=a),n<i&&(i=n),i==l&&(i=o)),d.data("prevIndex",i),h.options.liveSearch?(e.preventDefault(),d.hasClass("dropdown-toggle")||(t.removeClass("active").eq(i).addClass("active").children("a").focus(),d.focus())):t.eq(i).children("a").focus();else if(!d.is("input")){var m,g=[];t.each(function(){E(this).hasClass("disabled")||E.trim(E(this).children("a").text().toLowerCase()).substring(0,1)==p[e.keyCode]&&g.push(E(this).index())}),m=E(document).data("keycount"),m++,E(document).data("keycount",m),E.trim(E(":focus").text().toLowerCase()).substring(0,1)!=p[e.keyCode]?(m=1,E(document).data("keycount",m)):m>=g.length&&(E(document).data("keycount",0),m>g.length&&(m=1)),t.eq(g[m-1]).children("a").focus()}if((/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&h.options.selectOnTab)&&c){if(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),h.options.liveSearch)/(32)/.test(e.keyCode.toString(10))||(h.$menuInner.find(".active a").click(),d.focus());else{var v=E(":focus");v.click(),v.focus(),e.preventDefault(),E(document).data("spaceSelect",!0)}E(document).data("keycount",0)}(/(^9$|27)/.test(e.keyCode.toString(10))&&c&&(h.multiple||h.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!c)&&(h.$menu.parent().removeClass("open"),h.options.container&&h.$newElement.removeClass("open"),h.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var h=E.fn.selectpicker;E.fn.selectpicker=r,E.fn.selectpicker.Constructor=u,E.fn.selectpicker.noConflict=function(){return E.fn.selectpicker=h,this},E(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',u.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(e){e.stopPropagation()}),E(window).on("load.bs.select.data-api",function(){E(".selectpicker").each(function(){var e=E(this);r.call(e,e.data())})})}(e)}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){e.fn.selectpicker.defaults={noneSelectedText:"No hay seleccin",noneResultsText:"No hay resultados {0}",countSelectedText:"Seleccionados {0} de {1}",maxOptionsText:["Lmite alcanzado ({n} {var} max)","Lmite del grupo alcanzado({n} {var} max)",["elementos","element"]],multipleSeparator:", ",selectAllText:"Seleccionar Todos",deselectAllText:"Desmarcar Todos"}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Cropper=t()}(this,function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ye(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var n="undefined"!=typeof window,r=n?window:{},e=!!n&&"ontouchstart"in r.document.documentElement,i=!!n&&"PointerEvent"in r,d="cropper",s="".concat(d,"-crop"),a="".concat(d,"-disabled"),F="".concat(d,"-hidden"),u="".concat(d,"-hide"),h="".concat(d,"-invisible"),l="".concat(d,"-modal"),f="".concat(d,"-move"),p="".concat(d,"Action"),m="".concat(d,"Preview"),c="cropend",g="cropmove",v="cropstart",b=i?"pointerdown":e?"touchstart":"mousedown",y=i?"pointermove":e?"touchmove":"mousemove",x=i?"pointerup pointercancel":e?"touchend touchcancel":"mouseup",w="image/jpeg",k=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,_=/^data:image\/jpeg;base64,/,C=/^img|canvas$/i,T={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},S=Number.isNaN||r.isNaN;function E(e){return"number"==typeof e&&!S(e)}var D=function(e){return 0<e&&e<1/0};function I(e){return void 0===e}function P(e){return"object"===t(e)&&null!==e}var M=Object.prototype.hasOwnProperty;function A(e){if(!P(e))return!1;try{var t=e.constructor,i=t.prototype;return t&&i&&M.call(i,"isPrototypeOf")}catch(e){return!1}}function $(e){return"function"==typeof e}var R=Array.prototype.slice;function N(e){return Array.from?Array.from(e):R.call(e)}function O(i,a){return i&&$(a)&&(Array.isArray(i)||E(i.length)?N(i).forEach(function(e,t){a.call(i,e,t,i)}):P(i)&&Object.keys(i).forEach(function(e){a.call(i,i[e],e,i)})),i}var L=Object.assign||function(i){for(var e=arguments.length,t=new Array(1<e?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return P(i)&&0<t.length&&t.forEach(function(t){P(t)&&Object.keys(t).forEach(function(e){i[e]=t[e]})}),i},V=/\.\d*(?:0|9){12}\d*$/;function xe(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e11;return V.test(e)?Math.round(e*t)/t:e}var B=/^width|height|left|top|marginLeft|marginTop$/;function z(e,t){var i=e.style;O(t,function(e,t){B.test(t)&&E(e)&&(e="".concat(e,"px")),i[t]=e})}function G(e,t){if(t)if(E(e.length))O(e,function(e){G(e,t)});else if(e.classList)e.classList.add(t);else{var i=e.className.trim();i?i.indexOf(t)<0&&(e.className="".concat(i," ").concat(t)):e.className=t}}function U(e,t){t&&(E(e.length)?O(e,function(e){U(e,t)}):e.classList?e.classList.remove(t):0<=e.className.indexOf(t)&&(e.className=e.className.replace(t,"")))}function W(e,t,i){t&&(E(e.length)?O(e,function(e){W(e,t,i)}):i?G(e,t):U(e,t))}var j=/([a-z\d])([A-Z])/g;function H(e){return e.replace(j,"$1-$2").toLowerCase()}function Y(e,t){return P(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(H(t)))}function q(e,t,i){P(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-".concat(H(t)),i)}var X=/\s\s*/,Z=function(){var e=!1;if(n){var t=!1,i=function(){},a=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});r.addEventListener("test",i,a),r.removeEventListener("test",i,a)}return e}();function K(i,e,a){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},n=a;e.trim().split(X).forEach(function(e){if(!Z){var t=i.listeners;t&&t[e]&&t[e][a]&&(n=t[e][a],delete t[e][a],0===Object.keys(t[e]).length&&delete t[e],0===Object.keys(t).length&&delete i.listeners)}i.removeEventListener(e,n,o)})}function J(n,e,r){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},l=r;e.trim().split(X).forEach(function(a){if(s.once&&!Z){var e=n.listeners,o=void 0===e?{}:e;l=function(){delete o[a][r],n.removeEventListener(a,l,s);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.apply(n,t)},o[a]||(o[a]={}),o[a][r]&&n.removeEventListener(a,o[a][r],s),o[a][r]=l,n.listeners=o}n.addEventListener(a,l,s)})}function Q(e,t,i){var a;return $(Event)&&$(CustomEvent)?a=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(a=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),e.dispatchEvent(a)}function ee(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var te=r.location,ie=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ae(e){var t=e.match(ie);return null!==t&&(t[1]!==te.protocol||t[2]!==te.hostname||t[3]!==te.port)}function oe(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function ne(e){var t=e.rotate,i=e.scaleX,a=e.scaleY,o=e.translateX,n=e.translateY,r=[];E(o)&&0!==o&&r.push("translateX(".concat(o,"px)")),E(n)&&0!==n&&r.push("translateY(".concat(n,"px)")),E(t)&&0!==t&&r.push("rotate(".concat(t,"deg)")),E(i)&&1!==i&&r.push("scaleX(".concat(i,")")),E(a)&&1!==a&&r.push("scaleY(".concat(a,")"));var s=r.length?r.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function re(e,t){var i=e.pageX,a=e.pageY,o={endX:i,endY:a};return t?o:L({startX:i,startY:a},o)}function we(e){var t=e.aspectRatio,i=e.height,a=e.width,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"contain",n=D(a),r=D(i);if(n&&r){var s=i*t;"contain"===o&&a<s||"cover"===o&&s<a?i=a/t:a=i*t}else n?i=a/t:r&&(a=i*t);return{width:a,height:i}}var se=String.fromCharCode;var le=/^data:.*,/;function ce(e){var t,i=new DataView(e);try{var a,o,n;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var r=i.byteLength,s=2;s+1<r;){if(255===i.getUint8(s)&&225===i.getUint8(s+1)){o=s;break}s+=1}if(o){var l=o+10;if("Exif"===function(e,t,i){var a="";i+=t;for(var o=t;o<i;o+=1)a+=se(e.getUint8(o));return a}(i,o+4,4)){var c=i.getUint16(l);if(((a=18761===c)||19789===c)&&42===i.getUint16(l+2,a)){var d=i.getUint32(l+4,a);8<=d&&(n=l+d)}}}if(n){var u,h,f=i.getUint16(n,a);for(h=0;h<f;h+=1)if(u=n+12*h+2,274===i.getUint16(u,a)){u+=8,t=i.getUint16(u,a),i.setUint16(u,1,a);break}}}catch(e){t=1}return t}var de={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,i=this.container,a=this.cropper;G(a,F),U(e,F);var o={width:Math.max(i.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(t.minContainerHeight)||100)};z(a,{width:(this.containerData=o).width,height:o.height}),G(e,F),U(a,F)},initCanvas:function(){var e=this.containerData,t=this.imageData,i=this.options.viewMode,a=Math.abs(t.rotate)%180==90,o=a?t.naturalHeight:t.naturalWidth,n=a?t.naturalWidth:t.naturalHeight,r=o/n,s=e.width,l=e.height;e.height*r>e.width?3===i?s=e.height*r:l=e.width/r:3===i?l=e.width/r:s=e.height*r;var c={aspectRatio:r,naturalWidth:o,naturalHeight:n,width:s,height:l};c.left=(e.width-s)/2,c.top=(e.height-l)/2,c.oldLeft=c.left,c.oldTop=c.top,this.canvasData=c,this.limited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImageData=L({},t),this.initialCanvasData=L({},c)},limitCanvas:function(e,t){var i=this.options,a=this.containerData,o=this.canvasData,n=this.cropBoxData,r=i.viewMode,s=o.aspectRatio,l=this.cropped&&n;if(e){var c=Number(i.minCanvasWidth)||0,d=Number(i.minCanvasHeight)||0;1<r?(c=Math.max(c,a.width),d=Math.max(d,a.height),3===r&&(c<d*s?c=d*s:d=c/s)):0<r&&(c?c=Math.max(c,l?n.width:0):d?d=Math.max(d,l?n.height:0):l&&((c=n.width)<(d=n.height)*s?c=d*s:d=c/s));var u=we({aspectRatio:s,width:c,height:d});c=u.width,d=u.height,o.minWidth=c,o.minHeight=d,o.maxWidth=1/0,o.maxHeight=1/0}if(t)if((l?0:1)<r){var h=a.width-o.width,f=a.height-o.height;o.minLeft=Math.min(0,h),o.minTop=Math.min(0,f),o.maxLeft=Math.max(0,h),o.maxTop=Math.max(0,f),l&&this.limited&&(o.minLeft=Math.min(n.left,n.left+(n.width-o.width)),o.minTop=Math.min(n.top,n.top+(n.height-o.height)),o.maxLeft=n.left,o.maxTop=n.top,2===r&&(o.width>=a.width&&(o.minLeft=Math.min(0,h),o.maxLeft=Math.max(0,h)),o.height>=a.height&&(o.minTop=Math.min(0,f),o.maxTop=Math.max(0,f))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=a.width,o.maxTop=a.height},renderCanvas:function(e,t){var i=this.canvasData,a=this.imageData;if(t){var o=function(e){var t=e.width,i=e.height,a=e.degree;if(90==(a=Math.abs(a)%180))return{width:i,height:t};var o=a%90*Math.PI/180,n=Math.sin(o),r=Math.cos(o),s=t*r+i*n,l=t*n+i*r;return 90<a?{width:l,height:s}:{width:s,height:l}}({width:a.naturalWidth*Math.abs(a.scaleX||1),height:a.naturalHeight*Math.abs(a.scaleY||1),degree:a.rotate||0}),n=o.width,r=o.height,s=i.width*(n/i.naturalWidth),l=i.height*(r/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(l-i.height)/2,i.width=s,i.height=l,i.aspectRatio=n/r,i.naturalWidth=n,i.naturalHeight=r,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,z(this.canvas,L({width:i.width,height:i.height},ne({translateX:i.left,translateY:i.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,i=this.imageData,a=i.naturalWidth*(t.width/t.naturalWidth),o=i.naturalHeight*(t.height/t.naturalHeight);L(i,{width:a,height:o,left:(t.width-a)/2,top:(t.height-o)/2}),z(this.image,L({width:i.width,height:i.height},ne(L({translateX:i.left,translateY:i.top},i)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,i=e.aspectRatio||e.initialAspectRatio,a=Number(e.autoCropArea)||.8,o={width:t.width,height:t.height};i&&(t.height*i>t.width?o.height=o.width/i:o.width=o.height*i),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*a),o.height=Math.max(o.minHeight,o.height*a),o.left=t.left+(t.width-o.width)/2,o.top=t.top+(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=L({},o)},limitCropBox:function(e,t){var i=this.options,a=this.containerData,o=this.canvasData,n=this.cropBoxData,r=this.limited,s=i.aspectRatio;if(e){var l=Number(i.minCropBoxWidth)||0,c=Number(i.minCropBoxHeight)||0,d=r?Math.min(a.width,o.width,o.width+o.left,a.width-o.left):a.width,u=r?Math.min(a.height,o.height,o.height+o.top,a.height-o.top):a.height;l=Math.min(l,a.width),c=Math.min(c,a.height),s&&(l&&c?l<c*s?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),d<u*s?u=d/s:d=u*s),n.minWidth=Math.min(l,d),n.minHeight=Math.min(c,u),n.maxWidth=d,n.maxHeight=u}t&&(r?(n.minLeft=Math.max(0,o.left),n.minTop=Math.max(0,o.top),n.maxLeft=Math.min(a.width,o.left+o.width)-n.width,n.maxTop=Math.min(a.height,o.top+o.height)-n.height):(n.minLeft=0,n.minTop=0,n.maxLeft=a.width-n.width,n.maxTop=a.height-n.height))},renderCropBox:function(){var e=this.options,t=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,e.movable&&e.cropBoxMovable&&q(this.face,p,i.width>=t.width&&i.height>=t.height?"move":"all"),z(this.cropBox,L({width:i.width,height:i.height},ne({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Q(this.element,"crop",this.getData())}},ue={initPreview:function(){var i=this.crossOrigin,e=this.options.preview,a=i?this.crossOriginUrl:this.url,t=document.createElement("img");if(i&&(t.crossOrigin=i),t.src=a,this.viewBox.appendChild(t),this.viewBoxImage=t,e){var o=e;"string"==typeof e?o=this.element.ownerDocument.querySelectorAll(e):e.querySelector&&(o=[e]),O(this.previews=o,function(e){var t=document.createElement("img");q(e,m,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),i&&(t.crossOrigin=i),t.src=a,t.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(t)})}},resetPreview:function(){O(this.previews,function(e){var t=Y(e,m);z(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(t,i){if(P(t[i]))try{delete t[i]}catch(e){t[i]=void 0}else if(t.dataset)try{delete t.dataset[i]}catch(e){t.dataset[i]=void 0}else t.removeAttribute("data-".concat(H(i)))}(e,m)})},preview:function(){var s=this.imageData,e=this.canvasData,t=this.cropBoxData,l=t.width,c=t.height,d=s.width,u=s.height,h=t.left-e.left-s.left,f=t.top-e.top-s.top;this.cropped&&!this.disabled&&(z(this.viewBoxImage,L({width:d,height:u},ne(L({translateX:-h,translateY:-f},s)))),O(this.previews,function(e){var t=Y(e,m),i=t.width,a=t.height,o=i,n=a,r=1;l&&(n=c*(r=i/l)),c&&a<n&&(o=l*(r=a/c),n=a),z(e,{width:o,height:n}),z(e.getElementsByTagName("img")[0],L({width:d*r,height:u*r},ne(L({translateX:-h*r,translateY:-f*r},s))))}))}},he={bind:function(){var e=this.element,t=this.options,i=this.cropper;$(t.cropstart)&&J(e,v,t.cropstart),$(t.cropmove)&&J(e,g,t.cropmove),$(t.cropend)&&J(e,c,t.cropend),$(t.crop)&&J(e,"crop",t.crop),$(t.zoom)&&J(e,"zoom",t.zoom),J(i,b,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&J(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&J(i,"dblclick",this.onDblclick=this.dblclick.bind(this)),J(e.ownerDocument,y,this.onCropMove=this.cropMove.bind(this)),J(e.ownerDocument,x,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&J(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,i=this.cropper;$(t.cropstart)&&K(e,v,t.cropstart),$(t.cropmove)&&K(e,g,t.cropmove),$(t.cropend)&&K(e,c,t.cropend),$(t.crop)&&K(e,"crop",t.crop),$(t.zoom)&&K(e,"zoom",t.zoom),K(i,b,this.onCropStart),t.zoomable&&t.zoomOnWheel&&K(i,"wheel",this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&K(i,"dblclick",this.onDblclick),K(e.ownerDocument,y,this.onCropMove),K(e.ownerDocument,x,this.onCropEnd),t.responsive&&K(window,"resize",this.onResize)}},fe={resize:function(){var e=this.options,t=this.container,i=this.containerData,a=Number(e.minContainerWidth)||200,o=Number(e.minContainerHeight)||100;if(!(this.disabled||i.width<=a||i.height<=o)){var n,r,s=t.offsetWidth/i.width;if(1!==s||t.offsetHeight!==i.height)e.restore&&(n=this.getCanvasData(),r=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(O(n,function(e,t){n[t]=e*s})),this.setCropBoxData(O(r,function(e,t){r[t]=e*s})))}},dblclick:function(){var e,t;this.disabled||"none"===this.options.dragMode||this.setDragMode((e=this.dragBox,t=s,(e.classList?e.classList.contains(t):-1<e.className.indexOf(t))?"move":"crop"))},wheel:function(e){var t=this,i=Number(this.options.wheelZoomRatio)||.1,a=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),e.deltaY?a=0<e.deltaY?1:-1:e.wheelDelta?a=-e.wheelDelta/120:e.detail&&(a=0<e.detail?1:-1),this.zoom(-a*i,e)))},cropStart:function(e){var t=e.buttons,i=e.button;if(!(this.disabled||E(t)&&1!==t||E(i)&&0!==i||e.ctrlKey)){var a,o=this.options,n=this.pointers;e.changedTouches?O(e.changedTouches,function(e){n[e.identifier]=re(e)}):n[e.pointerId||0]=re(e),a=1<Object.keys(n).length&&o.zoomable&&o.zoomOnTouch?"zoom":Y(e.target,p),k.test(a)&&!1!==Q(this.element,v,{originalEvent:e,action:a})&&(e.preventDefault(),this.action=a,this.cropping=!1,"crop"===a&&(this.cropping=!0,G(this.dragBox,l)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var i=this.pointers;e.preventDefault(),!1!==Q(this.element,g,{originalEvent:e,action:t})&&(e.changedTouches?O(e.changedTouches,function(e){L(i[e.identifier]||{},re(e,!0))}):L(i[e.pointerId||0]||{},re(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,i=this.pointers;e.changedTouches?O(e.changedTouches,function(e){delete i[e.identifier]}):delete i[e.pointerId||0],t&&(e.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,W(this.dragBox,l,this.cropped&&this.options.modal)),Q(this.element,c,{originalEvent:e,action:t}))}}},pe={change:function(e){var t,i=this.options,a=this.canvasData,o=this.containerData,n=this.cropBoxData,r=this.pointers,s=this.action,l=i.aspectRatio,c=n.left,d=n.top,u=n.width,h=n.height,f=c+u,p=d+h,m=0,g=0,v=o.width,b=o.height,y=!0;!l&&e.shiftKey&&(l=u&&h?u/h:1),this.limited&&(m=n.minLeft,g=n.minTop,v=m+Math.min(o.width,a.width,a.left+a.width),b=g+Math.min(o.height,a.height,a.top+a.height));var x,w,k,_=r[Object.keys(r)[0]],C={x:_.endX-_.startX,y:_.endY-_.startY},T=function(e){switch(e){case"e":f+C.x>v&&(C.x=v-f);break;case"w":c+C.x<m&&(C.x=m-c);break;case"n":d+C.y<g&&(C.y=g-d);break;case"s":p+C.y>b&&(C.y=b-p)}};switch(s){case"all":c+=C.x,d+=C.y;break;case"e":if(0<=C.x&&(v<=f||l&&(d<=g||b<=p))){y=!1;break}T("e"),(u+=C.x)<0&&(s="w",c-=u=-u),l&&(h=u/l,d+=(n.height-h)/2);break;case"n":if(C.y<=0&&(d<=g||l&&(c<=m||v<=f))){y=!1;break}T("n"),h-=C.y,d+=C.y,h<0&&(s="s",d-=h=-h),l&&(u=h*l,c+=(n.width-u)/2);break;case"w":if(C.x<=0&&(c<=m||l&&(d<=g||b<=p))){y=!1;break}T("w"),u-=C.x,c+=C.x,u<0&&(s="e",c-=u=-u),l&&(h=u/l,d+=(n.height-h)/2);break;case"s":if(0<=C.y&&(b<=p||l&&(c<=m||v<=f))){y=!1;break}T("s"),(h+=C.y)<0&&(s="n",d-=h=-h),l&&(u=h*l,c+=(n.width-u)/2);break;case"ne":if(l){if(C.y<=0&&(d<=g||v<=f)){y=!1;break}T("n"),h-=C.y,d+=C.y,u=h*l}else T("n"),T("e"),0<=C.x?f<v?u+=C.x:C.y<=0&&d<=g&&(y=!1):u+=C.x,C.y<=0?g<d&&(h-=C.y,d+=C.y):(h-=C.y,d+=C.y);u<0&&h<0?(s="sw",d-=h=-h,c-=u=-u):u<0?(s="nw",c-=u=-u):h<0&&(s="se",d-=h=-h);break;case"nw":if(l){if(C.y<=0&&(d<=g||c<=m)){y=!1;break}T("n"),h-=C.y,d+=C.y,u=h*l,c+=n.width-u}else T("n"),T("w"),C.x<=0?m<c?(u-=C.x,c+=C.x):C.y<=0&&d<=g&&(y=!1):(u-=C.x,c+=C.x),C.y<=0?g<d&&(h-=C.y,d+=C.y):(h-=C.y,d+=C.y);u<0&&h<0?(s="se",d-=h=-h,c-=u=-u):u<0?(s="ne",c-=u=-u):h<0&&(s="sw",d-=h=-h);break;case"sw":if(l){if(C.x<=0&&(c<=m||b<=p)){y=!1;break}T("w"),u-=C.x,c+=C.x,h=u/l}else T("s"),T("w"),C.x<=0?m<c?(u-=C.x,c+=C.x):0<=C.y&&b<=p&&(y=!1):(u-=C.x,c+=C.x),0<=C.y?p<b&&(h+=C.y):h+=C.y;u<0&&h<0?(s="ne",d-=h=-h,c-=u=-u):u<0?(s="se",c-=u=-u):h<0&&(s="nw",d-=h=-h);break;case"se":if(l){if(0<=C.x&&(v<=f||b<=p)){y=!1;break}T("e"),h=(u+=C.x)/l}else T("s"),T("e"),0<=C.x?f<v?u+=C.x:0<=C.y&&b<=p&&(y=!1):u+=C.x,0<=C.y?p<b&&(h+=C.y):h+=C.y;u<0&&h<0?(s="nw",d-=h=-h,c-=u=-u):u<0?(s="sw",c-=u=-u):h<0&&(s="ne",d-=h=-h);break;case"move":this.move(C.x,C.y),y=!1;break;case"zoom":this.zoom((w=L({},x=r),k=[],O(x,function(s,e){delete w[e],O(w,function(e){var t=Math.abs(s.startX-e.startX),i=Math.abs(s.startY-e.startY),a=Math.abs(s.endX-e.endX),o=Math.abs(s.endY-e.endY),n=Math.sqrt(t*t+i*i),r=(Math.sqrt(a*a+o*o)-n)/n;k.push(r)})}),k.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),k[0]),e),y=!1;break;case"crop":if(!C.x||!C.y){y=!1;break}t=ee(this.cropper),c=_.startX-t.left,d=_.startY-t.top,u=n.minWidth,h=n.minHeight,0<C.x?s=0<C.y?"se":"ne":C.x<0&&(c-=u,s=0<C.y?"sw":"nw"),C.y<0&&(d-=h),this.cropped||(U(this.cropBox,F),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}y&&(n.width=u,n.height=h,n.left=c,n.top=d,this.action=s,this.renderCropBox()),O(r,function(e){e.startX=e.endX,e.startY=e.endY})}},me={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&G(this.dragBox,l),U(this.cropBox,F),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=L({},this.initialImageData),this.canvasData=L({},this.initialCanvasData),this.cropBoxData=L({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(L(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),U(this.dragBox,l),G(this.cropBox,F)),this},replace:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,O(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,U(this.cropper,a)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,G(this.cropper,a)),this},destroy:function(){var e=this.element;return e[d]&&(e[d]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate()),this},move:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,a=i.left,o=i.top;return this.moveTo(I(e)?e:a+Number(e),I(t)?t:o+Number(t))},moveTo:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,a=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(E(e)&&(i.left=e,a=!0),E(t)&&(i.top=t,a=!0),a&&this.renderCanvas(!0)),this},zoom:function(e,t){var i=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(i.width*e/i.naturalWidth,null,t)},zoomTo:function(e,t,i){var a,o,n,r=this.options,s=this.canvasData,l=s.width,c=s.height,d=s.naturalWidth,u=s.naturalHeight;if(0<=(e=Number(e))&&this.ready&&!this.disabled&&r.zoomable){var h=d*e,f=u*e;if(!1===Q(this.element,"zoom",{ratio:e,oldRatio:l/d,originalEvent:i}))return this;if(i){var p=this.pointers,m=ee(this.cropper),g=p&&Object.keys(p).length?(n=o=a=0,O(p,function(e){var t=e.startX,i=e.startY;a+=t,o+=i,n+=1}),{pageX:a/=n,pageY:o/=n}):{pageX:i.pageX,pageY:i.pageY};s.left-=(h-l)*((g.pageX-m.left-s.left)/l),s.top-=(f-c)*((g.pageY-m.top-s.top)/c)}else A(t)&&E(t.x)&&E(t.y)?(s.left-=(h-l)*((t.x-s.left)/l),s.top-=(f-c)*((t.y-s.top)/c)):(s.left-=(h-l)/2,s.top-=(f-c)/2);s.width=h,s.height=f,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return E(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,E(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(E(t)?t:1,e)},scale:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,i=this.imageData,a=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(E(e)&&(i.scaleX=e,a=!0),E(t)&&(i.scaleY=t,a=!0),a&&this.renderCanvas(!0,!0)),this},getData:function(){var i,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.options,a=this.imageData,o=this.canvasData,n=this.cropBoxData;if(this.ready&&this.cropped){i={x:n.left-o.left,y:n.top-o.top,width:n.width,height:n.height};var r=a.width/a.naturalWidth;if(O(i,function(e,t){i[t]=e/r}),e){var s=Math.round(i.y+i.height),l=Math.round(i.x+i.width);i.x=Math.round(i.x),i.y=Math.round(i.y),i.width=l-i.x,i.height=s-i.y}}else i={x:0,y:0,width:0,height:0};return t.rotatable&&(i.rotate=a.rotate||0),t.scalable&&(i.scaleX=a.scaleX||1,i.scaleY=a.scaleY||1),i},setData:function(e){var t=this.options,i=this.imageData,a=this.canvasData,o={};if(this.ready&&!this.disabled&&A(e)){var n=!1;t.rotatable&&E(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,n=!0),t.scalable&&(E(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,n=!0),E(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,n=!0)),n&&this.renderCanvas(!0,!0);var r=i.width/i.naturalWidth;E(e.x)&&(o.left=e.x*r+a.left),E(e.y)&&(o.top=e.y*r+a.top),E(e.width)&&(o.width=e.width*r),E(e.height)&&(o.height=e.height*r),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?L({},this.containerData):{}},getImageData:function(){return this.sized?L({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,i={};return this.ready&&O(["left","top","width","height","naturalWidth","naturalHeight"],function(e){i[e]=t[e]}),i},setCanvasData:function(e){var t=this.canvasData,i=t.aspectRatio;return this.ready&&!this.disabled&&A(e)&&(E(e.left)&&(t.left=e.left),E(e.top)&&(t.top=e.top),E(e.width)?(t.width=e.width,t.height=e.width/i):E(e.height)&&(t.height=e.height,t.width=e.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,i,a=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&A(e)&&(E(e.left)&&(a.left=e.left),E(e.top)&&(a.top=e.top),E(e.width)&&e.width!==a.width&&(t=!0,a.width=e.width),E(e.height)&&e.height!==a.height&&(i=!0,a.height=e.height),o&&(t?a.height=a.width/o:i&&(a.width=a.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t,i,a,o,n,r,s,l,c,d,u,h,f,p,m,g,v,b,y,x,w,k,_,C,T,F,S,E,D,I,P,M,A,$,R,N,O,L,V,B,z,G=this.canvasData,U=(t=this.image,i=this.imageData,a=G,o=e,n=i.aspectRatio,r=i.naturalWidth,s=i.naturalHeight,l=i.rotate,c=void 0===l?0:l,d=i.scaleX,u=void 0===d?1:d,h=i.scaleY,f=void 0===h?1:h,p=a.aspectRatio,m=a.naturalWidth,g=a.naturalHeight,v=o.fillColor,b=void 0===v?"transparent":v,y=o.imageSmoothingEnabled,x=void 0===y||y,w=o.imageSmoothingQuality,k=void 0===w?"low":w,_=o.maxWidth,C=void 0===_?1/0:_,T=o.maxHeight,F=void 0===T?1/0:T,S=o.minWidth,E=void 0===S?0:S,D=o.minHeight,I=void 0===D?0:D,P=document.createElement("canvas"),M=P.getContext("2d"),A=we({aspectRatio:p,width:C,height:F}),$=we({aspectRatio:p,width:E,height:I},"cover"),R=Math.min(A.width,Math.max($.width,m)),N=Math.min(A.height,Math.max($.height,g)),O=we({aspectRatio:n,width:C,height:F}),L=we({aspectRatio:n,width:E,height:I},"cover"),V=Math.min(O.width,Math.max(L.width,r)),B=Math.min(O.height,Math.max(L.height,s)),z=[-V/2,-B/2,V,B],P.width=xe(R),P.height=xe(N),M.fillStyle=b,M.fillRect(0,0,R,N),M.save(),M.translate(R/2,N/2),M.rotate(c*Math.PI/180),M.scale(u,f),M.imageSmoothingEnabled=x,M.imageSmoothingQuality=k,M.drawImage.apply(M,[t].concat(ye(z.map(function(e){return Math.floor(xe(e))})))),M.restore(),P);if(!this.cropped)return U;var W=this.getData(),j=W.x,H=W.y,Y=W.width,q=W.height,X=U.width/Math.floor(G.naturalWidth);1!==X&&(j*=X,H*=X,Y*=X,q*=X);var Z=Y/q,K=we({aspectRatio:Z,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),J=we({aspectRatio:Z,width:e.minWidth||0,height:e.minHeight||0},"cover"),Q=we({aspectRatio:Z,width:e.width||(1!==X?U.width:Y),height:e.height||(1!==X?U.height:q)}),ee=Q.width,te=Q.height;ee=Math.min(K.width,Math.max(J.width,ee)),te=Math.min(K.height,Math.max(J.height,te));var ie=document.createElement("canvas"),ae=ie.getContext("2d");ie.width=xe(ee),ie.height=xe(te),ae.fillStyle=e.fillColor||"transparent",ae.fillRect(0,0,ee,te);var oe=e.imageSmoothingEnabled,ne=void 0===oe||oe,re=e.imageSmoothingQuality;ae.imageSmoothingEnabled=ne,re&&(ae.imageSmoothingQuality=re);var se,le,ce,de,ue,he,fe=U.width,pe=U.height,me=j,ge=H;me<=-Y||fe<me?ue=ce=se=me=0:me<=0?(ce=-me,me=0,ue=se=Math.min(fe,Y+me)):me<=fe&&(ce=0,ue=se=Math.min(Y,fe-me)),se<=0||ge<=-q||pe<ge?he=de=le=ge=0:ge<=0?(de=-ge,ge=0,he=le=Math.min(pe,q+ge)):ge<=pe&&(de=0,he=le=Math.min(q,pe-ge));var ve=[me,ge,se,le];if(0<ue&&0<he){var be=ee/Y;ve.push(ce*be,de*be,ue*be,he*be)}return ae.drawImage.apply(ae,[U].concat(ye(ve.map(function(e){return Math.floor(xe(e))})))),ie},setAspectRatio:function(e){var t=this.options;return this.disabled||I(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,i=this.dragBox,a=this.face;if(this.ready&&!this.disabled){var o="crop"===e,n=t.movable&&"move"===e;e=o||n?e:"none",t.dragMode=e,q(i,p,e),W(i,s,o),W(i,f,n),t.cropBoxMovable||(q(a,p,e),W(a,s,o),W(a,f,n))}return this}},ge=r.Cropper,ve=function(){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),!e||!C.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=L({},T,A(t)&&t),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var e,t,a;return e=i,a=[{key:"noConflict",value:function(){return window.Cropper=ge,i}},{key:"setDefaults",value:function(e){L(T,A(e)&&e)}}],(t=[{key:"init",value:function(){var e,t=this.element,i=t.tagName.toLowerCase();if(!t[d]){if(t[d]=this,"img"===i){if(this.isImg=!0,e=t.getAttribute("src")||"",!(this.originalUrl=e))return;e=t.src}else"canvas"===i&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var i=this.element,a=this.options;if(a.rotatable||a.scalable||(a.checkOrientation=!1),a.checkOrientation&&window.ArrayBuffer)if(_.test(e))this.read((o=e.replace(le,""),n=atob(o),r=new ArrayBuffer(n.length),O(s=new Uint8Array(r),function(e,t){s[t]=n.charCodeAt(t)}),r));else{var o,n,r,s,l=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,(this.xhr=l).onabort=c,l.onerror=c,l.ontimeout=c,l.onprogress=function(){l.getResponseHeader("content-type")!==w&&l.abort()},l.onload=function(){t.read(l.response)},l.onloadend=function(){t.reloading=!1,t.xhr=null},a.checkCrossOrigin&&ae(e)&&i.crossOrigin&&(e=oe(e)),l.open("GET",e),l.responseType="arraybuffer",l.withCredentials="use-credentials"===i.crossOrigin,l.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,i=this.imageData,a=ce(e),o=0,n=1,r=1;if(1<a){this.url=function(e,t){for(var i=[],a=new Uint8Array(e);0<a.length;)i.push(se.apply(null,N(a.subarray(0,8192)))),a=a.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(i.join("")))}(e,w);var s=function(e){var t=0,i=1,a=1;switch(e){case 2:i=-1;break;case 3:t=-180;break;case 4:a=-1;break;case 5:t=90,a=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90}return{rotate:t,scaleX:i,scaleY:a}}(a);o=s.rotate,n=s.scaleX,r=s.scaleY}t.rotatable&&(i.rotate=o),t.scalable&&(i.scaleX=n,i.scaleY=r),this.clone()}},{key:"clone",value:function(){var e,t,i=this.element,a=this.url;this.options.checkCrossOrigin&&ae(a)&&((e=i.crossOrigin)?t=a:(e="anonymous",t=oe(a))),this.crossOrigin=e,this.crossOriginUrl=t;var o=document.createElement("img");e&&(o.crossOrigin=e),o.src=t||a,(this.image=o).onload=this.start.bind(this),o.onerror=this.stop.bind(this),G(o,u),i.parentNode.insertBefore(o,i.nextSibling)}},{key:"start",value:function(){var i=this,e=this.isImg?this.element:this.image;e.onload=null,e.onerror=null,this.sizing=!0;var t=r.navigator&&/^(?:.(?!chrome|android))*safari/i.test(r.navigator.userAgent),a=function(e,t){L(i.imageData,{naturalWidth:e,naturalHeight:t,aspectRatio:e/t}),i.sizing=!1,i.sized=!0,i.build()};if(!e.naturalWidth||t){var o=document.createElement("img"),n=document.body||document.documentElement;(this.sizingImage=o).onload=function(){a(o.width,o.height),t||n.removeChild(o)},o.src=e.src,t||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(o))}else a(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,i=this.image,a=e.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var n=o.querySelector(".".concat(d,"-container")),r=n.querySelector(".".concat(d,"-canvas")),s=n.querySelector(".".concat(d,"-drag-box")),l=n.querySelector(".".concat(d,"-crop-box")),c=l.querySelector(".".concat(d,"-face"));this.container=a,this.cropper=n,this.canvas=r,this.dragBox=s,this.cropBox=l,this.viewBox=n.querySelector(".".concat(d,"-view-box")),this.face=c,r.appendChild(i),G(e,F),a.insertBefore(n,e.nextSibling),this.isImg||U(i,u),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,G(l,F),t.guides||G(l.getElementsByClassName("".concat(d,"-dashed")),F),t.center||G(l.getElementsByClassName("".concat(d,"-center")),F),t.background&&G(n,"".concat(d,"-bg")),t.highlight||G(c,h),t.cropBoxMovable&&(G(c,f),q(c,p,"all")),t.cropBoxResizable||(G(l.getElementsByClassName("".concat(d,"-line")),F),G(l.getElementsByClassName("".concat(d,"-point")),F)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),$(t.ready)&&J(e,"ready",t.ready,{once:!0}),Q(e,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),U(this.element,F))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&o(e.prototype,t),a&&o(e,a),i}();return L(ve.prototype,de,ue,he,fe,pe,me),ve}),function(x){var w="iCheck",k=w+"-helper",_="checkbox",C="radio",T="checked",f="un"+T,F="disabled";function S(e,t,i){var a=e[0],o=/er/.test(i)?_indeterminate:/bl/.test(i)?F:T,n=i==_update?{checked:a[T],disabled:a[F],indeterminate:"true"==e.attr(_indeterminate)||"false"==e.attr(_determinate)}:a[o];if(/^(ch|di|in)/.test(i)&&!n)E(e,o);else if(/^(un|en|de)/.test(i)&&n)D(e,o);else if(i==_update)for(var r in n)n[r]?E(e,r,!0):D(e,r,!0);else t&&"toggle"!=i||(t||e[_callback]("ifClicked"),n?a[_type]!==C&&D(e,o):E(e,o))}function E(e,t,i){var a=e[0],o=e.parent(),n=t==T,r=t==_indeterminate,s=t==F,l=r?_determinate:n?f:"enabled",c=p(e,l+m(a[_type])),d=p(e,t+m(a[_type]));if(!0!==a[t]){if(!i&&t==T&&a[_type]==C&&a.name){var u=e.closest("form"),h='input[name="'+a.name+'"]';(h=u.length?u.find(h):x(h)).each(function(){this!==a&&x(this).data(w)&&D(x(this),t)})}r?(a[t]=!0,a[T]&&D(e,T,"force")):(i||(a[t]=!0),n&&a[_indeterminate]&&D(e,_indeterminate,!1)),g(e,n,t,i)}a[F]&&p(e,_cursor,!0)&&o.find("."+k).css(_cursor,"default"),o[_add](d||p(e,t)||""),o.attr("role")&&!r&&o.attr("aria-"+(s?F:T),"true"),o[_remove](c||p(e,l)||"")}function D(e,t,i){var a=e[0],o=e.parent(),n=t==T,r=t==_indeterminate,s=t==F,l=r?_determinate:n?f:"enabled",c=p(e,l+m(a[_type])),d=p(e,t+m(a[_type]));!1!==a[t]&&(!r&&i&&"force"!=i||(a[t]=!1),g(e,n,l,i)),!a[F]&&p(e,_cursor,!0)&&o.find("."+k).css(_cursor,"pointer"),o[_remove](d||p(e,t)||""),o.attr("role")&&!r&&o.attr("aria-"+(s?F:T),"false"),o[_add](c||p(e,l)||"")}function I(e,t){e.data(w)&&(e.parent().html(e.attr("style",e.data(w).s||"")),t&&e[_callback](t),e.off(".i").unwrap(),x(_label+'[for="'+e[0].id+'"]').add(e.closest(_label)).off(".i"))}function p(e,t,i){if(e.data(w))return e.data(w).o[t+(i?"":"Class")]}function m(e){return e.charAt(0).toUpperCase()+e.slice(1)}function g(e,t,i,a){a||(t&&e[_callback]("ifToggled"),e[_callback]("ifChanged")[_callback]("if"+m(i)))}_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),x.fn[w]=function(t,i){var a='input[type="'+_+'"], input[type="'+C+'"]',o=x(),e=function(e){e.each(function(){var e=x(this);o=e.is(a)?o.add(e):o.add(e.find(a))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(t))return t=t.toLowerCase(),e(this),o.each(function(){var e=x(this);"destroy"==t?I(e,"ifDestroyed"):S(e,!0,t),x.isFunction(i)&&i()});if("object"!=typeof t&&t)return this;var f=x.extend({checkedClass:T,disabledClass:F,indeterminateClass:_indeterminate,labelHover:!0},t),n=f.handle,p=f.hoverClass||"hover",m=f.focusClass||"focus",g=f.activeClass||"active",v=!!f.labelHover,b=f.labelHoverClass||"hover",y=0|(""+f.increaseArea).replace("%","");return n!=_&&n!=C||(a='input[type="'+n+'"]'),y<-50&&(y=-50),e(this),o.each(function(){var a=x(this);I(a);var e,o=this,t=o.id,i=-y+"%",n=100+2*y+"%",r={position:"absolute",top:i,left:i,display:"block",width:n,height:n,margin:0,padding:0,background:"#fff",border:0,opacity:0},s=_mobile?{position:"absolute",visibility:"hidden"}:y?r:{position:"absolute",opacity:0},l=o[_type]==_?f.checkboxClass||"i"+_:f.radioClass||"i"+C,c=x(_label+'[for="'+t+'"]').add(a.closest(_label)),d=!!f.aria,u=w+"-"+Math.random().toString(36).substr(2,6),h='<div class="'+l+'" '+(d?'role="'+o[_type]+'" ':"");d&&c.each(function(){h+='aria-labelledby="',this.id?h+=this.id:(this.id=u,h+=u),h+='"'}),h=a.wrap(h+"/>")[_callback]("ifCreated").parent().append(f.insert),e=x('<ins class="'+k+'"/>').css(r).appendTo(h),a.data(w,{o:f,s:a.attr("style")}).css(s),f.inheritClass&&h[_add](o.className||""),f.inheritID&&t&&h.attr("id",w+"-"+t),"static"==h.css("position")&&h.css("position","relative"),S(a,!0,_update),c.length&&c.on(_click+".i mouseover.i mouseout.i "+_touch,function(e){var t=e[_type],i=x(this);if(!o[F]){if(t==_click){if(x(e.target).is("a"))return;S(a,!1,!0)}else v&&(/ut|nd/.test(t)?(h[_remove](p),i[_remove](b)):(h[_add](p),i[_add](b)));if(!_mobile)return!1;e.stopPropagation()}}),a.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[_type],i=e.keyCode;return t!=_click&&("keydown"==t&&32==i?(o[_type]==C&&o[T]||(o[T]?D(a,T):E(a,T)),!1):void("keyup"==t&&o[_type]==C?!o[T]&&E(a,T):/us|ur/.test(t)&&h["blur"==t?_remove:_add](m)))}),e.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(e){var t=e[_type],i=/wn|up/.test(t)?g:p;if(!o[F]){if(t==_click?S(a,!1,!0):(/wn|er|in/.test(t)?h[_add](i):h[_remove](i+" "+g),c.length&&v&&i==p&&c[/ut|nd/.test(t)?_remove:_add](b)),!_mobile)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto),function(Upa){var $pa,Vpa=this||eval("this"),Wpa=Vpa.document,Xpa=Vpa.navigator,Ypa=Vpa.jQuery,Zpa=Vpa.JSON;$pa=function(e,a){function i(e,t){return(null===e||typeof e in g)&&e===t}function n(e,t){var i;return function(){i||(i=T.a.setTimeout(function(){i=Upa,e()},t))}}function r(e,t){var i;return function(){clearTimeout(i),i=T.a.setTimeout(e,t)}}function l(e,t){t&&t!==v?"beforeChange"===t?this.Ob(e):this.Ja(e,t):this.Pb(e)}function o(e,t){null!==t&&t.k&&t.k()}function s(e,t){var i=this.Mc,a=i[k];a.T||(this.ob&&this.Oa[t]?(i.Sb(t,e,this.Oa[t]),this.Oa[t]=null,--this.ob):a.s[t]||i.Sb(t,e,a.t?{$:e}:i.yc(e)),e.Ha&&e.Hc())}function t(e,l,c,d){T.d[e]={init:function(a,o,e,t,n){var r,s;return T.m(function(){var e=o(),t=T.a.c(e),i=(t=!c!=!t,!s);(i||l||t!==r)&&(i&&T.xa.Ca()&&(s=T.a.wa(T.f.childNodes(a),!0)),t?(i||T.f.fa(a,T.a.wa(s)),T.hb(d?d(n,e):n,a)):T.f.za(a),r=t)},null,{i:a}),{controlsDescendantBindings:!0}}},T.h.va[e]=!1,T.f.aa[e]=!0}var c,d,u,h,f,p,m,T=void 0!==e?e:{};T.b=function(e,t){for(var i=e.split("."),a=T,o=0;o<i.length-1;o++)a=a[i[o]];a[i[i.length-1]]=t},T.H=function(e,t,i){e[t]=i},T.version="3.4.2",T.b("version",T.version),T.options={deferUpdates:!1,useOnlyNativeEvents:!1},T.a=function(){function u(e,t){for(var i in e)e.hasOwnProperty(i)&&t(i,e[i])}function e(e,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function t(e,t){return e.__proto__=t,e}function o(e,t,i,a){var o=e[t].match(c)||[];T.a.r(i.match(c),function(e){T.a.ra(o,e,a)}),e[t]=o.join(" ")}var i={__proto__:[]}instanceof Array,a="function"==typeof Symbol,n={},r={};n[Xpa&&/Firefox\/2/i.test(Xpa.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],n.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),u(n,function(e,t){if(t.length)for(var i=0,a=t.length;i<a;i++)r[t[i]]=e});var s={propertychange:!0},l=Wpa&&function(){for(var e=3,t=Wpa.createElement("div"),i=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",i[0];);return 4<e?e:Upa}(),c=/\S+/g;return{gc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(e,t){for(var i=0,a=e.length;i<a;i++)t(e[i],i)},o:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var i=0,a=e.length;i<a;i++)if(e[i]===t)return i;return-1},Vb:function(e,t,i){for(var a=0,o=e.length;a<o;a++)if(t.call(i,e[a],a))return e[a];return null},Na:function(e,t){var i=T.a.o(e,t);0<i?e.splice(i,1):0===i&&e.shift()},Wb:function(e){for(var t=[],i=0,a=(e=e||[]).length;i<a;i++)T.a.o(t,e[i])<0&&t.push(e[i]);return t},ib:function(e,t){for(var i=[],a=0,o=(e=e||[]).length;a<o;a++)i.push(t(e[a],a));return i},Ma:function(e,t){for(var i=[],a=0,o=(e=e||[]).length;a<o;a++)t(e[a],a)&&i.push(e[a]);return i},ta:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var i=0,a=t.length;i<a;i++)e.push(t[i]);return e},ra:function(e,t,i){var a=T.a.o(T.a.Bb(e),t);a<0?i&&e.push(t):i||e.splice(a,1)},la:i,extend:e,$a:t,ab:i?t:e,D:u,Ea:function(e,t){if(!e)return e;var i,a={};for(i in e)e.hasOwnProperty(i)&&(a[i]=t(e[i],i,e));return a},rb:function(e){for(;e.firstChild;)T.removeNode(e.firstChild)},nc:function(e){for(var t=((e=T.a.W(e))[0]&&e[0].ownerDocument||Wpa).createElement("div"),i=0,a=e.length;i<a;i++)t.appendChild(T.ba(e[i]));return t},wa:function(e,t){for(var i=0,a=e.length,o=[];i<a;i++){var n=e[i].cloneNode(!0);o.push(t?T.ba(n):n)}return o},fa:function(e,t){if(T.a.rb(e),t)for(var i=0,a=t.length;i<a;i++)e.appendChild(t[i])},uc:function(e,t){var i=e.nodeType?[e]:e;if(0<i.length){for(var a=i[0],o=a.parentNode,n=0,r=t.length;n<r;n++)o.insertBefore(t[n],a);for(n=0,r=i.length;n<r;n++)T.removeNode(i[n])}},Ba:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var i=e[0],a=e[e.length-1];for(e.length=0;i!==a;)e.push(i),i=i.nextSibling;e.push(a)}}return e},wc:function(e,t){l<7?e.setAttribute("selected",t):e.selected=t},cb:function(e){return null===e||e===Upa?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},sd:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},Rc:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},qb:function(e){return T.a.Rc(e,e.ownerDocument.documentElement)},Tb:function(e){return!!T.a.Vb(e,T.a.qb)},A:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Zb:function(e){return T.onError?function(){try{return e.apply(this,arguments)}catch(e){throw T.onError&&T.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(T.a.Zb(e),t)},dc:function(e){setTimeout(function(){throw T.onError&&T.onError(e),e},0)},q:function(t,e,i){var a=T.a.Zb(i);if(i=l&&s[e],T.options.useOnlyNativeEvents||i||!Ypa)if(i||"function"!=typeof t.addEventListener){if(void 0===t.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var o=function(e){a.call(t,e)},n="on"+e;t.attachEvent(n,o),T.a.G.qa(t,function(){t.detachEvent(n,o)})}else t.addEventListener(e,a,!1);else Ypa(t).bind(e,a)},Fa:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var i;if(i=!("input"!==T.a.A(e)||!e.type||"click"!=t.toLowerCase())&&("checkbox"==(i=e.type)||"radio"==i),T.options.useOnlyNativeEvents||!Ypa||i)if("function"==typeof Wpa.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(i=Wpa.createEvent(r[t]||"HTMLEvents")).initEvent(t,!0,!0,Vpa,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(i)}else if(i&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else Ypa(e).trigger(t)},c:function(e){return T.I(e)?e():e},Bb:function(e){return T.I(e)?e.p():e},fb:function(t,e,i){var a;e&&("object"==typeof t.classList?(a=t.classList[i?"add":"remove"],T.a.r(e.match(c),function(e){a.call(t.classList,e)})):"string"==typeof t.className.baseVal?o(t.className,"baseVal",e,i):o(t,"className",e,i))},bb:function(e,t){var i=T.a.c(t);null!==i&&i!==Upa||(i="");var a=T.f.firstChild(e);!a||3!=a.nodeType||T.f.nextSibling(a)?T.f.fa(e,[e.ownerDocument.createTextNode(i)]):a.data=i,T.a.Wc(e)},vc:function(e,t){if(e.name=t,l<=7)try{e.mergeAttributes(Wpa.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}},Wc:function(e){9<=l&&(e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom)},Sc:function(e){if(l){var t=e.style.width;e.style.width=0,e.style.width=t}},nd:function(e,t){e=T.a.c(e),t=T.a.c(t);for(var i=[],a=e;a<=t;a++)i.push(a);return i},W:function(e){for(var t=[],i=0,a=e.length;i<a;i++)t.push(e[i]);return t},bc:function(e){return a?Symbol(e):e},xd:6===l,yd:7===l,C:l,ic:function(e,t){for(var i=T.a.W(e.getElementsByTagName("input")).concat(T.a.W(e.getElementsByTagName("textarea"))),a="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},o=[],n=i.length-1;0<=n;n--)a(i[n])&&o.push(i[n]);return o},kd:function(e){return"string"==typeof e&&(e=T.a.cb(e))?Zpa&&Zpa.parse?Zpa.parse(e):new Function("return "+e)():null},Gb:function(e,t,i){if(!Zpa||!Zpa.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return Zpa.stringify(T.a.c(e),t,i)},ld:function(e,t,i){var a=(i=i||{}).params||{},o=i.includeFields||this.gc,n=e;if("object"==typeof e&&"form"===T.a.A(e)){n=e.action;for(var r=o.length-1;0<=r;r--)for(var s=T.a.ic(e,o[r]),l=s.length-1;0<=l;l--)a[s[l].name]=s[l].value}t=T.a.c(t);var c=Wpa.createElement("form");for(var d in c.style.display="none",c.action=n,c.method="post",t)(e=Wpa.createElement("input")).type="hidden",e.name=d,e.value=T.a.Gb(T.a.c(t[d])),c.appendChild(e);u(a,function(e,t){var i=Wpa.createElement("input");i.type="hidden",i.name=e,i.value=t,c.appendChild(i)}),Wpa.body.appendChild(c),i.submitter?i.submitter(c):c.submit(),setTimeout(function(){c.parentNode.removeChild(c)},0)}}}(),T.b("utils",T.a),T.b("utils.arrayForEach",T.a.r),T.b("utils.arrayFirst",T.a.Vb),T.b("utils.arrayFilter",T.a.Ma),T.b("utils.arrayGetDistinctValues",T.a.Wb),T.b("utils.arrayIndexOf",T.a.o),T.b("utils.arrayMap",T.a.ib),T.b("utils.arrayPushAll",T.a.ta),T.b("utils.arrayRemoveItem",T.a.Na),T.b("utils.extend",T.a.extend),T.b("utils.fieldsIncludedWithJsonPost",T.a.gc),T.b("utils.getFormFields",T.a.ic),T.b("utils.peekObservable",T.a.Bb),T.b("utils.postJson",T.a.ld),T.b("utils.parseJson",T.a.kd),T.b("utils.registerEventHandler",T.a.q),T.b("utils.stringifyJson",T.a.Gb),T.b("utils.range",T.a.nd),T.b("utils.toggleDomNodeCssClass",T.a.fb),T.b("utils.triggerEvent",T.a.Fa),T.b("utils.unwrapObservable",T.a.c),T.b("utils.objectForEach",T.a.D),T.b("utils.addOrRemoveItem",T.a.ra),T.b("utils.setTextContent",T.a.bb),T.b("unwrap",T.a.c),Function.prototype.bind||(Function.prototype.bind=function(t){var i=this;if(1===arguments.length)return function(){return i.apply(t,arguments)};var a=Array.prototype.slice.call(arguments,1);return function(){var e=a.slice(0);return e.push.apply(e,arguments),i.apply(t,e)}}),T.a.e=new function(){function a(e,t){var i=e[n];if(!i||"null"===i||!r[i]){if(!t)return Upa;i=e[n]="ko"+o++,r[i]={}}return r[i]}var o=0,n="__ko__"+(new Date).getTime(),r={};return{get:function(e,t){var i=a(e,!1);return i===Upa?Upa:i[t]},set:function(e,t,i){i===Upa&&a(e,!1)===Upa||(a(e,!0)[t]=i)},clear:function(e){var t=e[n];return!(!t||(delete r[t],e[n]=null))},J:function(){return o+++n}}},T.b("utils.domData",T.a.e),T.b("utils.domData.clear",T.a.e.clear),T.a.G=new function(){function a(e,t){var i=T.a.e.get(e,n);return i===Upa&&t&&(i=[],T.a.e.set(e,n,i)),i}function o(e){if(t=a(e,!1))for(var t=t.slice(0),i=0;i<t.length;i++)t[i](e);if(T.a.e.clear(e),T.a.G.cleanExternalData(e),s[e.nodeType])for(t=e.firstChild;e=t;)t=e.nextSibling,8===e.nodeType&&o(e)}var n=T.a.e.J(),r={1:!0,8:!0,9:!0},s={1:!0,9:!0};return{qa:function(e,t){if("function"!=typeof t)throw Error("Callback must be a function");a(e,!0).push(t)},tc:function(e,t){var i=a(e,!1);i&&(T.a.Na(i,t),0==i.length&&T.a.e.set(e,n,Upa))},ba:function(e){if(r[e.nodeType]&&(o(e),s[e.nodeType])){var t=[];T.a.ta(t,e.getElementsByTagName("*"));for(var i=0,a=t.length;i<a;i++)o(t[i])}return e},removeNode:function(e){T.ba(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){Ypa&&"function"==typeof Ypa.cleanData&&Ypa.cleanData([e])}}},T.ba=T.a.G.ba,T.removeNode=T.a.G.removeNode,T.b("cleanNode",T.ba),T.b("removeNode",T.removeNode),T.b("utils.domNodeDisposal",T.a.G),T.b("utils.domNodeDisposal.addDisposeCallback",T.a.G.qa),T.b("utils.domNodeDisposal.removeDisposeCallback",T.a.G.tc),c=[0,"",""],f={thead:d=[1,"<table>","</table>"],tbody:d,tfoot:d,tr:[2,"<table><tbody>","</tbody></table>"],td:u=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:u,option:h=[1,"<select multiple='multiple'>","</select>"],optgroup:h},p=T.a.C<=8,T.a.na=function(e,t){var i;if(Ypa){if(Ypa.parseHTML)i=Ypa.parseHTML(e,t)||[];else if((i=Ypa.clean([e],t))&&i[0]){for(var a=i[0];a.parentNode&&11!==a.parentNode.nodeType;)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}}else{(i=t)||(i=Wpa),a=i.parentWindow||i.defaultView||Vpa;var o,n=T.a.cb(e).toLowerCase(),r=i.createElement("div");for(n=(o=(n=n.match(/^<([a-z]+)[ >]/))&&f[n[1]]||c)[0],o="ignored<div>"+o[1]+e+o[2]+"</div>","function"==typeof a.innerShiv?r.appendChild(a.innerShiv(o)):(p&&i.appendChild(r),r.innerHTML=o,p&&r.parentNode.removeChild(r));n--;)r=r.lastChild;i=T.a.W(r.lastChild.childNodes)}return i},T.a.Eb=function(e,t){if(T.a.rb(e),null!==(t=T.a.c(t))&&t!==Upa)if("string"!=typeof t&&(t=t.toString()),Ypa)Ypa(e).html(t);else for(var i=T.a.na(t,e.ownerDocument),a=0;a<i.length;a++)e.appendChild(i[a])},T.b("utils.parseHtmlFragment",T.a.na),T.b("utils.setHtml",T.a.Eb),T.N=(m={},{yb:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return m[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},Bc:function(e,t){var i=m[e];if(i===Upa)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return i.apply(null,t||[]),!0}finally{delete m[e]}},Cc:function(e,t){var i=[];!function e(t,i){if(t)if(8==t.nodeType)null!=(a=T.N.pc(t.nodeValue))&&i.push({Qc:t,hd:a});else if(1==t.nodeType)for(var a=0,o=t.childNodes,n=o.length;a<n;a++)e(o[a],i)}(e,i);for(var a=0,o=i.length;a<o;a++){var n=i[a].Qc,r=[n];t&&T.a.ta(r,t),T.N.Bc(i[a].hd,r),n.nodeValue="",n.parentNode&&n.parentNode.removeChild(n)}},pc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}),T.b("memoization",T.N),T.b("memoization.memoize",T.N.yb),T.b("memoization.unmemoize",T.N.Bc),T.b("memoization.parseMemoText",T.N.pc),T.b("memoization.unmemoizeDomNodeAndDescendants",T.N.Cc),T.Z=function(){function e(){if(n)for(var e,t=n,i=0;s<n;)if(e=o[s++]){if(t<s){if(5e3<=++i){s=n,T.a.dc(Error("'Too much recursion' after processing "+i+" task groups."));break}t=n}try{e()}catch(e){T.a.dc(e)}}}function t(){e(),s=n=o.length=0}var i,a,o=[],n=0,r=1,s=0;return{scheduler:Vpa.MutationObserver?(i=t,a=Wpa.createElement("div"),new MutationObserver(i).observe(a,{attributes:!0}),function(){a.classList.toggle("foo")}):Wpa&&"onreadystatechange"in Wpa.createElement("script")?function(e){var t=Wpa.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,Wpa.documentElement.removeChild(t),t=null,e()},Wpa.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},Za:function(e){return n||T.Z.scheduler(t),o[n++]=e,r++},cancel:function(e){s<=(e-=r-n)&&e<n&&(o[e]=null)},resetForTesting:function(){var e=n-s;return s=n=o.length=0,e},rd:e}}(),T.b("tasks",T.Z),T.b("tasks.schedule",T.Z.Za),T.b("tasks.runEarly",T.Z.rd),T.Aa={throttle:function(t,i){t.throttleEvaluation=i;var a=null;return T.B({read:t,write:function(e){clearTimeout(a),a=T.a.setTimeout(function(){t(e)},i)}})},rateLimit:function(e,t){var i,a,o;"number"==typeof t?i=t:(i=t.timeout,a=t.method),e.gb=!1,o="notifyWhenChangesStop"==a?r:n,e.Wa(function(e){return o(e,i)})},deferred:function(a,e){if(!0!==e)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");a.gb||(a.gb=!0,a.Wa(function(e){var t,i=!1;return function(){if(!i){T.Z.cancel(t),t=T.Z.Za(e);try{i=!0,a.notifySubscribers(Upa,"dirty")}finally{i=!1}}}}))},notify:function(e,t){e.equalityComparer="always"==t?null:i}};var g={undefined:1,boolean:1,number:1,string:1};T.b("extenders",T.Aa),T.zc=function(e,t,i){this.$=e,this.jb=t,this.Pc=i,this.T=!1,T.H(this,"dispose",this.k)},T.zc.prototype.k=function(){this.T=!0,this.Pc()},T.K=function(){T.a.ab(this,b),b.ub(this)};var v="change",b={ub:function(e){e.F={change:[]},e.Qb=1},Y:function(e,t,i){var a=this;i=i||v;var o=new T.zc(a,t?e.bind(t):e,function(){T.a.Na(a.F[i],o),a.Ka&&a.Ka(i)});return a.ua&&a.ua(i),a.F[i]||(a.F[i]=[]),a.F[i].push(o),o},notifySubscribers:function(e,t){if((t=t||v)===v&&this.Kb(),this.Ra(t)){var i=t===v&&this.Fc||this.F[t].slice(0);try{T.l.Xb();for(var a,o=0;a=i[o];++o)a.T||a.jb(e)}finally{T.l.end()}}},Pa:function(){return this.Qb},Zc:function(e){return this.Pa()!==e},Kb:function(){++this.Qb},Wa:function(e){var t,i,a,o,n=this,r=T.I(n);n.Ja||(n.Ja=n.notifySubscribers,n.notifySubscribers=l);var s=e(function(){n.Ha=!1,r&&o===n&&(o=n.Mb?n.Mb():n());var e=i||n.Ua(a,o);i=t=!1,e&&n.Ja(a=o)});n.Pb=function(e){n.Fc=n.F[v].slice(0),n.Ha=t=!0,o=e,s()},n.Ob=function(e){t||(a=e,n.Ja(e,"beforeChange"))},n.Hc=function(){n.Ua(a,n.p(!0))&&(i=!0)}},Ra:function(e){return this.F[e]&&this.F[e].length},Xc:function(e){if(e)return this.F[e]&&this.F[e].length||0;var i=0;return T.a.D(this.F,function(e,t){"dirty"!==e&&(i+=t.length)}),i},Ua:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:function(e){var a=this;return e&&T.a.D(e,function(e,t){var i=T.Aa[e];"function"==typeof i&&(a=i(a,t)||a)}),a}};T.H(b,"subscribe",b.Y),T.H(b,"extend",b.extend),T.H(b,"getSubscriptionsCount",b.Xc),T.a.la&&T.a.$a(b,Function.prototype),T.K.fn=b,T.lc=function(e){return null!=e&&"function"==typeof e.Y&&"function"==typeof e.notifySubscribers},T.b("subscribable",T.K),T.b("isSubscribable",T.lc),T.xa=T.l=function(){function a(e){i.push(t),t=e}function o(){t=i.pop()}var t,i=[],n=0;return{Xb:a,end:o,sc:function(e){if(t){if(!T.lc(e))throw Error("Only subscribable things can act as dependencies");t.jb.call(t.Lc,e,e.Gc||(e.Gc=++n))}},w:function(e,t,i){try{return a(),e.apply(t,i||[])}finally{o()}},Ca:function(){if(t)return t.m.Ca()},Va:function(){if(t)return t.Va}}}(),T.b("computedContext",T.xa),T.b("computedContext.getDependenciesCount",T.xa.Ca),T.b("computedContext.isInitial",T.xa.Va),T.b("ignoreDependencies",T.wd=T.l.w);var y=T.a.bc("_latestValue");T.O=function(e){function t(){return 0<arguments.length?(t.Ua(t[y],arguments[0])&&(t.ia(),t[y]=arguments[0],t.ha()),this):(T.l.sc(t),t[y])}return t[y]=e,T.a.la||T.a.extend(t,T.K.fn),T.K.fn.ub(t),T.a.ab(t,x),T.options.deferUpdates&&T.Aa.deferred(t,!0),t};var x={equalityComparer:i,p:function(){return this[y]},ha:function(){this.notifySubscribers(this[y])},ia:function(){this.notifySubscribers(this[y],"beforeChange")}};T.a.la&&T.a.$a(x,T.K.fn);var w=T.O.md="__ko_proto__";x[w]=T.O,T.Qa=function(e,t){return null!==e&&e!==Upa&&e[w]!==Upa&&(e[w]===t||T.Qa(e[w],t))},T.I=function(e){return T.Qa(e,T.O)},T.Da=function(e){return!!("function"==typeof e&&e[w]===T.O||"function"==typeof e&&e[w]===T.B&&e.$c)},T.b("observable",T.O),T.b("isObservable",T.I),T.b("isWriteableObservable",T.Da),T.b("isWritableObservable",T.Da),T.b("observable.fn",x),T.H(x,"peek",x.p),T.H(x,"valueHasMutated",x.ha),T.H(x,"valueWillMutate",x.ia),T.ma=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=T.O(e),T.a.ab(e,T.ma.fn),e.extend({trackArrayChanges:!0})},T.ma.fn={remove:function(t){for(var e=this.p(),i=[],a="function"!=typeof t||T.I(t)?function(e){return e===t}:t,o=0;o<e.length;o++){var n=e[o];a(n)&&(0===i.length&&this.ia(),i.push(n),e.splice(o,1),o--)}return i.length&&this.ha(),i},removeAll:function(t){if(t===Upa){var e=this.p(),i=e.slice(0);return this.ia(),e.splice(0,e.length),this.ha(),i}return t?this.remove(function(e){return 0<=T.a.o(t,e)}):[]},destroy:function(t){var e=this.p(),i="function"!=typeof t||T.I(t)?function(e){return e===t}:t;this.ia();for(var a=e.length-1;0<=a;a--)i(e[a])&&(e[a]._destroy=!0);this.ha()},destroyAll:function(t){return t===Upa?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=T.a.o(t,e)}):[]},indexOf:function(e){var t=this();return T.a.o(t,e)},replace:function(e,t){var i=this.indexOf(e);0<=i&&(this.ia(),this.p()[i]=t,this.ha())}},T.a.la&&T.a.$a(T.ma.fn,T.O.fn),T.a.r("pop push reverse shift sort splice unshift".split(" "),function(i){T.ma.fn[i]=function(){var e=this.p();this.ia(),this.Yb(e,i,arguments);var t=e[i].apply(e,arguments);return this.ha(),t===e?this:t}}),T.a.r(["slice"],function(t){T.ma.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),T.b("observableArray",T.ma),T.Aa.trackArrayChanges=function(a,e){if(a.kb={},e&&"object"==typeof e&&T.a.extend(a.kb,e),a.kb.sparse=!0,!a.Yb){var t,o,u=!1,h=null,f=0,i=a.ua,n=a.Ka;a.ua=function(e){i&&i.call(a,e),"arrayChange"===e&&function(){if(!u){u=!0,o=a.notifySubscribers,a.notifySubscribers=function(e,t){return t&&t!==v||++f,o.apply(this,arguments)};var i=[].concat(a.p()||[]);h=null,t=a.Y(function(e){var t;e=[].concat(e||[]),a.Ra("arrayChange")&&((!h||1<f)&&(h=T.a.lb(i,e,a.kb)),t=h),i=e,h=null,f=0,t&&t.length&&a.notifySubscribers(t,"arrayChange")})}}()},a.Ka=function(e){n&&n.call(a,e),"arrayChange"!==e||a.Ra("arrayChange")||(o&&(a.notifySubscribers=o,o=Upa),t.k(),u=!1)},a.Yb=function(e,t,i){function a(e,t,i){return o[o.length]={status:e,value:t,index:i}}if(u&&!f){var o=[],n=e.length,r=i.length,s=0;switch(t){case"push":s=n;case"unshift":for(t=0;t<r;t++)a("added",i[t],s+t);break;case"pop":s=n-1;case"shift":n&&a("deleted",e[s],s);break;case"splice":t=Math.min(Math.max(0,i[0]<0?n+i[0]:i[0]),n),n=1===r?n:Math.min(t+(i[1]||0),n),r=t+r-2,s=Math.max(n,r);for(var l=[],c=[],d=2;t<s;++t,++d)t<n&&c.push(a("deleted",e[t],t)),t<r&&l.push(a("added",i[d],t));T.a.hc(c,l);break;default:return}h=o}}}};var k=T.a.bc("_state");T.m=T.B=function(e,t,i){function a(){if(0<arguments.length){if("function"!=typeof o)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return o.apply(n.sb,arguments),this}return T.l.sc(a),(n.V||n.t&&a.Sa())&&a.U(),n.M}if("object"==typeof e?i=e:(i=i||{},e&&(i.read=e)),"function"!=typeof i.read)throw Error("Pass a function that returns the value of the ko.computed");var o=i.write,n={M:Upa,da:!0,V:!0,Ta:!1,Hb:!1,T:!1,Ya:!1,t:!1,od:i.read,sb:t||i.owner,i:i.disposeWhenNodeIsRemoved||i.i||null,ya:i.disposeWhen||i.ya,pb:null,s:{},L:0,fc:null};return a[k]=n,a.$c="function"==typeof o,T.a.la||T.a.extend(a,T.K.fn),T.K.fn.ub(a),T.a.ab(a,_),i.pure?(n.Ya=!0,n.t=!0,T.a.extend(a,C)):i.deferEvaluation&&T.a.extend(a,F),T.options.deferUpdates&&T.Aa.deferred(a,!0),n.i&&(n.Hb=!0,n.i.nodeType||(n.i=null)),n.t||i.deferEvaluation||a.U(),n.i&&a.ca()&&T.a.G.qa(n.i,n.pb=function(){a.k()}),a};var _={equalityComparer:i,Ca:function(){return this[k].L},Sb:function(e,t,i){if(this[k].Ya&&t===this)throw Error("A 'pure' computed must not be called recursively");(this[k].s[e]=i).Ia=this[k].L++,i.pa=t.Pa()},Sa:function(){var e,t,i=this[k].s;for(e in i)if(i.hasOwnProperty(e)&&(t=i[e],this.oa&&t.$.Ha||t.$.Zc(t.pa)))return!0},gd:function(){this.oa&&!this[k].Ta&&this.oa(!1)},ca:function(){var e=this[k];return e.V||0<e.L},qd:function(){this.Ha?this[k].V&&(this[k].da=!0):this.ec()},yc:function(e){if(e.gb&&!this[k].i){var t=e.Y(this.gd,this,"dirty"),i=e.Y(this.qd,this);return{$:e,k:function(){t.k(),i.k()}}}return e.Y(this.ec,this)},ec:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[k].fc),this[k].fc=T.a.setTimeout(function(){e.U(!0)},t)):e.oa?e.oa(!0):e.U(!0)},U:function(e){var t=this[k],i=t.ya,a=!1;if(!t.Ta&&!t.T){if(t.i&&!T.a.qb(t.i)||i&&i()){if(!t.Hb)return void this.k()}else t.Hb=!1;t.Ta=!0;try{a=this.Vc(e)}finally{t.Ta=!1}return t.L||this.k(),a}},Vc:function(e){var t=this[k],i=!1,a=t.Ya?Upa:!t.L,o={Mc:this,Oa:t.s,ob:t.L};return T.l.Xb({Lc:o,jb:s,m:this,Va:a}),t.s={},t.L=0,o=this.Uc(t,o),this.Ua(t.M,o)&&(t.t||this.notifySubscribers(t.M,"beforeChange"),t.M=o,t.t?this.Kb():e&&this.notifySubscribers(t.M),i=!0),a&&this.notifySubscribers(t.M,"awake"),i},Uc:function(e,t){try{var i=e.od;return e.sb?i.call(e.sb):i()}finally{T.l.end(),t.ob&&!e.t&&T.a.D(t.Oa,o),e.da=e.V=!1}},p:function(e){var t=this[k];return(t.V&&(e||!t.L)||t.t&&this.Sa())&&this.U(),t.M},Wa:function(e){T.K.fn.Wa.call(this,e),this.Mb=function(){return this[k].da?this.U():this[k].V=!1,this[k].M},this.oa=function(e){this.Ob(this[k].M),this[k].V=!0,e&&(this[k].da=!0),this.Pb(this)}},k:function(){var e=this[k];!e.t&&e.s&&T.a.D(e.s,function(e,t){t.k&&t.k()}),e.i&&e.pb&&T.a.G.tc(e.i,e.pb),e.s=null,e.L=0,e.T=!0,e.da=!1,e.V=!1,e.t=!1,e.i=null}},C={ua:function(e){var o=this,n=o[k];if(!n.T&&n.t&&"change"==e){if(n.t=!1,n.da||o.Sa())n.s=null,n.L=0,o.U()&&o.Kb();else{var i=[];T.a.D(n.s,function(e,t){i[t.Ia]=e}),T.a.r(i,function(e,t){var i=n.s[e],a=o.yc(i.$);a.Ia=t,a.pa=i.pa,n.s[e]=a})}n.T||o.notifySubscribers(n.M,"awake")}},Ka:function(e){var i=this[k];i.T||"change"!=e||this.Ra("change")||(T.a.D(i.s,function(e,t){t.k&&(i.s[e]={$:t.$,Ia:t.Ia,pa:t.pa},t.k())}),i.t=!0,this.notifySubscribers(Upa,"asleep"))},Pa:function(){var e=this[k];return e.t&&(e.da||this.Sa())&&this.U(),T.K.fn.Pa.call(this)}},F={ua:function(e){"change"!=e&&"beforeChange"!=e||this.p()}};T.a.la&&T.a.$a(_,T.K.fn);var S,E=T.O.md;T.m[E]=T.O,_[E]=T.m,T.bd=function(e){return T.Qa(e,T.m)},T.cd=function(e){return T.Qa(e,T.m)&&e[k]&&e[k].Ya},T.b("computed",T.m),T.b("dependentObservable",T.m),T.b("isComputed",T.bd),T.b("isPureComputed",T.cd),T.b("computed.fn",_),T.H(_,"peek",_.p),T.H(_,"dispose",_.k),T.H(_,"isActive",_.ca),T.H(_,"getDependenciesCount",_.Ca),T.rc=function(e,t){return"function"==typeof e?T.m(e,t,{pure:!0}):((e=T.a.extend({},e)).pure=!0,T.m(e,t))},T.b("pureComputed",T.rc),function(){function s(a,o,n){if(n=n||new e,"object"!=typeof(a=o(a))||null===a||a===Upa||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var r=a instanceof Array?[]:{};return n.save(a,r),function(e,t){if(e instanceof Array){for(var i=0;i<e.length;i++)t(i);"function"==typeof e.toJSON&&t("toJSON")}else for(i in e)t(i)}(a,function(e){var t=o(a[e]);switch(typeof t){case"boolean":case"number":case"string":case"function":r[e]=t;break;case"object":case"undefined":var i=n.get(t);r[e]=i!==Upa?i:s(t,o,n)}}),r}function e(){this.keys=[],this.Lb=[]}T.Ac=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return s(e,function(e){for(var t=0;T.I(e)&&t<10;t++)e=e();return e})},T.toJSON=function(e,t,i){return e=T.Ac(e),T.a.Gb(e,t,i)},e.prototype={save:function(e,t){var i=T.a.o(this.keys,e);0<=i?this.Lb[i]=t:(this.keys.push(e),this.Lb.push(t))},get:function(e){return 0<=(e=T.a.o(this.keys,e))?this.Lb[e]:Upa}}}(),T.b("toJS",T.Ac),T.b("toJSON",T.toJSON),T.j={u:function(e){switch(T.a.A(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?T.a.e.get(e,T.d.options.zb):T.a.C<=7?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?T.j.u(e.options[e.selectedIndex]):Upa;default:return e.value}},ja:function(e,t,i){switch(T.a.A(e)){case"option":switch(typeof t){case"string":T.a.e.set(e,T.d.options.zb,Upa),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t;break;default:T.a.e.set(e,T.d.options.zb,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:""}break;case"select":""!==t&&null!==t||(t=Upa);for(var a,o=-1,n=0,r=e.options.length;n<r;++n)if((a=T.j.u(e.options[n]))==t||""==a&&t===Upa){o=n;break}(i||0<=o||t===Upa&&1<e.size)&&(e.selectedIndex=o);break;default:null!==t&&t!==Upa||(t=""),e.value=t}}},T.b("selectExtensions",T.j),T.b("selectExtensions.readValue",T.j.u),T.b("selectExtensions.writeValue",T.j.ja),T.h=function(){function a(e){123===(e=T.a.cb(e)).charCodeAt(0)&&(e=e.slice(1,-1));var t,i=[],a=e.match(u),o=[],n=0;if(a){a.push(",");for(var r,s=0;r=a[s];++s){var l=r.charCodeAt(0);if(44===l){if(n<=0){i.push(t&&o.length?{key:t,value:o.join("")}:{unknown:t||o.join("")}),t=n=0,o=[];continue}}else if(58===l){if(!n&&!t&&1===o.length){t=o.pop();continue}}else 47===l&&s&&1<r.length?(l=a[s-1].match(h))&&!f[l[0]]&&((a=(e=e.substr(e.indexOf(r)+1)).match(u)).push(","),s=-1,r="/"):40===l||123===l||91===l?++n:41===l||125===l||93===l?--n:t||o.length||34!==l&&39!==l||(r=r.slice(1,-1));o.push(r)}}return i}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,u=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),h=/[\])"'A-Za-z0-9_$]+$/,f={in:1,return:1,typeof:1},p={};return{va:[],ga:p,Ab:a,Xa:function(e,t){function o(e,t){var i;if(!l){var a=T.getBindingHandler(e);if(a&&a.preprocess&&!(t=a.preprocess(t,e,o)))return;(a=p[e])&&(i=t,a=i=!(0<=T.a.o(c,i))&&(null!==(a=i.match(d))&&(a[1]?"Object("+a[1]+")"+a[2]:i))),a&&r.push("'"+e+"':function(_z){"+i+"=_z}")}s&&(t="function(){return "+t+" }"),n.push("'"+e+"':"+t)}var n=[],r=[],s=(t=t||{}).valueAccessors,l=t.bindingParams,i="string"==typeof e?a(e):e;return T.a.r(i,function(e){o(e.key||e.unknown,e.value)}),r.length&&o("_ko_property_writers","{"+r.join(",")+" }"),n.join(",")},fd:function(e,t){for(var i=0;i<e.length;i++)if(e[i].key==t)return!0;return!1},Ga:function(e,t,i,a,o){e&&T.I(e)?!T.Da(e)||o&&e.p()===a||e(a):(e=t.get("_ko_property_writers"))&&e[i]&&e[i](a)}}}(),T.b("expressionRewriting",T.h),T.b("expressionRewriting.bindingRewriteValidators",T.h.va),T.b("expressionRewriting.parseObjectLiteral",T.h.Ab),T.b("expressionRewriting.preProcessBindings",T.h.Xa),T.b("expressionRewriting._twoWayBindings",T.h.ga),T.b("jsonExpressionRewriting",T.h),T.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",T.h.Xa),function(){function n(e){return 8==e.nodeType&&i.test(t?e.text:e.nodeValue)}function r(e){return 8==e.nodeType&&o.test(t?e.text:e.nodeValue)}function a(e,t){for(var i=e,a=1,o=[];i=i.nextSibling;){if(r(i)&&0==--a)return o;o.push(i),n(i)&&a++}if(!t)throw Error("Cannot find closing comment tag to match: "+e.nodeValue);return null}function s(e,t){var i=a(e,t);return i?0<i.length?i[i.length-1].nextSibling:e.nextSibling:null}var t=Wpa&&"\x3c!--test--\x3e"===Wpa.createComment("test").text,i=t?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,o=t?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};T.f={aa:{},childNodes:function(e){return n(e)?a(e):e.childNodes},za:function(e){if(n(e))for(var t=0,i=(e=T.f.childNodes(e)).length;t<i;t++)T.removeNode(e[t]);else T.a.rb(e)},fa:function(e,t){if(n(e)){T.f.za(e);for(var i=e.nextSibling,a=0,o=t.length;a<o;a++)i.parentNode.insertBefore(t[a],i)}else T.a.fa(e,t)},qc:function(e,t){n(e)?e.parentNode.insertBefore(t,e.nextSibling):e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},kc:function(e,t,i){i?n(e)?e.parentNode.insertBefore(t,i.nextSibling):i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):T.f.qc(e,t)},firstChild:function(e){return n(e)?!e.nextSibling||r(e.nextSibling)?null:e.nextSibling:e.firstChild},nextSibling:function(e){return n(e)&&(e=s(e)),e.nextSibling&&r(e.nextSibling)?null:e.nextSibling},Yc:n,vd:function(e){return(e=(t?e.text:e.nodeValue).match(i))?e[1]:null},oc:function(e){if(l[T.a.A(e)]){var t=e.firstChild;if(t)do{if(1===t.nodeType){var i,a=null;if(i=t.firstChild)do{if(a)a.push(i);else if(n(i)){var o=s(i,!0);o?i=o:a=[i]}else r(i)&&(a=[i])}while(i=i.nextSibling);if(i=a)for(a=t.nextSibling,o=0;o<i.length;o++)a?e.insertBefore(i[o],a):e.appendChild(i[o])}}while(t=t.nextSibling)}}}}(),T.b("virtualElements",T.f),T.b("virtualElements.allowedBindings",T.f.aa),T.b("virtualElements.emptyNode",T.f.za),T.b("virtualElements.insertAfter",T.f.kc),T.b("virtualElements.prepend",T.f.qc),T.b("virtualElements.setDomNodeChildren",T.f.fa),T.S=function(){this.Kc={}},T.a.extend(T.S.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||T.g.getComponentNameForNode(e);case 8:return T.f.Yc(e);default:return!1}},getBindings:function(e,t){var i=(i=this.getBindingsString(e,t))?this.parseBindingsString(i,t,e):null;return T.g.Rb(i,e,t,!1)},getBindingAccessors:function(e,t){var i=(i=this.getBindingsString(e,t))?this.parseBindingsString(i,t,e,{valueAccessors:!0}):null;return T.g.Rb(i,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return T.f.vd(e);default:return null}},parseBindingsString:function(t,e,i,a){try{var o,n=this.Kc,r=t+(a&&a.valueAccessors||"");if(!(o=n[r])){var s,l="with($context){with($data||{}){return{"+T.h.Xa(t,a)+"}}}";s=new Function("$context","$element",l),o=n[r]=s}return o(e,i)}catch(e){throw e.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+e.message,e}}}),T.S.instance=new T.S,T.b("bindingProvider",T.S),function(){function r(e){return function(){return e}}function g(e){return e()}function s(i){return T.a.Ea(T.l.w(i),function(e,t){return function(){return i()[t]}})}function v(e,t){return s(this.getBindings.bind(this,e,t))}function n(e,t,i){var a,o=T.f.firstChild(t),n=T.S.instance,r=n.preprocessNode;if(r){for(;a=o;)o=T.f.nextSibling(a),r.call(n,a);o=T.f.firstChild(t)}for(;a=o;)o=T.f.nextSibling(a),l(e,a,i)}function l(e,t,i){var a=!0,o=1===t.nodeType;o&&T.f.oc(t),(o&&i||T.S.instance.nodeHasBindings(t))&&(a=c(t,null,e,i).shouldBindDescendants),a&&!u[T.a.A(t)]&&n(e,t,!o)}function c(o,e,n,t){var r,s,a,l,c,d,i=T.a.e.get(o,b);if(!e){if(i)throw Error("You cannot apply bindings multiple times to the same element.");T.a.e.set(o,b,!0)}if(!i&&t&&T.xc(o,n),e&&"function"!=typeof e)r=e;else{var u=T.S.instance,h=u.getBindingAccessors||v,f=T.B(function(){return(r=e?e(n,o):h.call(u,o,n))&&n.Q&&n.Q(),r},null,{i:o});r&&f.ca()||(f=null)}if(r){var p=f?function(e){return function(){return g(f()[e])}}:function(e){return r[e]},m=function(){return T.a.Ea(f?f():r,g)};m.get=function(e){return r[e]&&g(p(e))},m.has=function(e){return e in r},a=r,l=[],c={},d=[],T.a.D(a,function t(e){if(!c[e]){var i=T.getBindingHandler(e);i&&(i.after&&(d.push(e),T.a.r(i.after,function(e){if(a[e]){if(-1!==T.a.o(d,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+d.join(", "));t(e)}}),d.length--),l.push({key:e,jc:i})),c[e]=!0}}),t=l,T.a.r(t,function(e){var t=e.jc.init,i=e.jc.update,a=e.key;if(8===o.nodeType&&!T.f.aa[a])throw Error("The binding '"+a+"' cannot be used with virtual elements");try{"function"==typeof t&&T.l.w(function(){var e=t(o,p(a),m,n.$data,n);if(e&&e.controlsDescendantBindings){if(s!==Upa)throw Error("Multiple bindings ("+s+" and "+a+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");s=a}}),"function"==typeof i&&T.B(function(){i(o,p(a),m,n.$data,n)},null,{i:o})}catch(e){throw e.message='Unable to process binding "'+a+": "+r[a]+'"\nMessage: '+e.message,e}})}return{shouldBindDescendants:s===Upa}}function d(e){return e&&e instanceof T.R?e:new T.R(e)}T.d={};var u={script:!0,textarea:!0,template:!0};T.getBindingHandler=function(e){return T.d[e]},T.R=function(i,a,o,n,e){function t(){var e=c?i():i,t=T.a.c(e);return a?(a.Q&&a.Q(),T.a.extend(l,a),l.Q=s):(l.$parents=[],l.$root=t,l.ko=T),l.$rawData=e,l.$data=t,o&&(l[o]=t),n&&n(l,a,t),l.$data}var r,s,l=this,c="function"==typeof i&&!T.I(i);e&&e.exportDependencies?t():(s=T.B(t,null,{ya:function(){return r&&!T.a.Tb(r)},i:!0})).ca()&&((l.Q=s).equalityComparer=null,r=[],s.Dc=function(e){r.push(e),T.a.G.qa(e,function(e){T.a.Na(r,e),r.length||(s.k(),l.Q=s=Upa)})})},T.R.prototype.createChildContext=function(e,t,i,a){return new T.R(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),i&&i(e)},a)},T.R.prototype.extend=function(i){return new T.R(this.Q||this.$data,this,null,function(e,t){e.$rawData=t.$rawData,T.a.extend(e,"function"==typeof i?i():i)})},T.R.prototype.ac=function(e,t){return this.createChildContext(e,t,null,{exportDependencies:!0})};var b=T.a.e.J(),i=T.a.e.J();T.xc=function(e,t){if(2!=arguments.length)return T.a.e.get(e,i);T.a.e.set(e,i,t),t.Q&&t.Q.Dc(e)},T.La=function(e,t,i){return 1===e.nodeType&&T.f.oc(e),c(e,t,d(i),!0)},T.Ic=function(e,t,i){return i=d(i),T.La(e,(o=i,n=e,"function"==typeof(a=t)?s(a.bind(null,o,n)):T.a.Ea(a,r)),i);var a,o,n},T.hb=function(e,t){1!==t.nodeType&&8!==t.nodeType||n(d(e),t,!0)},T.Ub=function(e,t){if(!Ypa&&Vpa.jQuery&&(Ypa=Vpa.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||Vpa.document.body,l(d(e),t,!0)},T.nb=function(e){switch(e.nodeType){case 1:case 8:var t=T.xc(e);if(t)return t;if(e.parentNode)return T.nb(e.parentNode)}return Upa},T.Oc=function(e){return(e=T.nb(e))?e.$data:Upa},T.b("bindingHandlers",T.d),T.b("applyBindings",T.Ub),T.b("applyBindingsToDescendants",T.hb),T.b("applyBindingAccessorsToNode",T.La),T.b("applyBindingsToNode",T.Ic),T.b("contextFor",T.nb),T.b("dataFor",T.Oc)}(),function(s){function a(a,e){var o,i,n,r=c.hasOwnProperty(a)?c[a]:s;r?r.Y(e):((r=c[a]=new T.K).Y(e),n=function(e,t){var i=!(!t||!t.synchronous);d[a]={definition:e,dd:i},delete c[a],o||i?r.notifySubscribers(e):T.Z.Za(function(){r.notifySubscribers(e)})},l("getConfig",[i=a],function(t){t?l("loadComponent",[i,t],function(e){n(e,t)}):n(null,null)}),o=!0)}function l(t,i,a,o){o||(o=T.g.loaders.slice(0));var e=o.shift();if(e){var n=e[t];if(n){var r=!1;if(n.apply(e,i.concat(function(e){r?a(null):null!==e?a(e):l(t,i,a,o)}))!==s&&(r=!0,!e.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else l(t,i,a,o)}else a(null)}var c={},d={};T.g={get:function(e,t){var i=d.hasOwnProperty(e)?d[e]:s;i?i.dd?T.l.w(function(){t(i.definition)}):T.Z.Za(function(){t(i.definition)}):a(e,t)},$b:function(e){delete d[e]},Nb:l},T.g.loaders=[],T.b("components",T.g),T.b("components.get",T.g.get),T.b("components.clearCachedDefinition",T.g.$b)}(),function(){function o(e){switch(T.a.A(e)){case"script":return T.a.na(e.text);case"textarea":return T.a.na(e.value);case"template":if(n(e.content))return T.a.wa(e.content.childNodes)}return T.a.wa(e.childNodes)}function n(e){return Vpa.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function l(e,t,i){"string"==typeof t.require?a||Vpa.require?(a||Vpa.require)([t.require],i):e("Uses require, but no AMD loader is present"):i(t)}function r(t){return function(e){throw Error("Component '"+t+"': "+e)}}var i={};T.g.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(T.g.wb(e))throw Error("Component "+e+" is already registered");i[e]=t},T.g.wb=function(e){return i.hasOwnProperty(e)},T.g.ud=function(e){delete i[e],T.g.$b(e)},T.g.cc={getConfig:function(e,t){t(i.hasOwnProperty(e)?i[e]:null)},loadComponent:function(t,e,i){var a=r(t);l(a,e,function(e){!function(t,e,i,a){function o(){0==--r&&a(n)}var n={},r=2,s=i.template;i=i.viewModel,s?l(e,s,function(e){T.g.Nb("loadTemplate",[t,e],function(e){n.template=e,o()})}):o(),i?l(e,i,function(e){T.g.Nb("loadViewModel",[t,e],function(e){n[c]=e,o()})}):o()}(t,a,e,i)})},loadTemplate:function(e,t,i){if(e=r(e),"string"==typeof t)i(T.a.na(t));else if(t instanceof Array)i(t);else if(n(t))i(T.a.W(t.childNodes));else if(t.element)if(t=t.element,Vpa.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)i(o(t));else if("string"==typeof t){var a=Wpa.getElementById(t);a?i(o(a)):e("Cannot find element with ID "+t)}else e("Unknown element type: "+t);else e("Unknown template value: "+t)},loadViewModel:function(e,t,i){!function e(t,i,a){if("function"==typeof i)a(function(e){return new i(e)});else if("function"==typeof i[c])a(i[c]);else if("instance"in i){var o=i.instance;a(function(){return o})}else"viewModel"in i?e(t,i.viewModel,a):t("Unknown viewModel value: "+i)}(r(e),t,i)}};var c="createViewModel";T.b("components.register",T.g.register),T.b("components.isRegistered",T.g.wb),T.b("components.unregister",T.g.ud),T.b("components.defaultLoader",T.g.cc),T.g.loaders.push(T.g.cc),T.g.Ec=i}(),function(){T.g.getComponentNameForNode=function(e){var t=T.a.A(e);if(T.g.wb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||T.a.C<=8&&e.tagName===t))return t},T.g.Rb=function(e,t,i,a){if(1===t.nodeType){var o=T.g.getComponentNameForNode(t);if(o){if((e=e||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var n={name:o,params:function(i,e){if(t=i.getAttribute("params")){var t=r.parseBindingsString(t,e,i,{valueAccessors:!0,bindingParams:!0}),a=(t=T.a.Ea(t,function(e){return T.m(e,null,{i:i})}),T.a.Ea(t,function(t){var e=t.p();return t.ca()?T.m({read:function(){return T.a.c(t())},write:T.Da(e)&&function(e){t()(e)},i:i}):e}));return a.hasOwnProperty("$raw")||(a.$raw=t),a}return{$raw:{}}}(t,i)};e.component=a?function(){return n}:n}}return e};var a,t,r=new T.S;T.a.C<9&&(T.g.register=(t=T.g.register,function(e){return Wpa.createElement(e),t.apply(this,arguments)}),Wpa.createDocumentFragment=(a=Wpa.createDocumentFragment,function(){var e,t=a(),i=T.g.Ec;for(e in i)i.hasOwnProperty(e)&&t.createElement(e);return t}))}(),S=0,T.d.component={init:function(d,t,e,i,u){function h(){var e=f&&f.dispose;"function"==typeof e&&e.call(f),p=f=null}var f,p,m=T.a.W(T.f.childNodes(d));return T.a.G.qa(d,h),T.m(function(){var s,l,e=T.a.c(t());if("string"==typeof e?s=e:(s=T.a.c(e.name),l=T.a.c(e.params)),!s)throw Error("No component name specified");var c=p=++S;T.g.get(s,function(e){if(p===c){if(h(),!e)throw Error("Unknown component '"+s+"'");!function(e,t,i){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=T.a.wa(t),T.f.fa(i,e)}(s,e,d);var t=(a=d,o=m,n=l,(r=(i=e).createViewModel)?r.call(i,n,{element:a,templateNodes:o}):n);e=u.createChildContext(t,void 0,function(e){e.$component=t,e.$componentTemplateNodes=m}),f=t,T.hb(e,d)}var i,a,o,n,r})},null,{i:d}),{controlsDescendantBindings:!0}}},T.f.aa.component=!0;var D={class:"className",for:"htmlFor"};T.d.attr={update:function(a,e){var t=T.a.c(e())||{};T.a.D(t,function(e,t){var i=!1===(t=T.a.c(t))||null===t||t===Upa;i&&a.removeAttribute(e),T.a.C<=8&&e in D?(e=D[e],i?a.removeAttribute(e):a[e]=t):i||a.setAttribute(e,t.toString()),"name"===e&&T.a.vc(a,i?"":t.toString())})}},T.d.checked={after:["value","attr"],init:function(o,n,r){function e(){var e=o.checked,t=h?s():e;if(!T.xa.Va()&&(!l||e)){var i=T.l.w(n);if(c){var a=d?i.p():i;u!==t?(e&&(T.a.ra(a,t,!0),T.a.ra(a,u,!1)),u=t):T.a.ra(a,t,e),d&&T.Da(i)&&i(a)}else T.h.Ga(i,r,"checked",t,!0)}}var s=T.rc(function(){return r.has("checkedValue")?T.a.c(r.get("checkedValue")):r.has("value")?T.a.c(r.get("value")):o.value}),t="checkbox"==o.type,l="radio"==o.type;if(t||l){var i=n(),c=t&&T.a.c(i)instanceof Array,d=!(c&&i.push&&i.splice),u=c?s():Upa,h=l||c;l&&!o.name&&T.d.uniqueName.init(o,function(){return!0}),T.m(e,null,{i:o}),T.a.q(o,"click",e),T.m(function(){var e=T.a.c(n());o.checked=c?0<=T.a.o(e,s()):t?e:s()===e},null,{i:o}),i=Upa}}},T.h.ga.checked=!0,T.d.checkedValue={update:function(e,t){e.value=T.a.c(t())}},T.d.css={update:function(i,e){var t=T.a.c(e());null!==t&&"object"==typeof t?T.a.D(t,function(e,t){t=T.a.c(t),T.a.fb(i,e,t)}):(t=T.a.cb(String(t||"")),T.a.fb(i,i.__ko__cssValue,!1),i.__ko__cssValue=t,T.a.fb(i,t,!0))}},T.d.enable={update:function(e,t){var i=T.a.c(t());i&&e.disabled?e.removeAttribute("disabled"):i||e.disabled||(e.disabled=!0)}},T.d.disable={update:function(e,t){T.d.enable.update(e,function(){return!T.a.c(t())})}},T.d.event={init:function(e,n,r,s,l){var t=n()||{};T.a.D(t,function(o){"string"==typeof o&&T.a.q(e,o,function(e){var t,i=n()[o];if(i){try{var a=T.a.W(arguments);s=l.$data,a.unshift(s),t=i.apply(s,a)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===r.get(o+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},T.d.foreach={mc:function(i){return function(){var e=i(),t=T.a.Bb(e);return t&&"number"!=typeof t.length?(T.a.c(e),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:T.X.vb}):{foreach:e,templateEngine:T.X.vb}}},init:function(e,t){return T.d.template.init(e,T.d.foreach.mc(t))},update:function(e,t,i,a,o){return T.d.template.update(e,T.d.foreach.mc(t),i,a,o)}},T.h.va.foreach=!1,T.f.aa.foreach=!0,T.d.hasfocus={init:function(a,o,n){function e(e){a.__ko_hasfocusUpdating=!0;var t=a.ownerDocument;if("activeElement"in t){var i;try{i=t.activeElement}catch(e){i=t.body}e=i===a}t=o(),T.h.Ga(t,n,"hasfocus",e,!0),a.__ko_hasfocusLastValue=e,a.__ko_hasfocusUpdating=!1}var t=e.bind(null,!0),i=e.bind(null,!1);T.a.q(a,"focus",t),T.a.q(a,"focusin",t),T.a.q(a,"blur",i),T.a.q(a,"focusout",i)},update:function(e,t){var i=!!T.a.c(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===i||(i?e.focus():e.blur(),!i&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),T.l.w(T.a.Fa,null,[e,i?"focusin":"focusout"]))}},T.h.ga.hasfocus=!0,T.d.hasFocus=T.d.hasfocus,T.h.ga.hasFocus=!0,T.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){T.a.Eb(e,t())}},t("if"),t("ifnot",!1,!0),t("with",!0,!1,function(e,t){return e.ac(t)});var I={};T.d.options={init:function(e){if("select"!==T.a.A(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(a,e,o){function t(){return T.a.Ma(a.options,function(e){return e.selected})}function n(e,t,i){var a=typeof t;return"function"==a?t(e):"string"==a?e[t]:i}function i(e,t){if(f&&c)T.j.ja(a,T.a.c(o.get("value")),!0);else if(h.length){var i=0<=T.a.o(h,T.j.u(t[0]));T.a.wc(t[0],i),f&&!i&&T.l.w(T.a.Fa,null,[a,"change"])}}var r=a.multiple,s=0!=a.length&&r?a.scrollTop:null,l=T.a.c(e()),c=o.get("valueAllowUnset")&&o.has("value"),d=o.get("optionsIncludeDestroyed");e={};var u,h=[];c||(r?h=T.a.ib(t(),T.j.u):0<=a.selectedIndex&&h.push(T.j.u(a.options[a.selectedIndex]))),l&&(void 0===l.length&&(l=[l]),u=T.a.Ma(l,function(e){return d||e===Upa||null===e||!T.a.c(e._destroy)}),o.has("optionsCaption")&&null!==(l=T.a.c(o.get("optionsCaption")))&&l!==Upa&&u.unshift(I));var f=!1;e.beforeRemove=function(e){a.removeChild(e)},l=i,o.has("optionsAfterRender")&&"function"==typeof o.get("optionsAfterRender")&&(l=function(e,t){i(0,t),T.l.w(o.get("optionsAfterRender"),null,[t[0],e!==I?e:Upa])}),T.a.Db(a,u,function(e,t,i){return i.length&&(h=!c&&i[0].selected?[T.j.u(i[0])]:[],f=!0),t=a.ownerDocument.createElement("option"),e===I?(T.a.bb(t,o.get("optionsCaption")),T.j.ja(t,Upa)):(i=n(e,o.get("optionsValue"),e),T.j.ja(t,T.a.c(i)),e=n(e,o.get("optionsText"),i),T.a.bb(t,e)),[t]},e,l),T.l.w(function(){c?T.j.ja(a,T.a.c(o.get("value")),!0):(r?h.length&&t().length<h.length:h.length&&0<=a.selectedIndex?T.j.u(a.options[a.selectedIndex])!==h[0]:h.length||0<=a.selectedIndex)&&T.a.Fa(a,"change")}),T.a.Sc(a),s&&20<Math.abs(s-a.scrollTop)&&(a.scrollTop=s)}},T.d.options.zb=T.a.e.J(),T.d.selectedOptions={after:["options","foreach"],init:function(i,a,o){T.a.q(i,"change",function(){var e=a(),t=[];T.a.r(i.getElementsByTagName("option"),function(e){e.selected&&t.push(T.j.u(e))}),T.h.Ga(e,o,"selectedOptions",t)})},update:function(e,t){if("select"!=T.a.A(e))throw Error("values binding applies only to SELECT elements");var i=T.a.c(t()),a=e.scrollTop;i&&"number"==typeof i.length&&T.a.r(e.getElementsByTagName("option"),function(e){var t=0<=T.a.o(i,T.j.u(e));e.selected!=t&&T.a.wc(e,t)}),e.scrollTop=a}},T.h.ga.selectedOptions=!0,T.d.style={update:function(i,e){var t=T.a.c(e()||{});T.a.D(t,function(e,t){null!==(t=T.a.c(t))&&t!==Upa&&!1!==t||(t=""),i.style[e]=t})}},T.d.submit={init:function(a,o,e,t,n){if("function"!=typeof o())throw Error("The value for a submit binding must be a function");T.a.q(a,"submit",function(e){var t,i=o();try{t=i.call(n.$data,a)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}})}},T.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){T.a.bb(e,t())}},T.f.aa.text=!0,function(){if(Vpa&&Vpa.navigator)var e=function(e){if(e)return parseFloat(e[1])},d=Vpa.opera&&Vpa.opera.version&&parseInt(Vpa.opera.version()),t=Vpa.navigator.userAgent,u=e(t.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),h=e(t.match(/Firefox\/([^ ]*)/));if(T.a.C<10)var a=T.a.e.J(),o=T.a.e.J(),n=function(e){var t=this.activeElement;(t=t&&T.a.e.get(t,o))&&t(e)},f=function(e,t){var i=e.ownerDocument;T.a.e.get(i,a)||(T.a.e.set(i,a,!0),T.a.q(i,"selectionchange",n)),T.a.e.set(e,o,t)};T.d.textInput={init:function(i,a,t){function e(e,t){T.a.q(i,e,t)}function o(){r||(s=i.value,r=T.a.setTimeout(n,4))}function n(){clearTimeout(r),s=r=Upa;var e=i.value;l!==e&&(l=e,T.h.Ga(a(),t,"textInput",e))}var r,s,l=i.value,c=9==T.a.C?o:n;T.a.C<10?(e("propertychange",function(e){"value"===e.propertyName&&c(e)}),8==T.a.C&&(e("keyup",n),e("keydown",n)),8<=T.a.C&&(f(i,c),e("dragend",o))):(e("input",n),u<5&&"textarea"===T.a.A(i)?(e("keydown",o),e("paste",o),e("cut",o)):d<11?e("keydown",o):h<4&&(e("DOMAutoComplete",n),e("dragdrop",n),e("drop",n))),e("change",n),T.m(function e(){var t=T.a.c(a());null!==t&&t!==Upa||(t=""),s!==Upa&&t===s?T.a.setTimeout(e,4):i.value!==t&&(l=t,i.value=t)},null,{i:i})}},T.h.ga.textInput=!0,T.d.textinput={preprocess:function(e,t,i){i("textInput",e)}}}(),T.d.uniqueName={init:function(e,t){if(t()){var i="ko_unique_"+ ++T.d.uniqueName.Nc;T.a.vc(e,i)}}},T.d.uniqueName.Nc=0,T.d.value={after:["options","foreach"],init:function(a,o,n){if("input"!=a.tagName.toLowerCase()||"checkbox"!=a.type&&"radio"!=a.type){var e=["change"],t=n.get("valueUpdate"),i=!1,r=null;t&&("string"==typeof t&&(t=[t]),T.a.ta(e,t),e=T.a.Wb(e));var s=function(){r=null,i=!1;var e=o(),t=T.j.u(a);T.h.Ga(e,n,"value",t)};!T.a.C||"input"!=a.tagName.toLowerCase()||"text"!=a.type||"off"==a.autocomplete||a.form&&"off"==a.form.autocomplete||-1!=T.a.o(e,"propertychange")||(T.a.q(a,"propertychange",function(){i=!0}),T.a.q(a,"focus",function(){i=!1}),T.a.q(a,"blur",function(){i&&s()})),T.a.r(e,function(e){var t=s;T.a.sd(e,"after")&&(t=function(){r=T.j.u(a),T.a.setTimeout(s,0)},e=e.substring(5)),T.a.q(a,e,t)});var l=function(){var e=T.a.c(o()),t=T.j.u(a);if(null!==r&&e===r)T.a.setTimeout(l,0);else if(e!==t)if("select"===T.a.A(a)){var i=n.get("valueAllowUnset");(t=function(){T.j.ja(a,e,i)})(),i||e===T.j.u(a)?T.a.setTimeout(t,0):T.l.w(T.a.Fa,null,[a,"change"])}else T.j.ja(a,e)};T.m(l,null,{i:a})}else T.La(a,{checkedValue:o})},update:function(){}},T.h.ga.value=!0,T.d.visible={update:function(e,t){var i=T.a.c(t()),a="none"!=e.style.display;i&&!a?e.style.display="":!i&&a&&(e.style.display="none")}},T.d.click={init:function(e,t,i,a,o){return T.d.event.init.call(this,e,function(){var e={};return e.click=t(),e},i,a,o)}},T.P=function(){},T.P.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},T.P.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},T.P.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var i=(t=t||Wpa).getElementById(e);if(!i)throw Error("Cannot find template with ID "+e);return new T.v.n(i)}if(1==e.nodeType||8==e.nodeType)return new T.v.sa(e);throw Error("Unknown template type: "+e)},T.P.prototype.renderTemplate=function(e,t,i,a){return e=this.makeTemplateSource(e,a),this.renderTemplateSource(e,t,i,a)},T.P.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},T.P.prototype.rewriteTemplate=function(e,t,i){t=t((e=this.makeTemplateSource(e,i)).text()),e.text(t),e.data("isRewritten",!0)},T.b("templateEngine",T.P),T.Ib=function(){function r(e,t,i,a){e=T.h.Ab(e);for(var o=T.h.va,n=0;n<e.length;n++){var r=e[n].key;if(o.hasOwnProperty(r)){var s=o[r];if("function"==typeof s){if(r=s(e[n].value))throw Error(r)}else if(!s)throw Error("This template engine does not support the '"+r+"' binding within its templates")}}return i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+T.h.Xa(e,{valueAccessors:!0})+" } })()},'"+i.toLowerCase()+"')",a.createJavaScriptEvaluatorBlock(i)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Tc:function(e,t,i){t.isTemplateRewritten(e,i)||t.rewriteTemplate(e,function(e){return T.Ib.jd(e,t)},i)},jd:function(e,n){return e.replace(t,function(e,t,i,a,o){return r(o,t,i,n)}).replace(i,function(e,t){return r(t,"\x3c!-- ko --\x3e","#comment",n)})},Jc:function(a,o){return T.N.yb(function(e,t){var i=e.nextSibling;i&&i.nodeName.toLowerCase()===o&&T.La(i,a,t)})}}}(),T.b("__tr_ambtns",T.Ib.Jc),function(){T.v={},T.v.n=function(e){if(this.n=e){var t=T.a.A(e);this.eb="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},T.v.n.prototype.text=function(){var e=1===this.eb?"text":2===this.eb?"value":"innerHTML";if(0==arguments.length)return this.n[e];var t=arguments[0];"innerHTML"===e?T.a.Eb(this.n,t):this.n[e]=t};var t=T.a.e.J()+"_";T.v.n.prototype.data=function(e){if(1===arguments.length)return T.a.e.get(this.n,t+e);T.a.e.set(this.n,t+e,arguments[1])};var i=T.a.e.J();T.v.n.prototype.nodes=function(){var e=this.n;if(0==arguments.length)return(T.a.e.get(e,i)||{}).mb||(3===this.eb?e.content:4===this.eb?e:Upa);T.a.e.set(e,i,{mb:arguments[0]})},T.v.sa=function(e){this.n=e},T.v.sa.prototype=new T.v.n,T.v.sa.prototype.text=function(){if(0==arguments.length){var e=T.a.e.get(this.n,i)||{};return e.Jb===Upa&&e.mb&&(e.Jb=e.mb.innerHTML),e.Jb}T.a.e.set(this.n,i,{Jb:arguments[0]})},T.b("templateSources",T.v),T.b("templateSources.domElement",T.v.n),T.b("templateSources.anonymousTemplate",T.v.sa)}(),function(){function a(e,t,i){var a;for(t=T.f.nextSibling(t);e&&(a=e)!==t;)i(a,e=T.f.nextSibling(a))}function c(e,t){if(e.length){var o=e[0],n=e[e.length-1],i=o.parentNode,r=T.S.instance,s=r.preprocessNode;if(s){if(a(o,n,function(e,t){var i=e.previousSibling,a=s.call(r,e);a&&(e===o&&(o=a[0]||t),e===n&&(n=a[a.length-1]||i))}),e.length=0,!o)return;o===n?e.push(o):(e.push(o,n),T.a.Ba(e,i))}a(o,n,function(e){1!==e.nodeType&&8!==e.nodeType||T.Ub(t,e)}),a(o,n,function(e){1!==e.nodeType&&8!==e.nodeType||T.N.Cc(e,[t])}),T.a.Ba(e,i)}}function l(e){return e.nodeType?e:0<e.length?e[0]:null}function d(e,t,i,a,o){o=o||{};var n=(e&&l(e)||i||{}).ownerDocument,r=o.templateEngine||h;if(T.Ib.Tc(i,r,n),"number"!=typeof(i=r.renderTemplate(i,a,o,n)).length||0<i.length&&"number"!=typeof i[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(n=!1,t){case"replaceChildren":T.f.fa(e,i),n=!0;break;case"replaceNode":T.a.uc(e,i),n=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return n&&(c(i,a),o.afterRender&&T.l.w(o.afterRender,null,[i,a.$data])),i}function u(e,t,i){return T.I(e)?e():"function"==typeof e?e(t,i):e}var h;T.Fb=function(e){if(e!=Upa&&!(e instanceof T.P))throw Error("templateEngine must inherit from ko.templateEngine");h=e},T.Cb=function(i,a,o,n,r){if(((o=o||{}).templateEngine||h)==Upa)throw Error("Set a template engine before calling renderTemplate");if(r=r||"replaceChildren",n){var s=l(n);return T.B(function(){var e=a&&a instanceof T.R?a:new T.R(a,null,null,null,{exportDependencies:!0}),t=u(i,e.$data,e);e=d(n,r,t,e,o),"replaceNode"==r&&(s=l(n=e))},null,{ya:function(){return!s||!T.a.qb(s)},i:s&&"replaceNode"==r?s.parentNode:s})}return T.N.yb(function(e){T.Cb(i,a,o,e,"replaceNode")})},T.pd=function(i,t,a,o,n){function r(e,t){c(t,l),a.afterRender&&a.afterRender(t,e),l=null}function s(e,t){return l=n.createChildContext(e,a.as,function(e){e.$index=t}),d(null,"ignoreTargetNode",u(i,e,l),l,a)}var l;return T.B(function(){var e=T.a.c(t)||[];void 0===e.length&&(e=[e]),e=T.a.Ma(e,function(e){return a.includeDestroyed||e===Upa||null===e||!T.a.c(e._destroy)}),T.l.w(T.a.Db,null,[o,e,s,a,r])},null,{i:o})};var r=T.a.e.J();T.d.template={init:function(e,t){var i=T.a.c(t());if("string"==typeof i||i.name)T.f.za(e);else{if("nodes"in i){if(i=i.nodes||[],T.I(i))throw Error('The "nodes" option must be a plain, non-observable array.')}else i=T.f.childNodes(e);i=T.a.nc(i),new T.v.sa(e).nodes(i)}return{controlsDescendantBindings:!0}},update:function(e,t,i,a,o){var n=t();i=!0,a=null,"string"==typeof(t=T.a.c(n))?t={}:(n=t.name,"if"in t&&(i=T.a.c(t.if)),i&&"ifnot"in t&&(i=!T.a.c(t.ifnot))),"foreach"in t?a=T.pd(n||e,i&&t.foreach||[],t,e,o):i?(o="data"in t?o.ac(t.data,t.as):o,a=T.Cb(n||e,o,t,e)):T.f.za(e),o=a,(t=T.a.e.get(e,r))&&"function"==typeof t.k&&t.k(),T.a.e.set(e,r,o&&o.ca()?o:Upa)}},T.h.va.template=function(e){return 1==(e=T.h.Ab(e)).length&&e[0].unknown||T.h.fd(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},T.f.aa.template=!0}(),T.b("setTemplateEngine",T.Fb),T.b("renderTemplate",T.Cb),T.a.hc=function(e,t,i){var a,o,n,r,s;if(e.length&&t.length)for(a=o=0;(!i||a<i)&&(r=e[o]);++o){for(n=0;s=t[n];++n)if(r.value===s.value){r.moved=s.index,s.moved=r.index,t.splice(n,1),a=n=0;break}a+=n}},T.a.lb=function(){function a(e,t,i,a,o){var n,r,s,l,c,d=Math.min,u=Math.max,h=[],f=e.length,p=t.length,m=p-f||1,g=f+p+1;for(n=0;n<=f;n++)for(l=s,h.push(s=[]),c=d(p,n+m),r=u(0,n-1);r<=c;r++)s[r]=r?n?e[n-1]===t[r-1]?l[r-1]:d(l[r]||g,s[r-1]||g)+1:r+1:n+1;for(d=[],u=[],m=[],n=f,r=p;n||r;)p=h[n][r]-1,r&&p===h[n][r-1]?u.push(d[d.length]={status:i,value:t[--r],index:r}):n&&p===h[n-1][r]?m.push(d[d.length]={status:a,value:e[--n],index:n}):(--r,--n,o.sparse||d.push({status:"retained",value:t[r]}));return T.a.hc(m,u,!o.dontLimitMoves&&10*f),d.reverse()}return function(e,t,i){return i="boolean"==typeof i?{dontLimitMoves:i}:i||{},t=t||[],(e=e||[]).length<t.length?a(e,t,"added","deleted",i):a(t,e,"deleted","added",i)}}(),T.b("utils.compareArrays",T.a.lb),function(){function k(t,i,a,o,n){var r=[],e=T.B(function(){var e=i(a,n,T.a.Ba(r,t))||[];0<r.length&&(T.a.uc(r,e),o&&T.l.w(o,null,[a,e,n])),r.length=0,T.a.ta(r,e)},null,{i:t,ya:function(){return!T.a.Tb(r)}});return{ea:r,B:e.ca()?e:Upa}}var _=T.a.e.J(),C=T.a.e.J();T.a.Db=function(i,e,t,a,o){function n(e,t){v=c[t],p!==t&&(x[e]=v),v.tb(p++),T.a.Ba(v.ea,i),h.push(v),g.push(v)}function r(t,i){if(t)for(var a=0,e=i.length;a<e;a++)i[a]&&T.a.r(i[a].ea,function(e){t(e,a,i[a].ka)})}e=e||[],a=a||{};var s,l=T.a.e.get(i,_)===Upa,c=T.a.e.get(i,_)||[],d=T.a.ib(c,function(e){return e.ka}),u=T.a.lb(d,e,a.dontLimitMoves),h=[],f=0,p=0,m=[],g=[];e=[];for(var v,b,y,x=[],w=(d=[],0);b=u[w];w++)switch(y=b.moved,b.status){case"deleted":y===Upa&&((v=c[f]).B&&(v.B.k(),v.B=Upa),T.a.Ba(v.ea,i).length&&(a.beforeRemove&&(h.push(v),g.push(v),v.ka===C?v=null:e[w]=v),v&&m.push.apply(m,v.ea))),f++;break;case"retained":n(w,f++);break;case"added":y!==Upa?n(w,y):(v={ka:b.value,tb:T.O(p++)},h.push(v),g.push(v),l||(d[w]=v))}for(T.a.e.set(i,_,h),r(a.beforeMove,x),T.a.r(m,a.beforeRemove?T.ba:T.removeNode),w=0,l=T.f.firstChild(i);v=g[w];w++){for(v.ea||T.a.extend(v,k(i,t,v.ka,o,v.tb)),f=0;u=v.ea[f];l=u.nextSibling,s=u,f++)u!==l&&T.f.kc(i,u,s);!v.ad&&o&&(o(v.ka,v.ea,v.tb),v.ad=!0)}for(r(a.beforeRemove,e),w=0;w<e.length;++w)e[w]&&(e[w].ka=C);r(a.afterMove,x),r(a.afterAdd,d)}}(),T.b("utils.setDomNodeChildrenFromArrayMapping",T.a.Db),T.X=function(){this.allowTemplateRewriting=!1},T.X.prototype=new T.P,T.X.prototype.renderTemplateSource=function(e,t,i,a){return(t=T.a.C<9||!e.nodes?null:e.nodes())?T.a.W(t.cloneNode(!0).childNodes):(e=e.text(),T.a.na(e,a))},T.X.vb=new T.X,T.Fb(T.X.vb),T.b("nativeTemplateEngine",T.X),function(){T.xb=function(){var n=this.ed=function(){if(!Ypa||!Ypa.tmpl)return 0;try{if(0<=Ypa.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(e,t,i,a){if(a=a||Wpa,i=i||{},n<2)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var o=e.data("precompiled");return o||(o=e.text()||"",o=Ypa.template(null,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),e.data("precompiled",o)),e=[t.$data],t=Ypa.extend({koBindingContext:t},i.templateOptions),(t=Ypa.tmpl(o,e,t)).appendTo(a.createElement("div")),Ypa.fragments={},t},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){Wpa.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<n&&(Ypa.tmpl.tag.ko_code={open:"__.push($1 || '');"},Ypa.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},T.xb.prototype=new T.P;var e=new T.xb;0<e.ed&&T.Fb(e),T.b("jqueryTmplTemplateEngine",T.xb)}()},"function"==typeof define&&define.amd?define(["exports","require"],$pa):"object"==typeof exports&&"object"==typeof module?$pa(module.exports||exports):$pa(Vpa.ko={})}(),function(l){"use strict";l.fn.serializeToJSON=function(e){return{settings:l.extend(!0,{},l.fn.serializeToJSON.defaults,e),getValue:function(e){var t=e.val();if(e.is(":radio")&&(t=e.filter(":checked").val()||null),e.is(":checkbox")&&(t=l(e).prop("checked")),this.settings.parseBooleans){var i=(t+"").toLowerCase();"true"!==i&&"false"!==i||(t="true"===i)}var a=this.settings.parseFloat.condition;return void 0!==a&&("string"==typeof a&&e.is(a)||"function"==typeof a&&a(e))&&(t=this.settings.parseFloat.getInputValue(e),t=Number(t),this.settings.parseFloat.nanToZero&&isNaN(t)&&(t=0)),t},createProperty:function(e,t,i,a){for(var o=e,n=0;n<i.length;n++){var r=i[n];if(n===i.length-1){a.is("select")&&a.prop("multiple")&&null!==t?(Array.isArray(o[r])||(o[r]=new Array),o[r].push(t)):o[r]=t}else{var s=/\[\w+\]/g.exec(r);if(null!=s&&0<s.length)r=r.substr(0,r.indexOf("[")),this.settings.associativeArrays?o.hasOwnProperty(r)||(o[r]={}):Array.isArray(o[r])||(o[r]=new Array),o=o[r],r=s[0].replace(/[\[\]]/g,"");o.hasOwnProperty(r)||(o[r]={}),o=o[r]}}},includeUncheckValues:function(e,t){l(":radio",e).each(function(){0===l("input[name='"+this.name+"']:radio:checked").length&&t.push({name:this.name,value:null})}),l("select[multiple]",e).each(function(){null===l(this).val()&&t.push({name:this.name,value:null})})},serializer:function(n){var r=this,e=l(n).serializeArray();this.includeUncheckValues(n,e);var s={};return l.each(e,function(e,t){var i=l(":input[name='"+t.name+"']",n),a=r.getValue(i),o=t.name.split(".");r.createProperty(s,a,o,i)}),s}}.serializer(this)},l.fn.serializeToJSON.defaults={associativeArrays:!0,parseBooleans:!0,parseFloat:{condition:void 0,nanToZero:!0,getInputValue:function(e){return e.val().split(",").join("")}}}}(jQuery),function(n,e,t,i){var a={bounds:!0,country:null,map:!1,details:!1,detailsAttribute:"name",detailsScope:null,autoselect:!0,location:!1,mapOptions:{zoom:14,scrollwheel:!1,mapTypeId:"roadmap"},markerOptions:{draggable:!1},maxZoom:16,types:["geocode"],blur:!1,geocodeAfterResult:!1,restoreValueAfterBlur:!1},r="street_address route intersection political country administrative_area_level_1 administrative_area_level_2 administrative_area_level_3 colloquial_area locality sublocality neighborhood premise subpremise postal_code natural_feature airport park point_of_interest post_box street_number floor room lat lng viewport location formatted_address location_type bounds".split(" "),s="id place_id url website vicinity reference name rating international_phone_number icon formatted_phone_number".split(" ");function o(e,t){this.options=n.extend(!0,{},a,t),t&&t.types&&(this.options.types=t.types),this.input=e,this.$input=n(e),this._defaults=a,this._name="geocomplete",this.init()}n.extend(o.prototype,{init:function(){this.initMap(),this.initMarker(),this.initGeocoder(),this.initDetails(),this.initLocation()},initMap:function(){this.options.map&&("function"!=typeof this.options.map.setCenter?(this.map=new google.maps.Map(n(this.options.map)[0],this.options.mapOptions),google.maps.event.addListener(this.map,"click",n.proxy(this.mapClicked,this)),google.maps.event.addListener(this.map,"dragend",n.proxy(this.mapDragged,this)),google.maps.event.addListener(this.map,"idle",n.proxy(this.mapIdle,this)),google.maps.event.addListener(this.map,"zoom_changed",n.proxy(this.mapZoomed,this))):this.map=this.options.map)},initMarker:function(){if(this.map){var e=n.extend(this.options.markerOptions,{map:this.map});e.disabled||(this.marker=new google.maps.Marker(e),google.maps.event.addListener(this.marker,"dragend",n.proxy(this.markerDragged,this)))}},initGeocoder:function(){var e={types:this.options.types,bounds:!0===this.options.bounds?null:this.options.bounds,componentRestrictions:this.options.componentRestrictions};this.options.country&&(e.componentRestrictions={country:this.options.country}),this.autocomplete=new google.maps.places.Autocomplete(this.input,e),this.geocoder=new google.maps.Geocoder,this.map&&!0===this.options.bounds&&this.autocomplete.bindTo("bounds",this.map),google.maps.event.addListener(this.autocomplete,"place_changed",n.proxy(this.placeChanged,this)),this.$input.on("keypress."+this._name,function(e){if(13===e.keyCode)return!1}),!0===this.options.geocodeAfterResult&&this.$input.bind("keypress."+this._name,n.proxy(function(){9!=event.keyCode&&!0===this.selected&&(this.selected=!1)},this)),this.$input.bind("geocode."+this._name,n.proxy(function(){this.find()},this)),this.$input.bind("geocode:result."+this._name,n.proxy(function(){this.lastInputVal=this.$input.val()},this)),!0===this.options.blur&&this.$input.on("blur."+this._name,n.proxy(function(){!0===this.options.geocodeAfterResult&&!0===this.selected||(!0===this.options.restoreValueAfterBlur&&!0===this.selected?setTimeout(n.proxy(this.restoreLastValue,this),0):this.find())},this))},initDetails:function(){if(this.options.details){if(this.options.detailsScope)var t=n(this.input).parents(this.options.detailsScope).find(this.options.details);else t=n(this.options.details);var i=this.options.detailsAttribute,a={};n.each(r,function(e,t){o(t),o(t+"_short")}),n.each(s,function(e,t){o(t)}),this.$details=t,this.details=a}function o(e){a[e]=t.find("["+i+"="+e+"]")}},initLocation:function(){var e,t=this.options.location;t&&("string"!=typeof t?(t instanceof Array&&(e=new google.maps.LatLng(t[0],t[1])),t instanceof google.maps.LatLng&&(e=t),e&&(this.map&&this.map.setCenter(e),this.marker&&this.marker.setPosition(e))):this.find(t))},destroy:function(){this.map&&(google.maps.event.clearInstanceListeners(this.map),google.maps.event.clearInstanceListeners(this.marker)),this.autocomplete.unbindAll(),google.maps.event.clearInstanceListeners(this.autocomplete),google.maps.event.clearInstanceListeners(this.input),this.$input.removeData(),this.$input.off(this._name),this.$input.unbind("."+this._name)},find:function(e){this.geocode({address:e||this.$input.val()})},geocode:function(e){e.address&&(this.options.bounds&&!e.bounds&&(!0===this.options.bounds?e.bounds=this.map&&this.map.getBounds():e.bounds=this.options.bounds),this.options.country&&(e.region=this.options.country),this.geocoder.geocode(e,n.proxy(this.handleGeocode,this)))},selectFirstResult:function(){var e="";n(".pac-item-selected")[0]&&(e="-selected");var t=n(".pac-container:visible .pac-item"+e+":first span:nth-child(2)").text(),i=n(".pac-container:visible .pac-item"+e+":first span:nth-child(3)").text(),a=t;return i&&(a+=" - "+i),this.$input.val(a),a},restoreLastValue:function(){this.lastInputVal&&this.$input.val(this.lastInputVal)},handleGeocode:function(e,t){if(t===google.maps.GeocoderStatus.OK){var i=e[0];this.$input.val(i.formatted_address),this.update(i),1<e.length&&this.trigger("geocode:multiple",e)}else this.trigger("geocode:error",t)},trigger:function(e,t){this.$input.trigger(e,[t])},center:function(e){e.viewport?(this.map.fitBounds(e.viewport),this.map.getZoom()>this.options.maxZoom&&this.map.setZoom(this.options.maxZoom)):(this.map.setZoom(this.options.maxZoom),this.map.setCenter(e.location)),this.marker&&(this.marker.setPosition(e.location),this.marker.setAnimation(this.options.markerOptions.animation))},update:function(e){this.map&&this.center(e.geometry),this.$details&&this.fillDetails(e),this.trigger("geocode:result",e)},fillDetails:function(i){var a={},e=i.geometry,t=e.viewport,o=e.bounds;n.each(i.address_components,function(e,i){i.types[0];n.each(i.types,function(e,t){a[t]=i.long_name,a[t+"_short"]=i.short_name})}),n.each(s,function(e,t){a[t]=i[t]}),n.extend(a,{formatted_address:i.formatted_address,location_type:e.location_type||"PLACES",viewport:t,bounds:o,location:e.location,lat:e.location.lat(),lng:e.location.lng()}),n.each(this.details,n.proxy(function(e,t){var i=a[e];this.setDetail(t,i)},this)),this.data=a},setDetail:function(e,t){void 0===t?t="":"function"==typeof t.toUrlValue&&(t=t.toUrlValue()),e.is(":input")?e.val(t):e.text(t)},markerDragged:function(e){this.trigger("geocode:dragged",e.latLng)},mapClicked:function(e){this.trigger("geocode:click",e.latLng)},mapDragged:function(e){this.trigger("geocode:mapdragged",this.map.getCenter())},mapIdle:function(e){this.trigger("geocode:idle",this.map.getCenter())},mapZoomed:function(e){this.trigger("geocode:zoom",this.map.getZoom())},resetMarker:function(){this.marker.setPosition(this.data.location),this.setDetail(this.details.lat,this.data.location.lat()),this.setDetail(this.details.lng,this.data.location.lng())},placeChanged:function(){var e=this.autocomplete.getPlace();if(this.selected=!0,e.geometry)this.update(e);else if(this.options.autoselect){var t=this.selectFirstResult();this.find(t)}}}),n.fn.geocomplete=function(t){var i="plugin_geocomplete";if("string"==typeof t){var e=n(this).data(i)||n(this).geocomplete().data(i),a=e[t];return"function"==typeof a?(a.apply(e,Array.prototype.slice.call(arguments,1)),n(this)):(2==arguments.length&&(a=arguments[1]),a)}return this.each(function(){var e=n.data(this,i);e||(e=new o(this,t),n.data(this,i,e))})}}(jQuery,window,document),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=e()}}(function(){return function n(r,s,l){function c(i,e){if(!s[i]){if(!r[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(d)return d(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var o=s[i]={exports:{}};r[i][0].call(o.exports,function(e){var t=r[i][1][e];return c(t||e)},o,o.exports,n,r,s,l)}return s[i].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,i){},{}],2:[function(e,t,i){var n=e(6);function a(e){if(e){var t=[0,0,0],i=1,a=e.match(/^#([a-fA-F0-9]{3})$/);if(a){a=a[1];for(var o=0;o<t.length;o++)t[o]=parseInt(a[o]+a[o],16)}else if(a=e.match(/^#([a-fA-F0-9]{6})$/)){a=a[1];for(o=0;o<t.length;o++)t[o]=parseInt(a.slice(2*o,2*o+2),16)}else if(a=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(o=0;o<t.length;o++)t[o]=parseInt(a[o+1]);i=parseFloat(a[4])}else if(a=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(o=0;o<t.length;o++)t[o]=Math.round(2.55*parseFloat(a[o+1]));i=parseFloat(a[4])}else if(a=e.match(/(\w+)/)){if("transparent"==a[1])return[0,0,0,0];if(!(t=n[a[1]]))return}for(o=0;o<t.length;o++)t[o]=d(t[o],0,255);return i=i||0==i?d(i,0,1):1,t[3]=i,t}}function o(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var i=parseFloat(t[4]);return[d(parseInt(t[1]),0,360),d(parseFloat(t[2]),0,100),d(parseFloat(t[3]),0,100),d(isNaN(i)?1:i,0,1)]}}}function r(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var i=parseFloat(t[4]);return[d(parseInt(t[1]),0,360),d(parseFloat(t[2]),0,100),d(parseFloat(t[3]),0,100),d(isNaN(i)?1:i,0,1)]}}}function s(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function l(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function c(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function d(e,t,i){return Math.min(Math.max(t,e),i)}function u(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}t.exports={getRgba:a,getHsla:o,getRgb:function(e){var t=a(e);return t&&t.slice(0,3)},getHsl:function(e){var t=o(e);return t&&t.slice(0,3)},getHwb:r,getAlpha:function(e){var t=a(e);{if(t)return t[3];if(t=o(e))return t[3];if(t=r(e))return t[3]}},hexString:function(e){return"#"+u(e[0])+u(e[1])+u(e[2])},rgbString:function(e,t){if(t<1||e[3]&&e[3]<1)return s(e,t);return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:s,percentString:function(e,t){if(t<1||e[3]&&e[3]<1)return l(e,t);var i=Math.round(e[0]/255*100),a=Math.round(e[1]/255*100),o=Math.round(e[2]/255*100);return"rgb("+i+"%, "+a+"%, "+o+"%)"},percentaString:l,hslString:function(e,t){if(t<1||e[3]&&e[3]<1)return c(e,t);return"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:c,hwbString:function(e,t){void 0===t&&(t=void 0!==e[3]?e[3]:1);return"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return h[e.slice(0,3)]}};var h={};for(var f in n)h[n[f]]=f},{6:6}],3:[function(e,t,i){var d=e(5),a=e(2),r=function(e){if(e instanceof r)return e;if(!(this instanceof r))return new r(e);var t;if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof e)if(t=a.getRgba(e))this.setValues("rgb",t);else if(t=a.getHsla(e))this.setValues("hsl",t);else{if(!(t=a.getHwb(e)))throw new Error('Unable to parse color from string "'+e+'"');this.setValues("hwb",t)}else if("object"==typeof e)if(void 0!==(t=e).r||void 0!==t.red)this.setValues("rgb",t);else if(void 0!==t.l||void 0!==t.lightness)this.setValues("hsl",t);else if(void 0!==t.v||void 0!==t.value)this.setValues("hsv",t);else if(void 0!==t.w||void 0!==t.whiteness)this.setValues("hwb",t);else{if(void 0===t.c&&void 0===t.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(e));this.setValues("cmyk",t)}};r.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return a.hexString(this.values.rgb)},rgbString:function(){return a.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return a.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return a.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return a.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return a.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return a.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return a.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],i=0;i<e.length;i++){var a=e[i]/255;t[i]=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),i=e.luminosity();return i<t?(t+.05)/(i+.05):(i+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return 7.1<=t?"AAA":4.5<=t?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,i=(t[0]+e)%360;return t[0]=i<0?360+i:i,this.setValues("hsl",t),this},mix:function(e,t){var i=e,a=void 0===t?.5:t,o=2*a-1,n=this.alpha()-i.alpha(),r=((o*n==-1?o:(o+n)/(1+o*n))+1)/2,s=1-r;return this.rgb(r*this.red()+s*i.red(),r*this.green()+s*i.green(),r*this.blue()+s*i.blue()).alpha(this.alpha()*a+i.alpha()*(1-a))},toJSON:function(){return this.rgb()},clone:function(){var e,t,i=new r,a=this.values,o=i.values;for(var n in a)a.hasOwnProperty(n)&&(e=a[n],"[object Array]"===(t={}.toString.call(e))?o[n]=e.slice(0):"[object Number]"===t?o[n]=e:console.error("unexpected color value:",e));return i}},r.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},r.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},r.prototype.getValues=function(e){for(var t=this.values,i={},a=0;a<e.length;a++)i[e.charAt(a)]=t[e][a];return 1!==t.alpha&&(i.a=t.alpha),i},r.prototype.setValues=function(e,t){var i,a,o=this.values,n=this.spaces,r=this.maxes,s=1;if("alpha"===e)s=t;else if(t.length)o[e]=t.slice(0,e.length),s=t[e.length];else if(void 0!==t[e.charAt(0)]){for(i=0;i<e.length;i++)o[e][i]=t[e.charAt(i)];s=t.a}else if(void 0!==t[n[e][0]]){var l=n[e];for(i=0;i<e.length;i++)o[e][i]=t[l[i]];s=t.alpha}if(o.alpha=Math.max(0,Math.min(1,void 0===s?o.alpha:s)),"alpha"===e)return!1;for(i=0;i<e.length;i++)a=Math.max(0,Math.min(r[e][i],o[e][i])),o[e][i]=Math.round(a);for(var c in n)c!==e&&(o[c]=d[e][c](o[e]));return!0},r.prototype.setSpace=function(e,t){var i=t[0];return void 0===i?this.getValues(e):("number"==typeof i&&(i=Array.prototype.slice.call(t)),this.setValues(e,i),this)},r.prototype.setChannel=function(e,t,i){var a=this.values[e];return void 0===i?a[t]:(i===a[t]||(a[t]=i,this.setValues(e,a)),this)},"undefined"!=typeof window&&(window.Color=r),t.exports=r},{2:2,5:5}],4:[function(e,t,i){function o(e){var t,i,a=e[0]/255,o=e[1]/255,n=e[2]/255,r=Math.min(a,o,n),s=Math.max(a,o,n),l=s-r;return s==r?t=0:a==s?t=(o-n)/l:o==s?t=2+(n-a)/l:n==s&&(t=4+(a-o)/l),(t=Math.min(60*t,360))<0&&(t+=360),i=(r+s)/2,[t,100*(s==r?0:i<=.5?l/(s+r):l/(2-s-r)),100*i]}function a(e){var t,i,a=e[0],o=e[1],n=e[2],r=Math.min(a,o,n),s=Math.max(a,o,n),l=s-r;return i=0==s?0:l/s*1e3/10,s==r?t=0:a==s?t=(o-n)/l:o==s?t=2+(n-a)/l:n==s&&(t=4+(a-o)/l),(t=Math.min(60*t,360))<0&&(t+=360),[t,i,s/255*1e3/10]}function n(e){var t=e[0],i=e[1],a=e[2];return[o(e)[0],100*(1/255*Math.min(t,Math.min(i,a))),100*(a=1-1/255*Math.max(t,Math.max(i,a)))]}function s(e){var t,i=e[0]/255,a=e[1]/255,o=e[2]/255;return[100*((1-i-(t=Math.min(1-i,1-a,1-o)))/(1-t)||0),100*((1-a-t)/(1-t)||0),100*((1-o-t)/(1-t)||0),100*t]}function l(e){return T[JSON.stringify(e)]}function c(e){var t=e[0]/255,i=e[1]/255,a=e[2]/255;return[100*(.4124*(t=.04045<t?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(a=.04045<a?Math.pow((a+.055)/1.055,2.4):a/12.92)),100*(.2126*t+.7152*i+.0722*a),100*(.0193*t+.1192*i+.9505*a)]}function d(e){var t=c(e),i=t[0],a=t[1],o=t[2];return a/=100,o/=108.883,i=.008856<(i/=95.047)?Math.pow(i,1/3):7.787*i+16/116,[116*(a=.008856<a?Math.pow(a,1/3):7.787*a+16/116)-16,500*(i-a),200*(a-(o=.008856<o?Math.pow(o,1/3):7.787*o+16/116))]}function u(e){var t,i,a,o,n,r=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return[n=255*l,n,n];t=2*l-(i=l<.5?l*(1+s):l+s-l*s),o=[0,0,0];for(var c=0;c<3;c++)(a=r+1/3*-(c-1))<0&&a++,1<a&&a--,n=6*a<1?t+6*(i-t)*a:2*a<1?i:3*a<2?t+(i-t)*(2/3-a)*6:t,o[c]=255*n;return o}function h(e){var t=e[0]/60,i=e[1]/100,a=e[2]/100,o=Math.floor(t)%6,n=t-Math.floor(t),r=255*a*(1-i),s=255*a*(1-i*n),l=255*a*(1-i*(1-n));a*=255;switch(o){case 0:return[a,l,r];case 1:return[s,a,r];case 2:return[r,a,l];case 3:return[r,s,a];case 4:return[l,r,a];case 5:return[a,r,s]}}function f(e){var t,i,a,o,n=e[0]/360,s=e[1]/100,l=e[2]/100,c=s+l;switch(1<c&&(s/=c,l/=c),a=6*n-(t=Math.floor(6*n)),0!=(1&t)&&(a=1-a),o=s+a*((i=1-l)-s),t){default:case 6:case 0:r=i,g=o,b=s;break;case 1:r=o,g=i,b=s;break;case 2:r=s,g=i,b=o;break;case 3:r=s,g=o,b=i;break;case 4:r=o,g=s,b=i;break;case 5:r=i,g=s,b=o}return[255*r,255*g,255*b]}function p(e){var t=e[0]/100,i=e[1]/100,a=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,i*(1-o)+o)),255*(1-Math.min(1,a*(1-o)+o))]}function m(e){var t,i,a,o=e[0]/100,n=e[1]/100,r=e[2]/100;return i=-.9689*o+1.8758*n+.0415*r,a=.0557*o+-.204*n+1.057*r,t=.0031308<(t=3.2406*o+-1.5372*n+-.4986*r)?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,a=.0031308<a?1.055*Math.pow(a,1/2.4)-.055:a*=12.92,[255*(t=Math.min(Math.max(0,t),1)),255*(i=Math.min(Math.max(0,i),1)),255*(a=Math.min(Math.max(0,a),1))]}function v(e){var t=e[0],i=e[1],a=e[2];return i/=100,a/=108.883,t=.008856<(t/=95.047)?Math.pow(t,1/3):7.787*t+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(t-i),200*(i-(a=.008856<a?Math.pow(a,1/3):7.787*a+16/116))]}function y(e){var t,i,a,o,n=e[0],r=e[1],s=e[2];return n<=8?o=(i=100*n/903.3)/100*7.787+16/116:(i=100*Math.pow((n+16)/116,3),o=Math.pow(i/100,1/3)),[t=t/95.047<=.008856?t=95.047*(r/500+o-16/116)/7.787:95.047*Math.pow(r/500+o,3),i,a=a/108.883<=.008859?a=108.883*(o-s/200-16/116)/7.787:108.883*Math.pow(o-s/200,3)]}function x(e){var t,i=e[0],a=e[1],o=e[2];return(t=360*Math.atan2(o,a)/2/Math.PI)<0&&(t+=360),[i,Math.sqrt(a*a+o*o),t]}function w(e){return m(y(e))}function k(e){var t,i=e[0],a=e[1];return t=e[2]/360*2*Math.PI,[i,a*Math.cos(t),a*Math.sin(t)]}function _(e){return C[e]}t.exports={rgb2hsl:o,rgb2hsv:a,rgb2hwb:n,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:c,rgb2lab:d,rgb2lch:function(e){return x(d(e))},hsl2rgb:u,hsl2hsv:function(e){var t=e[0],i=e[1]/100,a=e[2]/100;if(0===a)return[0,0,0];return[t,100*(2*(i*=(a*=2)<=1?a:2-a)/(a+i)),100*((a+i)/2)]},hsl2hwb:function(e){return n(u(e))},hsl2cmyk:function(e){return s(u(e))},hsl2keyword:function(e){return l(u(e))},hsv2rgb:h,hsv2hsl:function(e){var t,i,a=e[0],o=e[1]/100,n=e[2]/100;return t=o*n,[a,100*(t=(t/=(i=(2-o)*n)<=1?i:2-i)||0),100*(i/=2)]},hsv2hwb:function(e){return n(h(e))},hsv2cmyk:function(e){return s(h(e))},hsv2keyword:function(e){return l(h(e))},hwb2rgb:f,hwb2hsl:function(e){return o(f(e))},hwb2hsv:function(e){return a(f(e))},hwb2cmyk:function(e){return s(f(e))},hwb2keyword:function(e){return l(f(e))},cmyk2rgb:p,cmyk2hsl:function(e){return o(p(e))},cmyk2hsv:function(e){return a(p(e))},cmyk2hwb:function(e){return n(p(e))},cmyk2keyword:function(e){return l(p(e))},keyword2rgb:_,keyword2hsl:function(e){return o(_(e))},keyword2hsv:function(e){return a(_(e))},keyword2hwb:function(e){return n(_(e))},keyword2cmyk:function(e){return s(_(e))},keyword2lab:function(e){return d(_(e))},keyword2xyz:function(e){return c(_(e))},xyz2rgb:m,xyz2lab:v,xyz2lch:function(e){return x(v(e))},lab2xyz:y,lab2rgb:w,lab2lch:x,lch2lab:k,lch2xyz:function(e){return y(k(e))},lch2rgb:function(e){return w(k(e))}};var C={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},T={};for(var F in C)T[JSON.stringify(C[F])]=F},{}],5:[function(e,t,i){var o=e(4),n=function(){return new c};for(var a in o){n[a+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),o[t](e)}}(a);var r=/(\w+)2(\w+)/.exec(a),s=r[1],l=r[2];(n[s]=n[s]||{})[l]=n[a]=function(a){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var t=o[a](e);if("string"==typeof t||void 0===t)return t;for(var i=0;i<t.length;i++)t[i]=Math.round(t[i]);return t}}(a)}var c=function(){this.convs={}};c.prototype.routeSpace=function(e,t){var i=t[0];return void 0===i?this.getValues(e):("number"==typeof i&&(i=Array.prototype.slice.call(t)),this.setValues(e,i))},c.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},c.prototype.getValues=function(e){var t=this.convs[e];if(!t){var i=this.space,a=this.convs[i];t=n[i][e](a),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){c.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),t.exports=n},{4:4}],6:[function(e,t,i){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(e,t,i){var a=e(28)();e(26)(a),e(42)(a),e(22)(a),e(31)(a),e(25)(a),e(21)(a),e(23)(a),e(24)(a),e(29)(a),e(33)(a),e(34)(a),e(32)(a),e(35)(a),e(30)(a),e(27)(a),e(36)(a),e(37)(a),e(38)(a),e(39)(a),e(40)(a),e(45)(a),e(43)(a),e(44)(a),e(46)(a),e(47)(a),e(48)(a),e(15)(a),e(16)(a),e(17)(a),e(18)(a),e(19)(a),e(20)(a),e(8)(a),e(9)(a),e(10)(a),e(11)(a),e(12)(a),e(13)(a),e(14)(a),window.Chart=t.exports=a},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,42:42,43:43,44:44,45:45,46:46,47:47,48:48,8:8,9:9}],8:[function(e,t,i){"use strict";t.exports=function(i){i.Bar=function(e,t){return t.type="bar",new i(e,t)}}},{}],9:[function(e,t,i){"use strict";t.exports=function(i){i.Bubble=function(e,t){return t.type="bubble",new i(e,t)}}},{}],10:[function(e,t,i){"use strict";t.exports=function(i){i.Doughnut=function(e,t){return t.type="doughnut",new i(e,t)}}},{}],11:[function(e,t,i){"use strict";t.exports=function(i){i.Line=function(e,t){return t.type="line",new i(e,t)}}},{}],12:[function(e,t,i){"use strict";t.exports=function(i){i.PolarArea=function(e,t){return t.type="polarArea",new i(e,t)}}},{}],13:[function(e,t,i){"use strict";t.exports=function(i){i.Radar=function(e,t){return t.type="radar",new i(e,t)}}},{}],14:[function(e,t,i){"use strict";t.exports=function(i){i.defaults.scatter={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}},i.controllers.scatter=i.controllers.line,i.Scatter=function(e,t){return t.type="scatter",new i(e,t)}}},{}],15:[function(e,t,i){"use strict";t.exports=function(s){var h=s.helpers;s.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},s.controllers.bar=s.DatasetController.extend({dataElementType:s.elements.Rectangle,initialize:function(e,t){s.DatasetController.prototype.initialize.call(this,e,t);var i=this.getMeta(),a=this.getDataset();i.stack=a.stack,i.bar=!0},getStackCount:function(){var a=this,e=a.getMeta(),o=a.getScaleForId(e.yAxisID),n=[];return h.each(a.chart.data.datasets,function(e,t){var i=a.chart.getDatasetMeta(t);i.bar&&a.chart.isDatasetVisible(t)&&(!1===o.options.stacked||!0===o.options.stacked&&-1===n.indexOf(i.stack)||void 0===o.options.stacked&&(void 0===i.stack||-1===n.indexOf(i.stack)))&&n.push(i.stack)},a),n.length},update:function(i){var a=this;h.each(a.getMeta().data,function(e,t){a.updateElement(e,t,i)},a)},updateElement:function(e,t,i){var a=this,o=a.getMeta(),n=a.getScaleForId(o.xAxisID),r=a.getScaleForId(o.yAxisID),s=r.getBasePixel(),l=a.chart.options.elements.rectangle,c=e.custom||{},d=a.getDataset();e._xScale=n,e._yScale=r,e._datasetIndex=a.index,e._index=t;var u=a.getRuler(t);e._model={x:a.calculateBarX(t,a.index,u),y:i?s:a.calculateBarY(t,a.index),label:a.chart.data.labels[t],datasetLabel:d.label,horizontal:!1,base:i?s:a.calculateBarBase(a.index,t),width:a.calculateBarWidth(u),backgroundColor:c.backgroundColor?c.backgroundColor:h.getValueAtIndexOrDefault(d.backgroundColor,t,l.backgroundColor),borderSkipped:c.borderSkipped?c.borderSkipped:l.borderSkipped,borderColor:c.borderColor?c.borderColor:h.getValueAtIndexOrDefault(d.borderColor,t,l.borderColor),borderWidth:c.borderWidth?c.borderWidth:h.getValueAtIndexOrDefault(d.borderWidth,t,l.borderWidth)},e.pivot()},calculateBarBase:function(e,t){var i=this.getMeta(),a=this.getScaleForId(i.yAxisID),o=a.getBaseValue(),n=o;if(!0===a.options.stacked||void 0===a.options.stacked&&void 0!==i.stack){for(var r=this.chart,s=r.data.datasets,l=Number(s[e].data[t]),c=0;c<e;c++){var d=s[c],u=r.getDatasetMeta(c);if(u.bar&&u.yAxisID===a.id&&r.isDatasetVisible(c)&&i.stack===u.stack){var h=Number(d.data[t]);o+=l<0?Math.min(h,n):Math.max(h,n)}}return a.getPixelForValue(o)}return a.getBasePixel()},getRuler:function(){var e=this.getMeta(),t=this.getScaleForId(e.xAxisID),i=this.getStackCount(),a=t.width/t.ticks.length,o=a*t.options.categoryPercentage,n=o/i;return{stackCount:i,tickWidth:a,categoryWidth:o,categorySpacing:(a-a*t.options.categoryPercentage)/2,fullBarWidth:n,barWidth:n*t.options.barPercentage,barSpacing:n-n*t.options.barPercentage}},calculateBarWidth:function(e){var t=this.getMeta(),i=this.getScaleForId(t.xAxisID);return i.options.barThickness?i.options.barThickness:e.barWidth},getStackIndex:function(e){var t,i,a=this.chart.getDatasetMeta(e),o=this.getScaleForId(a.yAxisID),n=[a.stack];for(i=0;i<e;++i)(t=this.chart.getDatasetMeta(i)).bar&&this.chart.isDatasetVisible(i)&&(!1===o.options.stacked||!0===o.options.stacked&&-1===n.indexOf(t.stack)||void 0===o.options.stacked&&(void 0===t.stack||-1===n.indexOf(t.stack)))&&n.push(t.stack);return n.length-1},calculateBarX:function(e,t,i){var a=this.getMeta(),o=this.getScaleForId(a.xAxisID),n=this.getStackIndex(t),r=o.getPixelForValue(null,e,t,this.chart.isCombo);return(r-=this.chart.isCombo?i.tickWidth/2:0)+i.barWidth/2+i.categorySpacing+i.barWidth*n+i.barSpacing/2+i.barSpacing*n},calculateBarY:function(e,t){var i=this.getMeta(),a=this.getScaleForId(i.yAxisID),o=Number(this.getDataset().data[e]);if(a.options.stacked||void 0===a.options.stacked&&void 0!==i.stack){for(var n=a.getBaseValue(),r=n,s=n,l=0;l<t;l++){var c=this.chart.data.datasets[l],d=this.chart.getDatasetMeta(l);if(d.bar&&d.yAxisID===a.id&&this.chart.isDatasetVisible(l)&&i.stack===d.stack){var u=Number(c.data[e]);u<0?s+=u||0:r+=u||0}}return o<0?a.getPixelForValue(s+o):a.getPixelForValue(r+o)}return a.getPixelForValue(o)},draw:function(e){var t,i,a=e||1,o=this.getMeta().data,n=this.getDataset();for(s.canvasHelpers.clipArea(this.chart.chart.ctx,this.chart.chartArea),t=0,i=o.length;t<i;++t){var r=n.data[t];null==r||isNaN(r)||o[t].transition(a).draw()}s.canvasHelpers.unclipArea(this.chart.chart.ctx)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index,a=e.custom||{},o=e._model;o.backgroundColor=a.hoverBackgroundColor?a.hoverBackgroundColor:h.getValueAtIndexOrDefault(t.hoverBackgroundColor,i,h.getHoverColor(o.backgroundColor)),o.borderColor=a.hoverBorderColor?a.hoverBorderColor:h.getValueAtIndexOrDefault(t.hoverBorderColor,i,h.getHoverColor(o.borderColor)),o.borderWidth=a.hoverBorderWidth?a.hoverBorderWidth:h.getValueAtIndexOrDefault(t.hoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index,a=e.custom||{},o=e._model,n=this.chart.options.elements.rectangle;o.backgroundColor=a.backgroundColor?a.backgroundColor:h.getValueAtIndexOrDefault(t.backgroundColor,i,n.backgroundColor),o.borderColor=a.borderColor?a.borderColor:h.getValueAtIndexOrDefault(t.borderColor,i,n.borderColor),o.borderWidth=a.borderWidth?a.borderWidth:h.getValueAtIndexOrDefault(t.borderWidth,i,n.borderWidth)}}),s.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var i="";return 0<e.length&&(e[0].yLabel?i=e[0].yLabel:0<t.labels.length&&e[0].index<t.labels.length&&(i=t.labels[e[0].index])),i},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.xLabel}}}},s.controllers.horizontalBar=s.controllers.bar.extend({getStackCount:function(){var a=this,e=a.getMeta(),o=a.getScaleForId(e.xAxisID),n=[];return h.each(a.chart.data.datasets,function(e,t){var i=a.chart.getDatasetMeta(t);i.bar&&a.chart.isDatasetVisible(t)&&(!1===o.options.stacked||!0===o.options.stacked&&-1===n.indexOf(i.stack)||void 0===o.options.stacked&&(void 0===i.stack||-1===n.indexOf(i.stack)))&&n.push(i.stack)},a),n.length},updateElement:function(e,t,i){var a=this,o=a.getMeta(),n=a.getScaleForId(o.xAxisID),r=a.getScaleForId(o.yAxisID),s=n.getBasePixel(),l=e.custom||{},c=a.getDataset(),d=a.chart.options.elements.rectangle;e._xScale=n,e._yScale=r,e._datasetIndex=a.index,e._index=t;var u=a.getRuler(t);e._model={x:i?s:a.calculateBarX(t,a.index),y:a.calculateBarY(t,a.index,u),label:a.chart.data.labels[t],datasetLabel:c.label,horizontal:!0,base:i?s:a.calculateBarBase(a.index,t),height:a.calculateBarHeight(u),backgroundColor:l.backgroundColor?l.backgroundColor:h.getValueAtIndexOrDefault(c.backgroundColor,t,d.backgroundColor),borderSkipped:l.borderSkipped?l.borderSkipped:d.borderSkipped,borderColor:l.borderColor?l.borderColor:h.getValueAtIndexOrDefault(c.borderColor,t,d.borderColor),borderWidth:l.borderWidth?l.borderWidth:h.getValueAtIndexOrDefault(c.borderWidth,t,d.borderWidth)},e.pivot()},calculateBarBase:function(e,t){var i=this.getMeta(),a=this.getScaleForId(i.xAxisID),o=a.getBaseValue(),n=o;if(a.options.stacked||void 0===a.options.stacked&&void 0!==i.stack){for(var r=this.chart,s=r.data.datasets,l=Number(s[e].data[t]),c=0;c<e;c++){var d=s[c],u=r.getDatasetMeta(c);if(u.bar&&u.xAxisID===a.id&&r.isDatasetVisible(c)&&i.stack===u.stack){var h=Number(d.data[t]);o+=l<0?Math.min(h,n):Math.max(h,n)}}return a.getPixelForValue(o)}return a.getBasePixel()},getRuler:function(){var e=this.getMeta(),t=this.getScaleForId(e.yAxisID),i=this.getStackCount(),a=t.height/t.ticks.length,o=a*t.options.categoryPercentage,n=o/i;return{stackCount:i,tickHeight:a,categoryHeight:o,categorySpacing:(a-a*t.options.categoryPercentage)/2,fullBarHeight:n,barHeight:n*t.options.barPercentage,barSpacing:n-n*t.options.barPercentage}},calculateBarHeight:function(e){var t=this.getMeta(),i=this.getScaleForId(t.yAxisID);return i.options.barThickness?i.options.barThickness:e.barHeight},getStackIndex:function(e){var t,i,a=this.chart.getDatasetMeta(e),o=this.getScaleForId(a.xAxisID),n=[a.stack];for(i=0;i<e;++i)(t=this.chart.getDatasetMeta(i)).bar&&this.chart.isDatasetVisible(i)&&(!1===o.options.stacked||!0===o.options.stacked&&-1===n.indexOf(t.stack)||void 0===o.options.stacked&&(void 0===t.stack||-1===n.indexOf(t.stack)))&&n.push(t.stack);return n.length-1},calculateBarX:function(e,t){var i=this.getMeta(),a=this.getScaleForId(i.xAxisID),o=Number(this.getDataset().data[e]);if(a.options.stacked||void 0===a.options.stacked&&void 0!==i.stack){for(var n=a.getBaseValue(),r=n,s=n,l=0;l<t;l++){var c=this.chart.data.datasets[l],d=this.chart.getDatasetMeta(l);if(d.bar&&d.xAxisID===a.id&&this.chart.isDatasetVisible(l)&&i.stack===d.stack){var u=Number(c.data[e]);u<0?s+=u||0:r+=u||0}}return o<0?a.getPixelForValue(s+o):a.getPixelForValue(r+o)}return a.getPixelForValue(o)},calculateBarY:function(e,t,i){var a=this.getMeta(),o=this.getScaleForId(a.yAxisID),n=this.getStackIndex(t),r=o.getPixelForValue(null,e,t,this.chart.isCombo);return(r-=this.chart.isCombo?i.tickHeight/2:0)+i.barHeight/2+i.categorySpacing+i.barHeight*n+i.barSpacing/2+i.barSpacing*n}})}},{}],16:[function(e,t,i){"use strict";t.exports=function(h){var f=h.helpers;h.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var i=t.datasets[e.datasetIndex].label||"",a=t.datasets[e.datasetIndex].data[e.index];return i+": ("+e.xLabel+", "+e.yLabel+", "+a.r+")"}}}},h.controllers.bubble=h.DatasetController.extend({dataElementType:h.elements.Point,update:function(i){var a=this,e=a.getMeta().data;f.each(e,function(e,t){a.updateElement(e,t,i)})},updateElement:function(e,t,i){var a=this.getMeta(),o=this.getScaleForId(a.xAxisID),n=this.getScaleForId(a.yAxisID),r=e.custom||{},s=this.getDataset(),l=s.data[t],c=this.chart.options.elements.point,d=this.index;f.extend(e,{_xScale:o,_yScale:n,_datasetIndex:d,_index:t,_model:{x:i?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof l?l:NaN,t,d,this.chart.isCombo),y:i?n.getBasePixel():n.getPixelForValue(l,t,d),radius:i?0:r.radius?r.radius:this.getRadius(l),hitRadius:r.hitRadius?r.hitRadius:f.getValueAtIndexOrDefault(s.hitRadius,t,c.hitRadius)}}),h.DatasetController.prototype.removeHoverStyle.call(this,e,c);var u=e._model;u.skip=r.skip?r.skip:isNaN(u.x)||isNaN(u.y),e.pivot()},getRadius:function(e){return e.r||this.chart.options.elements.point.radius},setHoverStyle:function(e){h.DatasetController.prototype.setHoverStyle.call(this,e);var t=this.chart.data.datasets[e._datasetIndex],i=e._index,a=e.custom||{};e._model.radius=a.hoverRadius?a.hoverRadius:f.getValueAtIndexOrDefault(t.hoverRadius,i,this.chart.options.elements.point.hoverRadius)+this.getRadius(t.data[i])},removeHoverStyle:function(e){h.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.point);var t=this.chart.data.datasets[e._datasetIndex].data[e._index],i=e.custom||{};e._model.radius=i.radius?i.radius:this.getRadius(t)}})}},{}],17:[function(e,t,i){"use strict";t.exports=function(t){var I=t.helpers,e=t.defaults;e.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var i=e.data,a=i.datasets,o=i.labels;if(a.length)for(var n=0;n<a[0].data.length;++n)t.push('<li><span style="background-color:'+a[0].backgroundColor[n]+'"></span>'),o[n]&&t.push(o[n]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(l){var c=l.data;return c.labels.length&&c.datasets.length?c.labels.map(function(e,t){var i=l.getDatasetMeta(0),a=c.datasets[0],o=i.data[t],n=o&&o.custom||{},r=I.getValueAtIndexOrDefault,s=l.options.elements.arc;return{text:e,fillStyle:n.backgroundColor?n.backgroundColor:r(a.backgroundColor,t,s.backgroundColor),strokeStyle:n.borderColor?n.borderColor:r(a.borderColor,t,s.borderColor),lineWidth:n.borderWidth?n.borderWidth:r(a.borderWidth,t,s.borderWidth),hidden:isNaN(a.data[t])||i.data[t].hidden,index:t}}):[]}},onClick:function(e,t){var i,a,o,n=t.index,r=this.chart;for(i=0,a=(r.data.datasets||[]).length;i<a;++i)(o=r.getDatasetMeta(i)).data[n]&&(o.data[n].hidden=!o.data[n].hidden);r.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var i=t.labels[e.index],a=": "+t.datasets[e.datasetIndex].data[e.index];return I.isArray(i)?(i=i.slice())[0]+=a:i+=a,i}}}},e.pie=I.clone(e.doughnut),I.extend(e.pie,{cutoutPercentage:0}),t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:I.noop,getRingIndex:function(e){for(var t=0,i=0;i<e;++i)this.chart.isDatasetVisible(i)&&++t;return t},update:function(i){var a=this,e=a.chart,t=e.chartArea,o=e.options,n=o.elements.arc,r=t.right-t.left-n.borderWidth,s=t.bottom-t.top-n.borderWidth,l=Math.min(r,s),c={x:0,y:0},d=a.getMeta(),u=o.cutoutPercentage,h=o.circumference;if(h<2*Math.PI){var f=o.rotation%(2*Math.PI),p=(f+=2*Math.PI*(f>=Math.PI?-1:f<-Math.PI?1:0))+h,m=Math.cos(f),g=Math.sin(f),v=Math.cos(p),b=Math.sin(p),y=f<=0&&0<=p||f<=2*Math.PI&&2*Math.PI<=p,x=f<=.5*Math.PI&&.5*Math.PI<=p||f<=2.5*Math.PI&&2.5*Math.PI<=p,w=f<=-Math.PI&&-Math.PI<=p||f<=Math.PI&&Math.PI<=p,k=f<=.5*-Math.PI&&.5*-Math.PI<=p||f<=1.5*Math.PI&&1.5*Math.PI<=p,_=u/100,C=w?-1:Math.min(m*(m<0?1:_),v*(v<0?1:_)),T=k?-1:Math.min(g*(g<0?1:_),b*(b<0?1:_)),F=y?1:Math.max(m*(0<m?1:_),v*(0<v?1:_)),S=x?1:Math.max(g*(0<g?1:_),b*(0<b?1:_)),E=.5*(F-C),D=.5*(S-T);l=Math.min(r/E,s/D),c={x:-.5*(F+C),y:-.5*(S+T)}}e.borderWidth=a.getMaxBorderWidth(d.data),e.outerRadius=Math.max((l-e.borderWidth)/2,0),e.innerRadius=Math.max(u?e.outerRadius/100*u:0,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),e.offsetX=c.x*e.outerRadius,e.offsetY=c.y*e.outerRadius,d.total=a.calculateTotal(),a.outerRadius=e.outerRadius-e.radiusLength*a.getRingIndex(a.index),a.innerRadius=Math.max(a.outerRadius-e.radiusLength,0),I.each(d.data,function(e,t){a.updateElement(e,t,i)})},updateElement:function(e,t,i){var a=this.chart,o=a.chartArea,n=a.options,r=n.animation,s=(o.left+o.right)/2,l=(o.top+o.bottom)/2,c=n.rotation,d=n.rotation,u=this.getDataset(),h=i&&r.animateRotate?0:e.hidden?0:this.calculateCircumference(u.data[t])*(n.circumference/(2*Math.PI)),f=i&&r.animateScale?0:this.innerRadius,p=i&&r.animateScale?0:this.outerRadius,m=I.getValueAtIndexOrDefault;I.extend(e,{_datasetIndex:this.index,_index:t,_model:{x:s+a.offsetX,y:l+a.offsetY,startAngle:c,endAngle:d,circumference:h,outerRadius:p,innerRadius:f,label:m(u.label,t,a.data.labels[t])}});var g=e._model;this.removeHoverStyle(e),i&&r.animateRotate||(g.startAngle=0===t?n.rotation:this.getMeta().data[t-1]._model.endAngle,g.endAngle=g.startAngle+g.circumference),e.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var i,a=this.getDataset(),e=this.getMeta(),o=0;return I.each(e.data,function(e,t){i=a.data[t],isNaN(i)||e.hidden||(o+=Math.abs(i))}),o},calculateCircumference:function(e){var t=this.getMeta().total;return 0<t&&!isNaN(e)?2*Math.PI*(e/t):0},getMaxBorderWidth:function(e){for(var t,i,a=0,o=this.index,n=e.length,r=0;r<n;r++)a=(a=a<(t=e[r]._model?e[r]._model.borderWidth:0)?t:a)<(i=e[r]._chart?e[r]._chart.config.data.datasets[o].hoverBorderWidth:0)?i:a;return a}})}},{}],18:[function(e,t,i){"use strict";t.exports=function(r){var m=r.helpers;function h(e,t){return m.getValueOrDefault(e.showLine,t.showLines)}r.defaults.line={showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},r.controllers.line=r.DatasetController.extend({datasetElementType:r.elements.Line,dataElementType:r.elements.Point,update:function(e){var t,i,a,o=this.getMeta(),n=o.dataset,r=o.data||[],s=this.chart.options,l=s.elements.line,c=this.getScaleForId(o.yAxisID),d=this.getDataset(),u=h(d,s);for(u&&(a=n.custom||{},void 0!==d.tension&&void 0===d.lineTension&&(d.lineTension=d.tension),n._scale=c,n._datasetIndex=this.index,n._children=r,n._model={spanGaps:d.spanGaps?d.spanGaps:s.spanGaps,tension:a.tension?a.tension:m.getValueOrDefault(d.lineTension,l.tension),backgroundColor:a.backgroundColor?a.backgroundColor:d.backgroundColor||l.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:d.borderWidth||l.borderWidth,borderColor:a.borderColor?a.borderColor:d.borderColor||l.borderColor,borderCapStyle:a.borderCapStyle?a.borderCapStyle:d.borderCapStyle||l.borderCapStyle,borderDash:a.borderDash?a.borderDash:d.borderDash||l.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:d.borderDashOffset||l.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:d.borderJoinStyle||l.borderJoinStyle,fill:a.fill?a.fill:void 0!==d.fill?d.fill:l.fill,steppedLine:a.steppedLine?a.steppedLine:m.getValueOrDefault(d.steppedLine,l.stepped),cubicInterpolationMode:a.cubicInterpolationMode?a.cubicInterpolationMode:m.getValueOrDefault(d.cubicInterpolationMode,l.cubicInterpolationMode),scaleTop:c.top,scaleBottom:c.bottom,scaleZero:c.getBasePixel()},n.pivot()),t=0,i=r.length;t<i;++t)this.updateElement(r[t],t,e);for(u&&0!==n._model.tension&&this.updateBezierControlPoints(),t=0,i=r.length;t<i;++t)r[t].pivot()},getPointBackgroundColor:function(e,t){var i=this.chart.options.elements.point.backgroundColor,a=this.getDataset(),o=e.custom||{};return o.backgroundColor?i=o.backgroundColor:a.pointBackgroundColor?i=m.getValueAtIndexOrDefault(a.pointBackgroundColor,t,i):a.backgroundColor&&(i=a.backgroundColor),i},getPointBorderColor:function(e,t){var i=this.chart.options.elements.point.borderColor,a=this.getDataset(),o=e.custom||{};return o.borderColor?i=o.borderColor:a.pointBorderColor?i=m.getValueAtIndexOrDefault(a.pointBorderColor,t,i):a.borderColor&&(i=a.borderColor),i},getPointBorderWidth:function(e,t){var i=this.chart.options.elements.point.borderWidth,a=this.getDataset(),o=e.custom||{};return isNaN(o.borderWidth)?isNaN(a.pointBorderWidth)?isNaN(a.borderWidth)||(i=a.borderWidth):i=m.getValueAtIndexOrDefault(a.pointBorderWidth,t,i):i=o.borderWidth,i},updateElement:function(e,t,i){var a,o,n=this,r=n.getMeta(),s=e.custom||{},l=n.getDataset(),c=n.index,d=l.data[t],u=n.getScaleForId(r.yAxisID),h=n.getScaleForId(r.xAxisID),f=n.chart.options.elements.point,p=1===(n.chart.data.labels||[]).length||1===l.data.length||n.chart.isCombo;void 0!==l.radius&&void 0===l.pointRadius&&(l.pointRadius=l.radius),void 0!==l.hitRadius&&void 0===l.pointHitRadius&&(l.pointHitRadius=l.hitRadius),a=h.getPixelForValue("object"==typeof d?d:NaN,t,c,p),o=i?u.getBasePixel():n.calculatePointY(d,t,c),e._xScale=h,e._yScale=u,e._datasetIndex=c,e._index=t,e._model={x:a,y:o,skip:s.skip||isNaN(a)||isNaN(o),radius:s.radius||m.getValueAtIndexOrDefault(l.pointRadius,t,f.radius),pointStyle:s.pointStyle||m.getValueAtIndexOrDefault(l.pointStyle,t,f.pointStyle),backgroundColor:n.getPointBackgroundColor(e,t),borderColor:n.getPointBorderColor(e,t),borderWidth:n.getPointBorderWidth(e,t),tension:r.dataset._model?r.dataset._model.tension:0,steppedLine:!!r.dataset._model&&r.dataset._model.steppedLine,hitRadius:s.hitRadius||m.getValueAtIndexOrDefault(l.pointHitRadius,t,f.hitRadius)}},calculatePointY:function(e,t,i){var a,o,n,r=this.chart,s=this.getMeta(),l=this.getScaleForId(s.yAxisID),c=0,d=0;if(l.options.stacked){for(a=0;a<i;a++)if(o=r.data.datasets[a],"line"===(n=r.getDatasetMeta(a)).type&&n.yAxisID===l.id&&r.isDatasetVisible(a)){var u=Number(l.getRightValue(o.data[t]));u<0?d+=u||0:c+=u||0}var h=Number(l.getRightValue(e));return h<0?l.getPixelForValue(d+h):l.getPixelForValue(c+h)}return l.getPixelForValue(e)},updateBezierControlPoints:function(){var e,t,i,a,o=this.getMeta(),n=this.chart.chartArea,r=o.data||[];function s(e,t,i){return Math.max(Math.min(e,i),t)}if(o.dataset._model.spanGaps&&(r=r.filter(function(e){return!e._model.skip})),"monotone"===o.dataset._model.cubicInterpolationMode)m.splineCurveMonotone(r);else for(e=0,t=r.length;e<t;++e)i=r[e]._model,a=m.splineCurve(m.previousItem(r,e)._model,i,m.nextItem(r,e)._model,o.dataset._model.tension),i.controlPointPreviousX=a.previous.x,i.controlPointPreviousY=a.previous.y,i.controlPointNextX=a.next.x,i.controlPointNextY=a.next.y;if(this.chart.options.elements.line.capBezierPoints)for(e=0,t=r.length;e<t;++e)(i=r[e]._model).controlPointPreviousX=s(i.controlPointPreviousX,n.left,n.right),i.controlPointPreviousY=s(i.controlPointPreviousY,n.top,n.bottom),i.controlPointNextX=s(i.controlPointNextX,n.left,n.right),i.controlPointNextY=s(i.controlPointNextY,n.top,n.bottom)},draw:function(e){var t,i,a=this.getMeta(),o=a.data||[],n=e||1;for(t=0,i=o.length;t<i;++t)o[t].transition(n);for(r.canvasHelpers.clipArea(this.chart.chart.ctx,this.chart.chartArea),h(this.getDataset(),this.chart.options)&&a.dataset.transition(n).draw(),r.canvasHelpers.unclipArea(this.chart.chart.ctx),t=0,i=o.length;t<i;++t)o[t].draw(this.chart.chartArea)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index,a=e.custom||{},o=e._model;o.radius=a.hoverRadius||m.getValueAtIndexOrDefault(t.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),o.backgroundColor=a.hoverBackgroundColor||m.getValueAtIndexOrDefault(t.pointHoverBackgroundColor,i,m.getHoverColor(o.backgroundColor)),o.borderColor=a.hoverBorderColor||m.getValueAtIndexOrDefault(t.pointHoverBorderColor,i,m.getHoverColor(o.borderColor)),o.borderWidth=a.hoverBorderWidth||m.getValueAtIndexOrDefault(t.pointHoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index,a=e.custom||{},o=e._model;void 0!==t.radius&&void 0===t.pointRadius&&(t.pointRadius=t.radius),o.radius=a.radius||m.getValueAtIndexOrDefault(t.pointRadius,i,this.chart.options.elements.point.radius),o.backgroundColor=this.getPointBackgroundColor(e,i),o.borderColor=this.getPointBorderColor(e,i),o.borderWidth=this.getPointBorderWidth(e,i)}})}},{}],19:[function(e,t,i){"use strict";t.exports=function(t){var w=t.helpers;t.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0,ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var i=e.data,a=i.datasets,o=i.labels;if(a.length)for(var n=0;n<a[0].data.length;++n)t.push('<li><span style="background-color:'+a[0].backgroundColor[n]+'"></span>'),o[n]&&t.push(o[n]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(s){var l=s.data;return l.labels.length&&l.datasets.length?l.labels.map(function(e,t){var i=s.getDatasetMeta(0),a=l.datasets[0],o=i.data[t].custom||{},n=w.getValueAtIndexOrDefault,r=s.options.elements.arc;return{text:e,fillStyle:o.backgroundColor?o.backgroundColor:n(a.backgroundColor,t,r.backgroundColor),strokeStyle:o.borderColor?o.borderColor:n(a.borderColor,t,r.borderColor),lineWidth:o.borderWidth?o.borderWidth:n(a.borderWidth,t,r.borderWidth),hidden:isNaN(a.data[t])||i.data[t].hidden,index:t}}):[]}},onClick:function(e,t){var i,a,o,n=t.index,r=this.chart;for(i=0,a=(r.data.datasets||[]).length;i<a;++i)(o=r.getDatasetMeta(i)).data[n].hidden=!o.data[n].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}},t.controllers.polarArea=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:w.noop,update:function(i){var a=this,e=a.chart,t=e.chartArea,o=a.getMeta(),n=e.options,r=n.elements.arc,s=Math.min(t.right-t.left,t.bottom-t.top);e.outerRadius=Math.max((s-r.borderWidth/2)/2,0),e.innerRadius=Math.max(n.cutoutPercentage?e.outerRadius/100*n.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),a.outerRadius=e.outerRadius-e.radiusLength*a.index,a.innerRadius=a.outerRadius-e.radiusLength,o.count=a.countVisibleElements(),w.each(o.data,function(e,t){a.updateElement(e,t,i)})},updateElement:function(e,t,i){for(var a=this.chart,o=this.getDataset(),n=a.options,r=n.animation,s=a.scale,l=w.getValueAtIndexOrDefault,c=a.data.labels,d=this.calculateCircumference(o.data[t]),u=s.xCenter,h=s.yCenter,f=0,p=this.getMeta(),m=0;m<t;++m)isNaN(o.data[m])||p.data[m].hidden||++f;var g=n.startAngle,v=e.hidden?0:s.getDistanceFromCenterForValue(o.data[t]),b=g+d*f,y=b+(e.hidden?0:d),x=r.animateScale?0:s.getDistanceFromCenterForValue(o.data[t]);w.extend(e,{_datasetIndex:this.index,_index:t,_scale:s,_model:{x:u,y:h,innerRadius:0,outerRadius:i?x:v,startAngle:i&&r.animateRotate?g:b,endAngle:i&&r.animateRotate?g:y,label:l(c,t,c[t])}}),this.removeHoverStyle(e),e.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},countVisibleElements:function(){var i=this.getDataset(),e=this.getMeta(),a=0;return w.each(e.data,function(e,t){isNaN(i.data[t])||e.hidden||a++}),a},calculateCircumference:function(e){var t=this.getMeta().count;return 0<t&&!isNaN(e)?2*Math.PI/t:0}})}},{}],20:[function(e,t,i){"use strict";t.exports=function(e){var c=e.helpers;e.defaults.radar={aspectRatio:1,scale:{type:"radialLinear"},elements:{line:{tension:0}}},e.controllers.radar=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,linkScales:c.noop,update:function(i){var a=this,e=a.getMeta(),t=e.dataset,o=e.data,n=t.custom||{},r=a.getDataset(),s=a.chart.options.elements.line,l=a.chart.scale;void 0!==r.tension&&void 0===r.lineTension&&(r.lineTension=r.tension),c.extend(e.dataset,{_datasetIndex:a.index,_children:o,_loop:!0,_model:{tension:n.tension?n.tension:c.getValueOrDefault(r.lineTension,s.tension),backgroundColor:n.backgroundColor?n.backgroundColor:r.backgroundColor||s.backgroundColor,borderWidth:n.borderWidth?n.borderWidth:r.borderWidth||s.borderWidth,borderColor:n.borderColor?n.borderColor:r.borderColor||s.borderColor,fill:n.fill?n.fill:void 0!==r.fill?r.fill:s.fill,borderCapStyle:n.borderCapStyle?n.borderCapStyle:r.borderCapStyle||s.borderCapStyle,borderDash:n.borderDash?n.borderDash:r.borderDash||s.borderDash,borderDashOffset:n.borderDashOffset?n.borderDashOffset:r.borderDashOffset||s.borderDashOffset,borderJoinStyle:n.borderJoinStyle?n.borderJoinStyle:r.borderJoinStyle||s.borderJoinStyle,scaleTop:l.top,scaleBottom:l.bottom,scaleZero:l.getBasePosition()}}),e.dataset.pivot(),c.each(o,function(e,t){a.updateElement(e,t,i)},a),a.updateBezierControlPoints()},updateElement:function(e,t,i){var a=e.custom||{},o=this.getDataset(),n=this.chart.scale,r=this.chart.options.elements.point,s=n.getPointPositionForValue(t,o.data[t]);c.extend(e,{_datasetIndex:this.index,_index:t,_scale:n,_model:{x:i?n.xCenter:s.x,y:i?n.yCenter:s.y,tension:a.tension?a.tension:c.getValueOrDefault(o.lineTension,this.chart.options.elements.line.tension),radius:a.radius?a.radius:c.getValueAtIndexOrDefault(o.pointRadius,t,r.radius),backgroundColor:a.backgroundColor?a.backgroundColor:c.getValueAtIndexOrDefault(o.pointBackgroundColor,t,r.backgroundColor),borderColor:a.borderColor?a.borderColor:c.getValueAtIndexOrDefault(o.pointBorderColor,t,r.borderColor),borderWidth:a.borderWidth?a.borderWidth:c.getValueAtIndexOrDefault(o.pointBorderWidth,t,r.borderWidth),pointStyle:a.pointStyle?a.pointStyle:c.getValueAtIndexOrDefault(o.pointStyle,t,r.pointStyle),hitRadius:a.hitRadius?a.hitRadius:c.getValueAtIndexOrDefault(o.hitRadius,t,r.hitRadius)}}),e._model.skip=a.skip?a.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var o=this.chart.chartArea,n=this.getMeta();c.each(n.data,function(e,t){var i=e._model,a=c.splineCurve(c.previousItem(n.data,t,!0)._model,i,c.nextItem(n.data,t,!0)._model,i.tension);i.controlPointPreviousX=Math.max(Math.min(a.previous.x,o.right),o.left),i.controlPointPreviousY=Math.max(Math.min(a.previous.y,o.bottom),o.top),i.controlPointNextX=Math.max(Math.min(a.next.x,o.right),o.left),i.controlPointNextY=Math.max(Math.min(a.next.y,o.bottom),o.top),e.pivot()})},draw:function(e){var t=this.getMeta(),i=e||1;c.each(t.data,function(e){e.transition(i)}),t.dataset.transition(i).draw(),c.each(t.data,function(e){e.draw()})},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e.custom||{},a=e._index,o=e._model;o.radius=i.hoverRadius?i.hoverRadius:c.getValueAtIndexOrDefault(t.pointHoverRadius,a,this.chart.options.elements.point.hoverRadius),o.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:c.getValueAtIndexOrDefault(t.pointHoverBackgroundColor,a,c.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor?i.hoverBorderColor:c.getValueAtIndexOrDefault(t.pointHoverBorderColor,a,c.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:c.getValueAtIndexOrDefault(t.pointHoverBorderWidth,a,o.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e.custom||{},a=e._index,o=e._model,n=this.chart.options.elements.point;o.radius=i.radius?i.radius:c.getValueAtIndexOrDefault(t.radius,a,n.radius),o.backgroundColor=i.backgroundColor?i.backgroundColor:c.getValueAtIndexOrDefault(t.pointBackgroundColor,a,n.backgroundColor),o.borderColor=i.borderColor?i.borderColor:c.getValueAtIndexOrDefault(t.pointBorderColor,a,n.borderColor),o.borderWidth=i.borderWidth?i.borderWidth:c.getValueAtIndexOrDefault(t.pointBorderWidth,a,n.borderWidth)}})}},{}],21:[function(e,t,i){"use strict";t.exports=function(e){var i=e.helpers;e.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:i.noop,onComplete:i.noop},e.Animation=e.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,i,a){a||(e.animating=!0);for(var o=0;o<this.animations.length;++o)if(this.animations[o].chartInstance===e)return void(this.animations[o].animationObject=t);this.animations.push({chartInstance:e,animationObject:t}),1===this.animations.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=i.findIndex(this.animations,function(e){return e.chartInstance===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=i.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this,t=Date.now(),i=0;1<e.dropFrames&&(i=Math.floor(e.dropFrames),e.dropFrames=e.dropFrames%1);for(var a=0;a<e.animations.length;)null===e.animations[a].animationObject.currentStep&&(e.animations[a].animationObject.currentStep=0),e.animations[a].animationObject.currentStep+=1+i,e.animations[a].animationObject.currentStep>e.animations[a].animationObject.numSteps&&(e.animations[a].animationObject.currentStep=e.animations[a].animationObject.numSteps),e.animations[a].animationObject.render(e.animations[a].chartInstance,e.animations[a].animationObject),e.animations[a].animationObject.onAnimationProgress&&e.animations[a].animationObject.onAnimationProgress.call&&e.animations[a].animationObject.onAnimationProgress.call(e.animations[a].chartInstance,e.animations[a]),e.animations[a].animationObject.currentStep===e.animations[a].animationObject.numSteps?(e.animations[a].animationObject.onAnimationComplete&&e.animations[a].animationObject.onAnimationComplete.call&&e.animations[a].animationObject.onAnimationComplete.call(e.animations[a].chartInstance,e.animations[a]),e.animations[a].chartInstance.animating=!1,e.animations.splice(a,1)):++a;var o=(Date.now()-t)/e.frameDuration;e.dropFrames+=o,0<e.animations.length&&e.requestAnimationFrame()}}}},{}],22:[function(e,t,i){"use strict";t.exports=function(m){var e=m.canvasHelpers={};e.drawPoint=function(e,t,i,a,o){var n,r,s,l,c,d;if("object"!=typeof t||"[object HTMLImageElement]"!==(n=t.toString())&&"[object HTMLCanvasElement]"!==n){if(!(isNaN(i)||i<=0)){switch(t){default:e.beginPath(),e.arc(a,o,i,0,2*Math.PI),e.closePath(),e.fill();break;case"triangle":e.beginPath(),c=(r=3*i/Math.sqrt(3))*Math.sqrt(3)/2,e.moveTo(a-r/2,o+c/3),e.lineTo(a+r/2,o+c/3),e.lineTo(a,o-2*c/3),e.closePath(),e.fill();break;case"rect":d=1/Math.SQRT2*i,e.beginPath(),e.fillRect(a-d,o-d,2*d,2*d),e.strokeRect(a-d,o-d,2*d,2*d);break;case"rectRounded":var u=i/Math.SQRT2,h=a-u,f=o-u,p=Math.SQRT2*i;m.helpers.drawRoundedRectangle(e,h,f,p,p,i/2),e.fill();break;case"rectRot":d=1/Math.SQRT2*i,e.beginPath(),e.moveTo(a-d,o),e.lineTo(a,o+d),e.lineTo(a+d,o),e.lineTo(a,o-d),e.closePath(),e.fill();break;case"cross":e.beginPath(),e.moveTo(a,o+i),e.lineTo(a,o-i),e.moveTo(a-i,o),e.lineTo(a+i,o),e.closePath();break;case"crossRot":e.beginPath(),s=Math.cos(Math.PI/4)*i,l=Math.sin(Math.PI/4)*i,e.moveTo(a-s,o-l),e.lineTo(a+s,o+l),e.moveTo(a-s,o+l),e.lineTo(a+s,o-l),e.closePath();break;case"star":e.beginPath(),e.moveTo(a,o+i),e.lineTo(a,o-i),e.moveTo(a-i,o),e.lineTo(a+i,o),s=Math.cos(Math.PI/4)*i,l=Math.sin(Math.PI/4)*i,e.moveTo(a-s,o-l),e.lineTo(a+s,o+l),e.moveTo(a-s,o+l),e.lineTo(a+s,o-l),e.closePath();break;case"line":e.beginPath(),e.moveTo(a-i,o),e.lineTo(a+i,o),e.closePath();break;case"dash":e.beginPath(),e.moveTo(a,o),e.lineTo(a+i,o),e.closePath()}e.stroke()}}else e.drawImage(t,a-t.width/2,o-t.height/2)},e.clipArea=function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},e.unclipArea=function(e){e.restore()}}},{}],23:[function(e,t,i){"use strict";t.exports=function(d){var u=d.helpers,l=d.plugins,h=d.platform;d.types={},d.instances={},d.controllers={},d.Controller=function(e,t,i){var a,o,n=this;(o=(a=(a=t)||{}).data=a.data||{}).datasets=o.datasets||[],o.labels=o.labels||[],a.options=u.configMerge(d.defaults.global,d.defaults[a.type],a.options||{}),t=a;var r=h.acquireContext(e,t),s=r&&r.canvas,l=s&&s.height,c=s&&s.width;return i.ctx=r,i.canvas=s,i.config=t,i.width=c,i.height=l,i.aspectRatio=l?c/l:null,n.id=u.uid(),n.chart=i,n.config=t,n.options=t.options,n._bufferedRender=!1,d.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data}}),r&&s?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item"),n},u.extend(d.Controller.prototype,{initialize:function(){var e=this;return l.notify(e,"beforeInit"),u.retinaScale(e.chart),e.bindEvents(),e.options.responsive&&e.resize(!0),e.ensureScalesHaveIDs(),e.buildScales(),e.initToolTip(),l.notify(e,"afterInit"),e},clear:function(){return u.clear(this.chart),this},stop:function(){return d.animationService.cancelAnimation(this),this},resize:function(e){var t=this.chart,i=this.options,a=t.canvas,o=i.maintainAspectRatio&&t.aspectRatio||null,n=Math.floor(u.getMaximumWidth(a)),r=Math.floor(o?n/o:u.getMaximumHeight(a));if((t.width!==n||t.height!==r)&&(a.width=t.width=n,a.height=t.height=r,a.style.width=n+"px",a.style.height=r+"px",u.retinaScale(t),!e)){var s={width:n,height:r};l.notify(this,"resize",[s]),this.options.onResize&&this.options.onResize(this,s),this.stop(),this.update(this.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},i=e.scale;u.each(t.xAxes,function(e,t){e.id=e.id||"x-axis-"+t}),u.each(t.yAxes,function(e,t){e.id=e.id||"y-axis-"+t}),i&&(i.id=i.id||"scale")},buildScales:function(){var n=this,e=n.options,r=n.scales={},t=[];e.scales&&(t=t.concat((e.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category"}}),(e.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear"}}))),e.scale&&t.push({options:e.scale,dtype:"radialLinear",isDefault:!0}),u.each(t,function(e){var t=e.options,i=u.getValueOrDefault(t.type,e.dtype),a=d.scaleService.getScaleConstructor(i);if(a){var o=new a({id:t.id,options:t,ctx:n.chart.ctx,chart:n});r[o.id]=o,e.isDefault&&(n.scale=o)}}),d.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var a=this,o=[],n=[];if(u.each(a.data.datasets,function(e,t){var i=a.getDatasetMeta(t);i.type||(i.type=e.type||a.config.type),o.push(i.type),i.controller?i.controller.updateIndex(t):(i.controller=new d.controllers[i.type](a,t),n.push(i.controller))},a),1<o.length)for(var e=1;e<o.length;e++)if(o[e]!==o[e-1]){a.isCombo=!0;break}return n},resetElements:function(){var i=this;u.each(i.data.datasets,function(e,t){i.getDatasetMeta(t).controller.reset()},i)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e,t){var i,a,o=this;if((a=(i=o).options).scale?i.scale.options=a.scale:a.scales&&a.scales.xAxes.concat(a.scales.yAxes).forEach(function(e){i.scales[e.id].options=e}),i.tooltip._options=a.tooltips,!1!==l.notify(o,"beforeUpdate")){o.tooltip._data=o.data;var n=o.buildOrUpdateControllers();u.each(o.data.datasets,function(e,t){o.getDatasetMeta(t).controller.buildOrUpdateElements()},o),o.updateLayout(),u.each(n,function(e){e.reset()}),o.updateDatasets(),l.notify(o,"afterUpdate"),o._bufferedRender?o._bufferedRequest={lazy:t,duration:e}:o.render(e,t)}},updateLayout:function(){!1!==l.notify(this,"beforeLayout")&&(d.layoutService.update(this,this.chart.width,this.chart.height),l.notify(this,"afterScaleUpdate"),l.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==l.notify(this,"beforeDatasetsUpdate")){for(var e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.update();l.notify(this,"afterDatasetsUpdate")}},render:function(e,t){var i=this;if(!1!==l.notify(i,"beforeRender")){var a=i.options.animation,o=function(){l.notify(i,"afterRender");var e=a&&a.onComplete;e&&e.call&&e.call(i)};if(a&&(void 0!==e&&0!==e||void 0===e&&0!==a.duration)){var n=new d.Animation;n.numSteps=(e||a.duration)/16.66,n.easing=a.easing,n.render=function(e,t){var i=u.easingEffects[t.easing],a=t.currentStep/t.numSteps,o=i(a);e.draw(o,a,t.currentStep)},n.onAnimationProgress=a.onProgress,n.onAnimationComplete=o,d.animationService.addAnimation(i,n,e,t)}else i.draw(),o();return i}},draw:function(e){var t=this;t.clear(),null==e&&(e=1),!1!==l.notify(t,"beforeDraw",[e])&&(u.each(t.boxes,function(e){e.draw(t.chartArea)},t),t.scale&&t.scale.draw(),t.drawDatasets(e),t.tooltip.transition(e).draw(),l.notify(t,"afterDraw",[e]))},drawDatasets:function(i){var a=this;!1!==l.notify(a,"beforeDatasetsDraw",[i])&&(u.each(a.data.datasets,function(e,t){a.isDatasetVisible(t)&&a.getDatasetMeta(t).controller.draw(i)},a,!0),l.notify(a,"afterDatasetsDraw",[i]))},getElementAtEvent:function(e){return d.Interaction.modes.single(this,e)},getElementsAtEvent:function(e){return d.Interaction.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return d.Interaction.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,i){var a=d.Interaction.modes[t];return"function"==typeof a?a(this,e,i):[]},getDatasetAtEvent:function(e){return d.Interaction.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this.data.datasets[e];t._meta||(t._meta={});var i=t._meta[this.id];return i||(i=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var e=0,t=0,i=this.data.datasets.length;t<i;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var e,t,i,a=this,o=a.chart.canvas;for(a.stop(),t=0,i=a.data.datasets.length;t<i;++t)(e=a.getDatasetMeta(t)).controller&&(e.controller.destroy(),e.controller=null);o&&(a.unbindEvents(),u.clear(a.chart),h.releaseContext(a.chart.ctx),a.chart.canvas=null,a.chart.ctx=null),l.notify(a,"destroy"),delete d.instances[a.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){this.tooltip=new d.Tooltip({_chart:this.chart,_chartInstance:this,_data:this.data,_options:this.options.tooltips},this),this.tooltip.initialize()},bindEvents:function(){var t=this,i=t._listeners={},a=function(){t.eventHandler.apply(t,arguments)};u.each(t.options.events,function(e){h.addEventListener(t,e,a),i[e]=a}),t.options.responsive&&(a=function(){t.resize()},h.addEventListener(t,"resize",a),i.resize=a)},unbindEvents:function(){var i=this,e=i._listeners;e&&(delete i._listeners,u.each(e,function(e,t){h.removeEventListener(i,t,e)}))},updateHoverStyle:function(e,t,i){var a,o,n,r=i?"setHoverStyle":"removeHoverStyle";for(o=0,n=e.length;o<n;++o)(a=e[o])&&this.getDatasetMeta(a._datasetIndex).controller[r](a)},eventHandler:function(e){var t=this,i=t.tooltip;if(!1!==l.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var a=t.handleEvent(e);a|=i&&i.handleEvent(e),l.notify(t,"afterEvent",[e]);var o=t._bufferedRequest;return o?t.render(o.duration,o.lazy):a&&!t.animating&&(t.stop(),t.render(t.options.hover.animationDuration,!0)),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t,i=this,a=i.options||{},o=a.hover;return i.lastActive=i.lastActive||[],"mouseout"===e.type?i.active=[]:i.active=i.getElementsAtEventForMode(e,o.mode,o),o.onHover&&o.onHover.call(i,e.native,i.active),"mouseup"!==e.type&&"click"!==e.type||a.onClick&&a.onClick.call(i,e.native,i.active),i.lastActive.length&&i.updateHoverStyle(i.lastActive,o.mode,!1),i.active.length&&o.mode&&i.updateHoverStyle(i.active,o.mode,!0),t=!u.arrayEquals(i.active,i.lastActive),i.lastActive=i.active,t}})}},{}],24:[function(e,t,i){"use strict";t.exports=function(e){var s=e.helpers,n=["push","pop","shift","splice","unshift"];function a(t,e){var i=t._chartjs;if(i){var a=i.listeners,o=a.indexOf(e);-1!==o&&a.splice(o,1),0<a.length||(n.forEach(function(e){delete t[e]}),delete t._chartjs)}}e.DatasetController=function(e,t){this.initialize(e,t)},s.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){this.chart=e,this.index=t,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this.getMeta(),t=this.getDataset();null===e.xAxisID&&(e.xAxisID=t.xAxisID||this.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=t.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},destroy:function(){this._data&&a(this._data,this)},createMetaDataset:function(){var e=this.datasetElementType;return e&&new e({_chart:this.chart.chart,_datasetIndex:this.index})},createMetaData:function(e){var t=this.dataElementType;return t&&new t({_chart:this.chart.chart,_datasetIndex:this.index,_index:e})},addElements:function(){var e,t,i=this.getMeta(),a=this.getDataset().data||[],o=i.data;for(e=0,t=a.length;e<t;++e)o[e]=o[e]||this.createMetaData(e);i.dataset=i.dataset||this.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var o,e,t=this.getDataset(),i=t.data||(t.data=[]);this._data!==i&&(this._data&&a(this._data,this),e=this,(o=i)._chartjs?o._chartjs.listeners.push(e):(Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),n.forEach(function(e){var i="onData"+e.charAt(0).toUpperCase()+e.slice(1),a=o[e];Object.defineProperty(o,e,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),e=a.apply(this,t);return s.each(o._chartjs.listeners,function(e){"function"==typeof e[i]&&e[i].apply(e,t)}),e}})})),this._data=i),this.resyncElements()},update:s.noop,draw:function(e){var t,i,a=e||1,o=this.getMeta().data;for(t=0,i=o.length;t<i;++t)o[t].transition(a).draw()},removeHoverStyle:function(e,t){var i=this.chart.data.datasets[e._datasetIndex],a=e._index,o=e.custom||{},n=s.getValueAtIndexOrDefault,r=e._model;r.backgroundColor=o.backgroundColor?o.backgroundColor:n(i.backgroundColor,a,t.backgroundColor),r.borderColor=o.borderColor?o.borderColor:n(i.borderColor,a,t.borderColor),r.borderWidth=o.borderWidth?o.borderWidth:n(i.borderWidth,a,t.borderWidth)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index,a=e.custom||{},o=s.getValueAtIndexOrDefault,n=s.getHoverColor,r=e._model;r.backgroundColor=a.hoverBackgroundColor?a.hoverBackgroundColor:o(t.hoverBackgroundColor,i,n(r.backgroundColor)),r.borderColor=a.hoverBorderColor?a.hoverBorderColor:o(t.hoverBorderColor,i,n(r.borderColor)),r.borderWidth=a.hoverBorderWidth?a.hoverBorderWidth:o(t.hoverBorderWidth,i,r.borderWidth)},resyncElements:function(){var e=this.getMeta(),t=this.getDataset().data,i=e.data.length,a=t.length;a<i?e.data.splice(a,i-a):i<a&&this.insertElements(i,a-i)},insertElements:function(e,t){for(var i=0;i<t;++i)this.addElementAndReset(e+i)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),e.DatasetController.extend=s.inherits}},{}],25:[function(e,t,i){"use strict";t.exports=function(e){var r=e.helpers;e.elements={},e.Element=function(e){r.extend(this,e),this.initialize.apply(this,arguments)},r.extend(e.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){return this._view||(this._view=r.clone(this._model)),this._start=r.clone(this._view),this},transition:function(o){var n=this;return n._view||(n._view=r.clone(n._model)),1===o?(n._view=n._model,n._start=null):(n._start||n.pivot(),r.each(n._model,function(t,i){if("_"===i[0]);else if(n._view.hasOwnProperty(i))if(t===n._view[i]);else if("string"==typeof t)try{var e=r.color(n._model[i]).mix(r.color(n._start[i]),o);n._view[i]=e.rgbString()}catch(e){n._view[i]=t}else if("number"==typeof t){var a=void 0!==n._start[i]&&!1===isNaN(n._start[i])?n._start[i]:0;n._view[i]=(n._model[i]-a)*o+a}else n._view[i]=t;else"number"!=typeof t||isNaN(n._view[i])?n._view[i]=t:n._view[i]=t*o},n)),n},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return r.isNumber(this._model.x)&&r.isNumber(this._model.y)}}),e.Element.extend=r.inherits}},{}],26:[function(e,t,i){"use strict";var a=e(3);t.exports=function(r){var e,p=r.helpers={};p.each=function(e,t,i,a){var o,n;if(p.isArray(e))if(n=e.length,a)for(o=n-1;0<=o;o--)t.call(i,e[o],o);else for(o=0;o<n;o++)t.call(i,e[o],o);else if("object"==typeof e){var r=Object.keys(e);for(n=r.length,o=0;o<n;o++)t.call(i,e[r[o]],r[o])}},p.clone=function(e){var i={};return p.each(e,function(e,t){p.isArray(e)?i[t]=e.slice(0):i[t]="object"==typeof e&&null!==e?p.clone(e):e}),i},p.extend=function(i){for(var e=function(e,t){i[t]=e},t=1,a=arguments.length;t<a;t++)p.each(arguments[t],e);return i},p.configMerge=function(e){var o=p.clone(e);return p.each(Array.prototype.slice.call(arguments,1),function(e){p.each(e,function(e,t){var i=o.hasOwnProperty(t),a=i?o[t]:{};"scales"===t?o[t]=p.scaleMerge(a,e):"scale"===t?o[t]=p.configMerge(a,r.scaleService.getScaleDefaults(e.type),e):!i||"object"!=typeof a||p.isArray(a)||null===a||"object"!=typeof e||p.isArray(e)?o[t]=e:o[t]=p.configMerge(a,e)})}),o},p.scaleMerge=function(e,t){var n=p.clone(e);return p.each(t,function(e,o){"xAxes"===o||"yAxes"===o?n.hasOwnProperty(o)?p.each(e,function(e,t){var i=p.getValueOrDefault(e.type,"xAxes"===o?"category":"linear"),a=r.scaleService.getScaleDefaults(i);t>=n[o].length||!n[o][t].type?n[o].push(p.configMerge(a,e)):e.type&&e.type!==n[o][t].type?n[o][t]=p.configMerge(n[o][t],a,e):n[o][t]=p.configMerge(n[o][t],e)}):(n[o]=[],p.each(e,function(e){var t=p.getValueOrDefault(e.type,"xAxes"===o?"category":"linear");n[o].push(p.configMerge(r.scaleService.getScaleDefaults(t),e))})):n.hasOwnProperty(o)&&"object"==typeof n[o]&&null!==n[o]&&"object"==typeof e?n[o]=p.configMerge(n[o],e):n[o]=e}),n},p.getValueAtIndexOrDefault=function(e,t,i){return null==e?i:p.isArray(e)?t<e.length?e[t]:i:e},p.getValueOrDefault=function(e,t){return void 0===e?t:e},p.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var i=0,a=e.length;i<a;++i)if(e[i]===t)return i;return-1},p.where=function(e,t){if(p.isArray(e)&&Array.prototype.filter)return e.filter(t);var i=[];return p.each(e,function(e){t(e)&&i.push(e)}),i},p.findIndex=Array.prototype.findIndex?function(e,t,i){return e.findIndex(t,i)}:function(e,t,i){i=void 0===i?e:i;for(var a=0,o=e.length;a<o;++a)if(t.call(i,e[a],a,e))return a;return-1},p.findNextWhere=function(e,t,i){null==i&&(i=-1);for(var a=i+1;a<e.length;a++){var o=e[a];if(t(o))return o}},p.findPreviousWhere=function(e,t,i){null==i&&(i=e.length);for(var a=i-1;0<=a;a--){var o=e[a];if(t(o))return o}},p.inherits=function(e){var t=this,i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},a=function(){this.constructor=i};return a.prototype=t.prototype,i.prototype=new a,i.extend=p.inherits,e&&p.extend(i.prototype,e),i.__super__=t.prototype,i},p.noop=function(){},p.uid=(e=0,function(){return e++}),p.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},p.almostEquals=function(e,t,i){return Math.abs(e-t)<i},p.almostWhole=function(e,t){var i=Math.round(e);return i-t<e&&e<i+t},p.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},p.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},p.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0===(e=+e)||isNaN(e)?e:0<e?1:-1},p.log10=Math.log10?function(e){return Math.log10(e)}:function(e){return Math.log(e)/Math.LN10},p.toRadians=function(e){return e*(Math.PI/180)},p.toDegrees=function(e){return e*(180/Math.PI)},p.getAngleFromPoint=function(e,t){var i=t.x-e.x,a=t.y-e.y,o=Math.sqrt(i*i+a*a),n=Math.atan2(a,i);return n<-.5*Math.PI&&(n+=2*Math.PI),{angle:n,distance:o}},p.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},p.aliasPixel=function(e){return e%2==0?0:.5},p.splineCurve=function(e,t,i,a){var o=e.skip?t:e,n=t,r=i.skip?t:i,s=Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2)),l=Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2)),c=s/(s+l),d=l/(s+l),u=a*(c=isNaN(c)?0:c),h=a*(d=isNaN(d)?0:d);return{previous:{x:n.x-u*(r.x-o.x),y:n.y-u*(r.y-o.y)},next:{x:n.x+h*(r.x-o.x),y:n.y+h*(r.y-o.y)}}},p.EPSILON=Number.EPSILON||1e-14,p.splineCurveMonotone=function(e){var t,i,a,o,n,r,s,l,c,d=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),u=d.length;for(t=0;t<u;++t)if(!(a=d[t]).model.skip){if(i=0<t?d[t-1]:null,(o=t<u-1?d[t+1]:null)&&!o.model.skip){var h=o.model.x-a.model.x;a.deltaK=0!==h?(o.model.y-a.model.y)/h:0}!i||i.model.skip?a.mK=a.deltaK:!o||o.model.skip?a.mK=i.deltaK:this.sign(i.deltaK)!==this.sign(a.deltaK)?a.mK=0:a.mK=(i.deltaK+a.deltaK)/2}for(t=0;t<u-1;++t)a=d[t],o=d[t+1],a.model.skip||o.model.skip||(p.almostEquals(a.deltaK,0,this.EPSILON)?a.mK=o.mK=0:(n=a.mK/a.deltaK,r=o.mK/a.deltaK,(l=Math.pow(n,2)+Math.pow(r,2))<=9||(s=3/Math.sqrt(l),a.mK=n*s*a.deltaK,o.mK=r*s*a.deltaK)));for(t=0;t<u;++t)(a=d[t]).model.skip||(i=0<t?d[t-1]:null,o=t<u-1?d[t+1]:null,i&&!i.model.skip&&(c=(a.model.x-i.model.x)/3,a.model.controlPointPreviousX=a.model.x-c,a.model.controlPointPreviousY=a.model.y-c*a.mK),o&&!o.model.skip&&(c=(o.model.x-a.model.x)/3,a.model.controlPointNextX=a.model.x+c,a.model.controlPointNextY=a.model.y+c*a.mK))},p.nextItem=function(e,t,i){return i?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},p.previousItem=function(e,t,i){return i?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},p.niceNum=function(e,t){var i=Math.floor(p.log10(e)),a=e/Math.pow(10,i);return(t?a<1.5?1:a<3?2:a<7?5:10:a<=1?1:a<=2?2:a<=5?5:10)*Math.pow(10,i)};var t=p.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(1-Math.pow(2,-10*e/1))},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return 1<=e?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,i=0,a=1;return 0===e?0:1==(e/=1)?1:(i||(i=.3),a<Math.abs(1)?(a=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/a),-a*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i))},easeOutElastic:function(e){var t=1.70158,i=0,a=1;return 0===e?0:1==(e/=1)?1:(i||(i=.3),a<Math.abs(1)?(a=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/i)+1)},easeInOutElastic:function(e){var t=1.70158,i=0,a=1;return 0===e?0:2==(e/=.5)?1:(i||(i=.3*1.5*1),a<Math.abs(1)?(a=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/a),e<1?a*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)*-.5:a*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)*.5+1)},easeInBack:function(e){return 1*(e/=1)*e*(2.70158*e-1.70158)},easeOutBack:function(e){return 1*((e=e/1-1)*e*(2.70158*e+1.70158)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-t.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e*1:e<2/2.75?1*(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return e<.5?.5*t.easeInBounce(2*e):.5*t.easeOutBounce(2*e-1)+.5}};function d(e,t,i){var a;return"string"==typeof e?(a=parseInt(e,10),-1!==e.indexOf("%")&&(a=a/100*t.parentNode[i])):a=e,a}function u(e){return null!=e&&"none"!==e}function i(e,t,i){var a=document.defaultView,o=e.parentNode,n=a.getComputedStyle(e)[t],r=a.getComputedStyle(o)[t],s=u(n),l=u(r),c=Number.POSITIVE_INFINITY;return s||l?Math.min(s?d(n,e,i):c,l?d(r,o,i):c):"none"}p.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},p.getRelativePosition=function(e,t){var i,a,o=e.originalEvent||e,n=e.currentTarget||e.srcElement,r=n.getBoundingClientRect(),s=o.touches;s&&0<s.length?(i=s[0].clientX,a=s[0].clientY):(i=o.clientX,a=o.clientY);var l=parseFloat(p.getStyle(n,"padding-left")),c=parseFloat(p.getStyle(n,"padding-top")),d=parseFloat(p.getStyle(n,"padding-right")),u=parseFloat(p.getStyle(n,"padding-bottom")),h=r.right-r.left-l-d,f=r.bottom-r.top-c-u;return{x:i=Math.round((i-r.left-l)/h*n.width/t.currentDevicePixelRatio),y:a=Math.round((a-r.top-c)/f*n.height/t.currentDevicePixelRatio)}},p.addEvent=function(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i},p.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=p.noop},p.getConstraintWidth=function(e){return i(e,"max-width","clientWidth")},p.getConstraintHeight=function(e){return i(e,"max-height","clientHeight")},p.getMaximumWidth=function(e){var t=e.parentNode,i=parseInt(p.getStyle(t,"padding-left"),10),a=parseInt(p.getStyle(t,"padding-right"),10),o=t.clientWidth-i-a,n=p.getConstraintWidth(e);return isNaN(n)?o:Math.min(o,n)},p.getMaximumHeight=function(e){var t=e.parentNode,i=parseInt(p.getStyle(t,"padding-top"),10),a=parseInt(p.getStyle(t,"padding-bottom"),10),o=t.clientHeight-i-a,n=p.getConstraintHeight(e);return isNaN(n)?o:Math.min(o,n)},p.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},p.retinaScale=function(e){var t=e.currentDevicePixelRatio=window.devicePixelRatio||1;if(1!==t){var i=e.canvas,a=e.height,o=e.width;i.height=a*t,i.width=o*t,e.ctx.scale(t,t),i.style.height=a+"px",i.style.width=o+"px"}},p.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},p.fontString=function(e,t,i){return t+" "+e+"px "+i},p.longestText=function(t,e,i,a){var o=(a=a||{}).data=a.data||{},n=a.garbageCollect=a.garbageCollect||[];a.font!==e&&(o=a.data={},n=a.garbageCollect=[],a.font=e),t.font=e;var r=0;p.each(i,function(e){null!=e&&!0!==p.isArray(e)?r=p.measureText(t,o,n,r,e):p.isArray(e)&&p.each(e,function(e){null==e||p.isArray(e)||(r=p.measureText(t,o,n,r,e))})});var s=n.length/2;if(s>i.length){for(var l=0;l<s;l++)delete o[n[l]];n.splice(0,s)}return r},p.measureText=function(e,t,i,a,o){var n=t[o];return n||(n=t[o]=e.measureText(o).width,i.push(o)),a<n&&(a=n),a},p.numberOfLabelLines=function(e){var t=1;return p.each(e,function(e){p.isArray(e)&&e.length>t&&(t=e.length)}),t},p.drawRoundedRectangle=function(e,t,i,a,o,n){e.beginPath(),e.moveTo(t+n,i),e.lineTo(t+a-n,i),e.quadraticCurveTo(t+a,i,t+a,i+n),e.lineTo(t+a,i+o-n),e.quadraticCurveTo(t+a,i+o,t+a-n,i+o),e.lineTo(t+n,i+o),e.quadraticCurveTo(t,i+o,t,i+o-n),e.lineTo(t,i+n),e.quadraticCurveTo(t,i,t+n,i),e.closePath()},p.color=function(e){return a?e instanceof CanvasGradient?a(r.defaults.global.defaultColor):a(e):(console.error("Color.js not found!"),e)},p.isArray=Array.isArray?function(e){return Array.isArray(e)}:function(e){return"[object Array]"===Object.prototype.toString.call(e)},p.arrayEquals=function(e,t){var i,a,o,n;if(!e||!t||e.length!==t.length)return!1;for(i=0,a=e.length;i<a;++i)if(o=e[i],n=t[i],o instanceof Array&&n instanceof Array){if(!p.arrayEquals(o,n))return!1}else if(o!==n)return!1;return!0},p.callCallback=function(e,t,i){e&&"function"==typeof e.call&&e.apply(i,t)},p.getHoverColor=function(e){return e instanceof CanvasPattern?e:p.color(e).saturate(.5).darken(.1).rgbString()}}},{3:3}],27:[function(e,t,i){"use strict";t.exports=function(e){var i=e.helpers;function r(e,t){return e.native?{x:e.x,y:e.y}:i.getRelativePosition(e,t)}function l(e,t){var i,a,o,n,r;for(a=0,n=e.data.datasets.length;a<n;++a)if(e.isDatasetVisible(a))for(o=0,r=(i=e.getDatasetMeta(a)).data.length;o<r;++o){var s=i.data[o];s._view.skip||t(s)}}function s(e,t){var i=[];return l(e,function(e){e.inRange(t.x,t.y)&&i.push(e)}),i}function c(e,a,o,n){var r=Number.POSITIVE_INFINITY,s=[];return n||(n=i.distanceBetweenPoints),l(e,function(e){if(!o||e.inRange(a.x,a.y)){var t=e.getCenterPoint(),i=n(a,t);i<r?(s=[e],r=i):i===r&&s.push(e)}}),s}function a(a,e,t){var i=r(e,a.chart),o=t.intersect?s(a,i):c(a,i,!1,function(e,t){return Math.abs(e.x-t.x)}),n=[];return o.length?(a.data.datasets.forEach(function(e,t){if(a.isDatasetVisible(t)){var i=a.getDatasetMeta(t).data[o[0]._index];i&&!i._view.skip&&n.push(i)}}),n):[]}e.Interaction={modes:{single:function(e,t){var i=r(t,e.chart),a=[];return l(e,function(e){if(e.inRange(i.x,i.y))return a.push(e),a}),a.slice(0,1)},label:a,index:a,dataset:function(e,t,i){var a=r(t,e.chart),o=i.intersect?s(e,a):c(e,a,!1);return 0<o.length&&(o=e.getDatasetMeta(o[0]._datasetIndex).data),o},"x-axis":function(e,t){return a(e,t,!0)},point:function(e,t){return s(e,r(t,e.chart))},nearest:function(e,t,i){var a=c(e,r(t,e.chart),i.intersect);return 1<a.length&&a.sort(function(e,t){var i=e.getArea()-t.getArea();return 0===i&&(i=e._datasetIndex-t._datasetIndex),i}),a.slice(0,1)},x:function(e,t,i){var a=r(t,e.chart),o=[],n=!1;return l(e,function(e){e.inXRange(a.x)&&o.push(e),e.inRange(a.x,a.y)&&(n=!0)}),i.intersect&&!n&&(o=[]),o},y:function(e,t,i){var a=r(t,e.chart),o=[],n=!1;return l(e,function(e){e.inYRange(a.y)&&o.push(e),e.inRange(a.x,a.y)&&(n=!0)}),i.intersect&&!n&&(o=[]),o}}}}},{}],28:[function(e,t,i){"use strict";t.exports=function(){var i=function(e,t){return this.controller=new i.Controller(e,t,this),this.controller};return i.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var i=0;i<e.data.datasets.length;i++)t.push('<li><span style="background-color:'+e.data.datasets[i].backgroundColor+'"></span>'),e.data.datasets[i].label&&t.push(e.data.datasets[i].label),t.push("</li>");return t.push("</ul>"),t.join("")}}},i.Chart=i}},{}],29:[function(e,t,i){"use strict";t.exports=function(e){var L=e.helpers;e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),e.boxes.push(t)},removeBox:function(e,t){e.boxes&&e.boxes.splice(e.boxes.indexOf(t),1)},update:function(t,i,e){if(t){var a=t.options.layout,o=a?a.padding:null,n=0,r=0,s=0,l=0;isNaN(o)?(n=o.left||0,r=o.right||0,s=o.top||0,l=o.bottom||0):l=s=r=n=o;var c=L.where(t.boxes,function(e){return"left"===e.options.position}),d=L.where(t.boxes,function(e){return"right"===e.options.position}),u=L.where(t.boxes,function(e){return"top"===e.options.position}),h=L.where(t.boxes,function(e){return"bottom"===e.options.position}),f=L.where(t.boxes,function(e){return"chartArea"===e.options.position});u.sort(function(e,t){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)}),h.sort(function(e,t){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)});var p=i-n-r,m=e-s-l,g=m/2,v=(i-p/2)/(c.length+d.length),b=(e-g)/(u.length+h.length),y=p,x=m,w=[];L.each(c.concat(d,u,h),function(e){var t,i=e.isHorizontal();i?(t=e.update(e.options.fullWidth?p:y,b),x-=t.height):(t=e.update(v,g),y-=t.width),w.push({horizontal:i,minSize:t,box:e})});var k=0,_=0,C=0,T=0;L.each(u.concat(h),function(e){if(e.getPadding){var t=e.getPadding();k=Math.max(k,t.left),_=Math.max(_,t.right)}}),L.each(c.concat(d),function(e){if(e.getPadding){var t=e.getPadding();C=Math.max(C,t.top),T=Math.max(T,t.bottom)}});var F=n,S=r,E=s,D=l;L.each(c.concat(d),N),L.each(c,function(e){F+=e.width}),L.each(d,function(e){S+=e.width}),L.each(u.concat(h),N),L.each(u,function(e){E+=e.height}),L.each(h,function(e){D+=e.height}),L.each(c.concat(d),function(t){var e=L.findNextWhere(w,function(e){return e.box===t}),i={left:0,right:0,top:E,bottom:D};e&&t.update(e.minSize.width,x,i)}),F=n,S=r,E=s,D=l,L.each(c,function(e){F+=e.width}),L.each(d,function(e){S+=e.width}),L.each(u,function(e){E+=e.height}),L.each(h,function(e){D+=e.height});var I=Math.max(k-F,0);F+=I,S+=Math.max(_-S,0);var P=Math.max(C-E,0);E+=P,D+=Math.max(T-D,0);var M=e-E-D,A=i-F-S;A===y&&M===x||(L.each(c,function(e){e.height=M}),L.each(d,function(e){e.height=M}),L.each(u,function(e){e.options.fullWidth||(e.width=A)}),L.each(h,function(e){e.options.fullWidth||(e.width=A)}),x=M,y=A);var $=n+I,R=s+P;L.each(c.concat(u),O),$+=y,R+=x,L.each(d,O),L.each(h,O),t.chartArea={left:F,top:E,right:F+y,bottom:E+x},L.each(f,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(y,x)})}function N(t){var e=L.findNextWhere(w,function(e){return e.box===t});if(e)if(t.isHorizontal()){var i={left:Math.max(F,k),right:Math.max(S,_),top:0,bottom:0};t.update(t.options.fullWidth?p:y,m/2,i)}else t.update(e.minSize.width,x)}function O(e){e.isHorizontal()?(e.left=e.options.fullWidth?n:F,e.right=e.options.fullWidth?i-r:F+y,e.top=R,e.bottom=R+e.height,R=e.bottom):(e.left=$,e.right=$+e.width,e.top=E,e.bottom=E+x,$=e.right)}}}}},{}],30:[function(e,t,i){"use strict";t.exports=function(T){var F=T.helpers,e=F.noop;function S(e,t){return e.usePointStyle?t*Math.SQRT2:e.boxWidth}function i(e,t){var i=new T.Legend({ctx:e.chart.ctx,options:t,chart:e});e.legend=i,T.layoutService.addBox(e,i)}T.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(e,t){var i=t.datasetIndex,a=this.chart,o=a.getDatasetMeta(i);o.hidden=null===o.hidden?!a.data.datasets[i].hidden:null,a.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(i){var e=i.data;return F.isArray(e.datasets)?e.datasets.map(function(e,t){return{text:e.label,fillStyle:F.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!i.isDatasetVisible(t),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:t}},this):[]}}},T.Legend=T.Element.extend({initialize:function(e){F.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:e,update:function(e,t,i){var a=this;return a.beforeUpdate(),a.maxWidth=e,a.maxHeight=t,a.margins=i,a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeBuildLabels(),a.buildLabels(),a.afterBuildLabels(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:e,beforeSetDimensions:e,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:e,beforeBuildLabels:e,buildLabels:function(){var t=this,i=t.options.labels,e=i.generateLabels.call(t,t.chart);i.filter&&(e=e.filter(function(e){return i.filter(e,t.chart.data)})),t.options.reverse&&e.reverse(),t.legendItems=e},afterBuildLabels:e,beforeFit:e,fit:function(){var a=this,e=a.options,o=e.labels,t=e.display,n=a.ctx,i=T.defaults.global,r=F.getValueOrDefault,s=r(o.fontSize,i.defaultFontSize),l=r(o.fontStyle,i.defaultFontStyle),c=r(o.fontFamily,i.defaultFontFamily),d=F.fontString(s,l,c),u=a.legendHitBoxes=[],h=a.minSize,f=a.isHorizontal();if(f?(h.width=a.maxWidth,h.height=t?10:0):(h.width=t?10:0,h.height=a.maxHeight),t)if(n.font=d,f){var p=a.lineWidths=[0],m=a.legendItems.length?s+o.padding:0;n.textAlign="left",n.textBaseline="top",F.each(a.legendItems,function(e,t){var i=S(o,s)+s/2+n.measureText(e.text).width;p[p.length-1]+i+o.padding>=a.width&&(m+=s+o.padding,p[p.length]=a.left),u[t]={left:0,top:0,width:i,height:s},p[p.length-1]+=i+o.padding}),h.height+=m}else{var g=o.padding,v=a.columnWidths=[],b=o.padding,y=0,x=0,w=s+g;F.each(a.legendItems,function(e,t){var i=S(o,s)+s/2+n.measureText(e.text).width;x+w>h.height&&(b+=y+o.padding,v.push(y),x=y=0),y=Math.max(y,i),x+=w,u[t]={left:0,top:0,width:i,height:s}}),b+=y,v.push(y),h.width+=b}a.width=h.width,a.height=h.height},afterFit:e,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var d=this,u=d.options,h=u.labels,f=T.defaults.global,p=f.elements.line,m=d.width,g=d.lineWidths;if(u.display){var v,b=d.ctx,y=F.getValueOrDefault,e=y(h.fontColor,f.defaultFontColor),x=y(h.fontSize,f.defaultFontSize),t=y(h.fontStyle,f.defaultFontStyle),i=y(h.fontFamily,f.defaultFontFamily),a=F.fontString(x,t,i);b.textAlign="left",b.textBaseline="top",b.lineWidth=.5,b.strokeStyle=e,b.fillStyle=e,b.font=a;var w=S(h,x),k=d.legendHitBoxes,_=d.isHorizontal();v=_?{x:d.left+(m-g[0])/2,y:d.top+h.padding,line:0}:{x:d.left+h.padding,y:d.top+h.padding,line:0};var C=x+h.padding;F.each(d.legendItems,function(e,t){var i,a,o,n,r=b.measureText(e.text).width,s=w+x/2+r,l=v.x,c=v.y;_?m<=l+s&&(c=v.y+=C,v.line++,l=v.x=d.left+(m-g[v.line])/2):c+C>d.bottom&&(l=v.x=l+d.columnWidths[v.line]+h.padding,c=v.y=d.top+h.padding,v.line++),function(e,t,i){if(!(isNaN(w)||w<=0)){b.save(),b.fillStyle=y(i.fillStyle,f.defaultColor),b.lineCap=y(i.lineCap,p.borderCapStyle),b.lineDashOffset=y(i.lineDashOffset,p.borderDashOffset),b.lineJoin=y(i.lineJoin,p.borderJoinStyle),b.lineWidth=y(i.lineWidth,p.borderWidth),b.strokeStyle=y(i.strokeStyle,f.defaultColor);var a=0===y(i.lineWidth,p.borderWidth);if(b.setLineDash&&b.setLineDash(y(i.lineDash,p.borderDash)),u.labels&&u.labels.usePointStyle){var o=x*Math.SQRT2/2,n=o/Math.SQRT2,r=e+n,s=t+n;T.canvasHelpers.drawPoint(b,i.pointStyle,o,r,s)}else a||b.strokeRect(e,t,w,x),b.fillRect(e,t,w,x);b.restore()}}(l,c,e),k[t].left=l,k[t].top=c,i=l,a=c,o=e,n=r,b.fillText(o.text,w+x/2+i,a),o.hidden&&(b.beginPath(),b.lineWidth=2,b.moveTo(w+x/2+i,a+x/2),b.lineTo(w+x/2+i+n,a+x/2),b.stroke()),_?v.x+=s+h.padding:v.y+=C})}},handleEvent:function(e){var t=this,i=t.options,a="mouseup"===e.type?"click":e.type,o=!1;if("mousemove"===a){if(!i.onHover)return}else{if("click"!==a)return;if(!i.onClick)return}var n=e.x,r=e.y;if(n>=t.left&&n<=t.right&&r>=t.top&&r<=t.bottom)for(var s=t.legendHitBoxes,l=0;l<s.length;++l){var c=s[l];if(n>=c.left&&n<=c.left+c.width&&r>=c.top&&r<=c.top+c.height){if("click"===a){i.onClick.call(t,e.native,t.legendItems[l]),o=!0;break}if("mousemove"===a){i.onHover.call(t,e.native,t.legendItems[l]),o=!0;break}}}return o}}),T.plugins.register({beforeInit:function(e){var t=e.options.legend;t&&i(e,t)},beforeUpdate:function(e){var t=e.options.legend;t?(t=F.configMerge(T.defaults.global.legend,t),e.legend?e.legend.options=t:i(e,t)):(T.layoutService.removeBox(e,e.legend),delete e.legend)},afterEvent:function(e,t){var i=e.legend;i&&i.handleEvent(t)}})}},{}],31:[function(e,t,i){"use strict";t.exports=function(s){var l=s.helpers;s.defaults.global.plugins={},s.plugins={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),this._cacheId++},unregister:function(e){var i=this._plugins;[].concat(e).forEach(function(e){var t=i.indexOf(e);-1!==t&&i.splice(t,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,i){var a,o,n,r,s,l=this.descriptors(e),c=l.length;for(a=0;a<c;++a)if("function"==typeof(s=(n=(o=l[a]).plugin)[t])&&((r=[e].concat(i||[])).push(o.options),!1===s.apply(n,r)))return!1;return!0},descriptors:function(e){var t=e._plugins||(e._plugins={});if(t.id===this._cacheId)return t.descriptors;var a=[],o=[],i=e&&e.config||{},n=s.defaults.global.plugins,r=i.options&&i.options.plugins||{};return this._plugins.concat(i.plugins||[]).forEach(function(e){if(-1===a.indexOf(e)){var t=e.id,i=r[t];!1!==i&&(!0===i&&(i=l.clone(n[t])),a.push(e),o.push({plugin:e,options:i||{}}))}}),t.descriptors=o,t.id=this._cacheId,o}},s.pluginService=s.plugins,s.PluginBase=l.inherits({})}},{}],32:[function(e,t,i){"use strict";t.exports=function(x){var V=x.helpers;function w(e,t,i){return V.isArray(t)?V.longestText(e,i,t):e.measureText(t).width}function B(e){var t=V.getValueOrDefault,i=x.defaults.global,a=t(e.fontSize,i.defaultFontSize),o=t(e.fontStyle,i.defaultFontStyle),n=t(e.fontFamily,i.defaultFontFamily);return{size:a,style:o,family:n,font:V.fontString(a,o,n)}}x.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:x.Ticks.formatters.values}},x.Scale=x.Element.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},beforeUpdate:function(){V.callCallback(this.options.beforeUpdate,[this])},update:function(e,t,i){var a=this;return a.beforeUpdate(),a.maxWidth=e,a.maxHeight=t,a.margins=V.extend({left:0,right:0,top:0,bottom:0},i),a.longestTextCache=a.longestTextCache||{},a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeDataLimits(),a.determineDataLimits(),a.afterDataLimits(),a.beforeBuildTicks(),a.buildTicks(),a.afterBuildTicks(),a.beforeTickToLabelConversion(),a.convertTicksToLabels(),a.afterTickToLabelConversion(),a.beforeCalculateTickRotation(),a.calculateTickRotation(),a.afterCalculateTickRotation(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:function(){V.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){V.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){V.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){V.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:V.noop,afterDataLimits:function(){V.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){V.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:V.noop,afterBuildTicks:function(){V.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){V.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this.options.ticks;this.ticks=this.ticks.map(e.userCallback||e.callback)},afterTickToLabelConversion:function(){V.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){V.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this,t=e.ctx,i=e.options.ticks,a=B(i);t.font=a.font;var o=i.minRotation||0;if(e.options.display&&e.isHorizontal())for(var n,r=V.longestText(t,a.font,e.ticks,e.longestTextCache),s=r,l=e.getPixelForTick(1)-e.getPixelForTick(0)-6;l<s&&o<i.maxRotation;){var c=V.toRadians(o);if(n=Math.cos(c),Math.sin(c)*r>e.maxHeight){o--;break}o++,s=n*r}e.labelRotation=o},afterCalculateTickRotation:function(){V.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){V.callCallback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},i=e.options,a=i.ticks,o=i.scaleLabel,n=i.gridLines,r=i.display,s=e.isHorizontal(),l=B(a),c=1.5*B(o).size,d=i.gridLines.tickMarkLength;if(t.width=s?e.isFullWidth()?e.maxWidth-e.margins.left-e.margins.right:e.maxWidth:r&&n.drawTicks?d:0,t.height=s?r&&n.drawTicks?d:0:e.maxHeight,o.display&&r&&(s?t.height+=c:t.width+=c),a.display&&r){var u=V.longestText(e.ctx,l.font,e.ticks,e.longestTextCache),h=V.numberOfLabelLines(e.ticks),f=.5*l.size;if(s){e.longestLabelWidth=u;var p=V.toRadians(e.labelRotation),m=Math.cos(p),g=Math.sin(p)*u+l.size*h+f*h;t.height=Math.min(e.maxHeight,t.height+g),e.ctx.font=l.font;var v=e.ticks[0],b=w(e.ctx,v,l.font),y=e.ticks[e.ticks.length-1],x=w(e.ctx,y,l.font);0!==e.labelRotation?(e.paddingLeft="bottom"===i.position?m*b+3:m*f+3,e.paddingRight="bottom"===i.position?m*f+3:m*x+3):(e.paddingLeft=b/2+3,e.paddingRight=x/2+3)}else a.mirror?u=0:u+=e.options.ticks.padding,t.width+=u,e.paddingTop=l.size/2,e.paddingBottom=l.size/2}e.handleMargins(),e.width=t.width,e.height=t.height},handleMargins:function(){var e=this;e.margins&&(e.paddingLeft=Math.max(e.paddingLeft-e.margins.left,0),e.paddingTop=Math.max(e.paddingTop-e.margins.top,0),e.paddingRight=Math.max(e.paddingRight-e.margins.right,0),e.paddingBottom=Math.max(e.paddingBottom-e.margins.bottom,0))},afterFit:function(){V.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){return null==e?NaN:"number"!=typeof e||isFinite(e)?"object"==typeof e?e instanceof Date||e.isValid?e:this.getRightValue(this.isHorizontal()?e.x:e.y):e:NaN},getLabelForIndex:V.noop,getPixelForValue:V.noop,getValueForPixel:V.noop,getPixelForTick:function(e,t){var i=this;if(i.isHorizontal()){var a=(i.width-(i.paddingLeft+i.paddingRight))/Math.max(i.ticks.length-(i.options.gridLines.offsetGridLines?0:1),1),o=a*e+i.paddingLeft;t&&(o+=a/2);var n=i.left+Math.round(o);return n+=i.isFullWidth()?i.margins.left:0}var r=i.height-(i.paddingTop+i.paddingBottom);return i.top+e*(r/(i.ticks.length-1))},getPixelForDecimal:function(e){var t=this;if(t.isHorizontal()){var i=(t.width-(t.paddingLeft+t.paddingRight))*e+t.paddingLeft,a=t.left+Math.round(i);return a+=t.isFullWidth()?t.margins.left:0}return t.top+e*t.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this.min,t=this.max;return this.beginAtZero?0:e<0&&t<0?t:0<e&&0<t?e:0},draw:function(k){var _=this,C=_.options;if(C.display){var T,e,o=_.ctx,t=x.defaults.global,F=C.ticks,S=C.gridLines,i=C.scaleLabel,E=0!==_.labelRotation,a=F.autoSkip,D=_.isHorizontal();F.maxTicksLimit&&(e=F.maxTicksLimit);var n=V.getValueOrDefault(F.fontColor,t.defaultFontColor),r=B(F),I=S.drawTicks?S.tickMarkLength:0,P=V.getValueOrDefault(S.borderDash,t.borderDash),M=V.getValueOrDefault(S.borderDashOffset,t.borderDashOffset),s=V.getValueOrDefault(i.fontColor,t.defaultFontColor),l=B(i),A=V.toRadians(_.labelRotation),c=Math.cos(A),d=_.longestLabelWidth*c;o.fillStyle=n;var $=[];if(D){if(T=!1,E&&(d/=2),(d+F.autoSkipPadding)*_.ticks.length>_.width-(_.paddingLeft+_.paddingRight)&&(T=1+Math.floor((d+F.autoSkipPadding)*_.ticks.length/(_.width-(_.paddingLeft+_.paddingRight)))),e&&_.ticks.length>e)for(;!T||_.ticks.length/(T||1)>e;)T||(T=1),T+=1;a||(T=!1)}var R="right"===C.position?_.left:_.right-I,N="right"===C.position?_.left+I:_.right,O="bottom"===C.position?_.top:_.bottom-I,L="bottom"===C.position?_.top+I:_.bottom;if(V.each(_.ticks,function(e,t){if(null!=e){var i=_.ticks.length===t+1;if((!(1<T&&0<t%T||t%T==0&&t+T>=_.ticks.length)||i)&&null!=e){var a,o,n,r,s,l,c,d,u,h,f,p;t===(void 0!==_.zeroLineIndex?_.zeroLineIndex:0)?(a=S.zeroLineWidth,o=S.zeroLineColor):(a=V.getValueAtIndexOrDefault(S.lineWidth,t),o=V.getValueAtIndexOrDefault(S.color,t));var m="middle",g="middle";if(D){"bottom"===C.position?(g=E?"middle":"top",m=E?"right":"center",p=_.top+I):(g=E?"middle":"bottom",m=E?"left":"center",p=_.bottom-I);var v=_.getPixelForTick(t)+V.aliasPixel(a);f=_.getPixelForTick(t,S.offsetGridLines)+F.labelOffset,n=s=c=u=v,r=O,l=L,d=k.top,h=k.bottom}else{var b,y="left"===C.position,x=F.padding;F.mirror?(m=y?"left":"right",b=x):(m=y?"right":"left",b=I+x),f=y?_.right-b:_.left+b;var w=_.getPixelForTick(t);w+=V.aliasPixel(a),p=_.getPixelForTick(t,S.offsetGridLines),n=R,s=N,c=k.left,u=k.right,r=l=d=h=w}$.push({tx1:n,ty1:r,tx2:s,ty2:l,x1:c,y1:d,x2:u,y2:h,labelX:f,labelY:p,glWidth:a,glColor:o,glBorderDash:P,glBorderDashOffset:M,rotation:-1*A,label:e,textBaseline:g,textAlign:m})}}}),V.each($,function(e){if(S.display&&(o.save(),o.lineWidth=e.glWidth,o.strokeStyle=e.glColor,o.setLineDash&&(o.setLineDash(e.glBorderDash),o.lineDashOffset=e.glBorderDashOffset),o.beginPath(),S.drawTicks&&(o.moveTo(e.tx1,e.ty1),o.lineTo(e.tx2,e.ty2)),S.drawOnChartArea&&(o.moveTo(e.x1,e.y1),o.lineTo(e.x2,e.y2)),o.stroke(),o.restore()),F.display){o.save(),o.translate(e.labelX,e.labelY),o.rotate(e.rotation),o.font=r.font,o.textBaseline=e.textBaseline,o.textAlign=e.textAlign;var t=e.label;if(V.isArray(t))for(var i=0,a=0;i<t.length;++i)o.fillText(""+t[i],0,a),a+=1.5*r.size;else o.fillText(t,0,0);o.restore()}}),i.display){var u,h,f=0;if(D)u=_.left+(_.right-_.left)/2,h="bottom"===C.position?_.bottom-l.size/2:_.top+l.size/2;else{var p="left"===C.position;u=p?_.left+l.size/2:_.right-l.size/2,h=_.top+(_.bottom-_.top)/2,f=p?-.5*Math.PI:.5*Math.PI}o.save(),o.translate(u,h),o.rotate(f),o.textAlign="center",o.textBaseline="middle",o.fillStyle=s,o.font=l.font,o.fillText(i.labelString,0,0),o.restore()}if(S.drawBorder){o.lineWidth=V.getValueAtIndexOrDefault(S.lineWidth,0),o.strokeStyle=V.getValueAtIndexOrDefault(S.color,0);var m=_.left,g=_.right,v=_.top,b=_.bottom,y=V.aliasPixel(o.lineWidth);D?(v=b="top"===C.position?_.bottom:_.top,v+=y,b+=y):(m=g="left"===C.position?_.right:_.left,m+=y,g+=y),o.beginPath(),o.moveTo(m,v),o.lineTo(g,b),o.stroke()}}}})}},{}],33:[function(e,t,i){"use strict";t.exports=function(i){var a=i.helpers;i.scaleService={constructors:{},defaults:{},registerScaleType:function(e,t,i){this.constructors[e]=t,this.defaults[e]=a.clone(i)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?a.scaleMerge(i.defaults.scale,this.defaults[e]):{}},updateScaleDefaults:function(e,t){var i=this.defaults;i.hasOwnProperty(e)&&(i[e]=a.extend(i[e],t))},addScalesToLayout:function(t){a.each(t.scales,function(e){i.layoutService.addBox(t,e)})}}}},{}],34:[function(e,t,i){"use strict";t.exports=function(e){var d=e.helpers;e.Ticks={generators:{linear:function(e,t){var i,a=[];if(e.stepSize&&0<e.stepSize)i=e.stepSize;else{var o=d.niceNum(t.max-t.min,!1);i=d.niceNum(o/(e.maxTicks-1),!0)}var n=Math.floor(t.min/i)*i,r=Math.ceil(t.max/i)*i;e.min&&e.max&&e.stepSize&&d.almostWhole((e.max-e.min)/e.stepSize,i/1e3)&&(n=e.min,r=e.max);var s=(r-n)/i;s=d.almostEquals(s,Math.round(s),i/1e3)?Math.round(s):Math.ceil(s),a.push(void 0!==e.min?e.min:n);for(var l=1;l<s;++l)a.push(n+l*i);return a.push(void 0!==e.max?e.max:r),a},logarithmic:function(e,t){var i,a,o=[],n=d.getValueOrDefault,r=n(e.min,Math.pow(10,Math.floor(d.log10(t.min)))),s=Math.floor(d.log10(t.max)),l=Math.ceil(t.max/Math.pow(10,s));for(0===r?(i=Math.floor(d.log10(t.minNotZero)),a=Math.floor(t.minNotZero/Math.pow(10,i)),o.push(r),r=a*Math.pow(10,i)):(i=Math.floor(d.log10(r)),a=Math.floor(r/Math.pow(10,i)));o.push(r),10===++a&&(a=1,++i),r=a*Math.pow(10,i),i<s||i===s&&a<l;);var c=n(e.max,r);return o.push(c),o}},formatters:{values:function(e){return d.isArray(e)?e:""+e},linear:function(e,t,i){var a=3<i.length?i[2]-i[1]:i[1]-i[0];1<Math.abs(a)&&e!==Math.floor(e)&&(a=e-Math.floor(e));var o=d.log10(Math.abs(a)),n="";if(0!==e){var r=-1*Math.floor(o);r=Math.max(Math.min(r,20),0),n=e.toFixed(r)}else n="0";return n},logarithmic:function(e,t,i){var a=e/Math.pow(10,Math.floor(d.log10(e)));return 0===e?"0":1===a||2===a||5===a||0===t||t===i.length-1?e.toExponential():""}}}}},{}],35:[function(e,t,i){"use strict";t.exports=function(g){var v=g.helpers;g.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var e=v.noop;function i(e,t){var i=new g.Title({ctx:e.chart.ctx,options:t,chart:e});e.titleBlock=i,g.layoutService.addBox(e,i)}g.Title=g.Element.extend({initialize:function(e){v.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:e,update:function(e,t,i){var a=this;return a.beforeUpdate(),a.maxWidth=e,a.maxHeight=t,a.margins=i,a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeBuildLabels(),a.buildLabels(),a.afterBuildLabels(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:e,beforeSetDimensions:e,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:e,beforeBuildLabels:e,buildLabels:e,afterBuildLabels:e,beforeFit:e,fit:function(){var e=v.getValueOrDefault,t=this.options,i=g.defaults.global,a=t.display,o=e(t.fontSize,i.defaultFontSize),n=this.minSize;this.isHorizontal()?(n.width=this.maxWidth,n.height=a?o+2*t.padding:0):(n.width=a?o+2*t.padding:0,n.height=this.maxHeight),this.width=n.width,this.height=n.height},afterFit:e,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this.ctx,t=v.getValueOrDefault,i=this.options,a=g.defaults.global;if(i.display){var o,n,r,s=t(i.fontSize,a.defaultFontSize),l=t(i.fontStyle,a.defaultFontStyle),c=t(i.fontFamily,a.defaultFontFamily),d=v.fontString(s,l,c),u=0,h=this.top,f=this.left,p=this.bottom,m=this.right;e.fillStyle=t(i.fontColor,a.defaultFontColor),e.font=d,this.isHorizontal()?(o=f+(m-f)/2,n=h+(p-h)/2,r=m-f):(o="left"===i.position?f+s/2:m-s/2,n=h+(p-h)/2,r=p-h,u=Math.PI*("left"===i.position?-.5:.5)),e.save(),e.translate(o,n),e.rotate(u),e.textAlign="center",e.textBaseline="middle",e.fillText(i.text,0,0,r),e.restore()}}}),g.plugins.register({beforeInit:function(e){var t=e.options.title;t&&i(e,t)},beforeUpdate:function(e){var t=e.options.title;t?(t=v.configMerge(g.defaults.global.title,t),e.titleBlock?e.titleBlock.options=t:i(e,t)):(g.layoutService.removeBox(e,e.titleBlock),delete e.titleBlock)}})}},{}],36:[function(e,t,i){"use strict";t.exports=function(A){var $=A.helpers;function y(e,t){var i=$.color(e);return i.alpha(t*i.alpha()).rgbaString()}function r(e,t){return t&&($.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function R(e){var t=A.defaults.global,i=$.getValueOrDefault;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,bodyFontColor:e.bodyFontColor,_bodyFontFamily:i(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:i(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:i(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:i(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:i(e.titleFontStyle,t.defaultFontStyle),titleFontSize:i(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:i(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:i(e.footerFontStyle,t.defaultFontStyle),footerFontSize:i(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors}}A.defaults.global.tooltips={enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,callbacks:{beforeTitle:$.noop,title:function(e,t){var i="",a=t.labels,o=a?a.length:0;if(0<e.length){var n=e[0];n.xLabel?i=n.xLabel:0<o&&n.index<o&&(i=a[n.index])}return i},afterTitle:$.noop,beforeBody:$.noop,beforeLabel:$.noop,label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.yLabel},labelColor:function(e,t){var i=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},afterLabel:$.noop,afterBody:$.noop,beforeFooter:$.noop,footer:$.noop,afterFooter:$.noop}},A.Tooltip=A.Element.extend({initialize:function(){this._model=R(this._options)},getTitle:function(){var e=this._options.callbacks,t=e.beforeTitle.apply(this,arguments),i=e.title.apply(this,arguments),a=e.afterTitle.apply(this,arguments),o=[];return o=r(o=r(o=r(o,t),i),a)},getBeforeBody:function(){var e=this._options.callbacks.beforeBody.apply(this,arguments);return $.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,i){var a=this,o=a._options.callbacks,n=[];return $.each(e,function(e){var t={before:[],lines:[],after:[]};r(t.before,o.beforeLabel.call(a,e,i)),r(t.lines,o.label.call(a,e,i)),r(t.after,o.afterLabel.call(a,e,i)),n.push(t)}),n},getAfterBody:function(){var e=this._options.callbacks.afterBody.apply(this,arguments);return $.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this._options.callbacks,t=e.beforeFooter.apply(this,arguments),i=e.footer.apply(this,arguments),a=e.afterFooter.apply(this,arguments),o=[];return o=r(o=r(o=r(o,t),i),a)},update:function(e){var t,i,a,o,n,r,s,l,c,d,u,h,f,p,m,g,v,b,y,x=this,w=x._options,k=x._model,_=x._model=R(w),C=x._active,T=x._data,F=x._chartInstance,S={xAlign:k.xAlign,yAlign:k.yAlign},E={x:k.x,y:k.y},D={width:k.width,height:k.height},I={x:k.caretX,y:k.caretY};if(C.length){_.opacity=1;var P=[];I=A.Tooltip.positioners[w.position](C,x._eventPosition);var M=[];for(t=0,i=C.length;t<i;++t)M.push((m=C[t],v=g=void 0,g=m._xScale,v=m._yScale||m._scale,b=m._index,y=m._datasetIndex,{xLabel:g?g.getLabelForIndex(b,y):"",yLabel:v?v.getLabelForIndex(b,y):"",index:b,datasetIndex:y,x:m._model.x,y:m._model.y}));w.filter&&(M=M.filter(function(e){return w.filter(e,T)})),w.itemSort&&(M=M.sort(function(e,t){return w.itemSort(e,t,T)})),$.each(M,function(e){P.push(w.callbacks.labelColor.call(x,e,F))}),_.title=x.getTitle(M,T),_.beforeBody=x.getBeforeBody(M,T),_.body=x.getBody(M,T),_.afterBody=x.getAfterBody(M,T),_.footer=x.getFooter(M,T),_.x=Math.round(I.x),_.y=Math.round(I.y),_.caretPadding=$.getValueOrDefault(I.padding,2),_.labelColors=P,_.dataPoints=M,S=function(e,t){var i,a,o,n,r,s=e._model,l=e._chart,c=e._chartInstance.chartArea,d="center",u="center";s.y<t.height?u="top":s.y>l.height-t.height&&(u="bottom");var h=(c.left+c.right)/2,f=(c.top+c.bottom)/2;"center"===u?(i=function(e){return e<=h},a=function(e){return h<e}):(i=function(e){return e<=t.width/2},a=function(e){return e>=l.width-t.width/2}),o=function(e){return e+t.width>l.width},n=function(e){return e-t.width<0},r=function(e){return e<=f?"top":"bottom"},i(s.x)?(d="left",o(s.x)&&(d="center",u=r(s.y))):a(s.x)&&(d="right",n(s.x)&&(d="center",u=r(s.y)));var p=e._options;return{xAlign:p.xAlign?p.xAlign:d,yAlign:p.yAlign?p.yAlign:u}}(this,D=function(e,t){var i=e._chart.ctx,a=2*t.yPadding,o=0,n=t.body,r=n.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0);r+=t.beforeBody.length+t.afterBody.length;var s=t.title.length,l=t.footer.length,c=t.titleFontSize,d=t.bodyFontSize,u=t.footerFontSize;a+=s*c,a+=s?(s-1)*t.titleSpacing:0,a+=s?t.titleMarginBottom:0,a+=r*d,a+=r?(r-1)*t.bodySpacing:0,a+=l?t.footerMarginTop:0,a+=l*u,a+=l?(l-1)*t.footerSpacing:0;var h=0,f=function(e){o=Math.max(o,i.measureText(e).width+h)};return i.font=$.fontString(c,t._titleFontStyle,t._titleFontFamily),$.each(t.title,f),i.font=$.fontString(d,t._bodyFontStyle,t._bodyFontFamily),$.each(t.beforeBody.concat(t.afterBody),f),h=t.displayColors?d+2:0,$.each(n,function(e){$.each(e.before,f),$.each(e.lines,f),$.each(e.after,f)}),h=0,i.font=$.fontString(u,t._footerFontStyle,t._footerFontFamily),$.each(t.footer,f),{width:o+=2*t.xPadding,height:a}}(this,_)),o=D,n=S,r=(a=_).x,s=a.y,l=a.caretSize,c=a.caretPadding,d=a.cornerRadius,u=n.xAlign,h=n.yAlign,f=l+c,p=d+c,"right"===u?r-=o.width:"center"===u&&(r-=o.width/2),"top"===h?s+=f:s-="bottom"===h?o.height+f:o.height/2,"center"===h?"left"===u?r+=f:"right"===u&&(r-=f):"left"===u?r-=p:"right"===u&&(r+=p),E={x:r,y:s}}else _.opacity=0;return _.xAlign=S.xAlign,_.yAlign=S.yAlign,_.x=E.x,_.y=E.y,_.width=D.width,_.height=D.height,_.caretX=I.x,_.caretY=I.y,x._model=_,e&&w.custom&&w.custom.call(x,_),x},drawCaret:function(e,t,i){var a,o,n,r,s,l,c=this._view,d=this._chart.ctx,u=c.caretSize,h=c.cornerRadius,f=c.xAlign,p=c.yAlign,m=e.x,g=e.y,v=t.width,b=t.height;"center"===p?(o="left"===f?(a=m)-u:(a=m+v)+u,n=a,r=(s=g+b/2)-u,l=s+u):("left"===f?n=(o=(a=m+h)+u)+u:"right"===f?n=(o=(a=m+v-h)-u)-u:(a=(o=m+v/2)-u,n=o+u),s="top"===p?(r=g)-u:(r=g+b)+u,l=r),d.fillStyle=y(c.backgroundColor,i),d.beginPath(),d.moveTo(a,r),d.lineTo(o,s),d.lineTo(n,l),d.closePath(),d.fill()},drawTitle:function(e,t,i,a){var o=t.title;if(o.length){i.textAlign=t._titleAlign,i.textBaseline="top";var n,r,s=t.titleFontSize,l=t.titleSpacing;for(i.fillStyle=y(t.titleFontColor,a),i.font=$.fontString(s,t._titleFontStyle,t._titleFontFamily),n=0,r=o.length;n<r;++n)i.fillText(o[n],e.x,e.y),e.y+=s+l,n+1===o.length&&(e.y+=t.titleMarginBottom-l)}},drawBody:function(i,a,o,n){var r=a.bodyFontSize,t=a.bodySpacing,e=a.body;o.textAlign=a._bodyAlign,o.textBaseline="top";var s=y(a.bodyFontColor,n);o.fillStyle=s,o.font=$.fontString(r,a._bodyFontStyle,a._bodyFontFamily);var l=0,c=function(e){o.fillText(e,i.x+l,i.y),i.y+=r+t};$.each(a.beforeBody,c);var d=a.displayColors;l=d?r+2:0,$.each(e,function(e,t){$.each(e.before,c),$.each(e.lines,function(e){d&&(o.fillStyle=y(a.legendColorBackground,n),o.fillRect(i.x,i.y,r,r),o.strokeStyle=y(a.labelColors[t].borderColor,n),o.strokeRect(i.x,i.y,r,r),o.fillStyle=y(a.labelColors[t].backgroundColor,n),o.fillRect(i.x+1,i.y+1,r-2,r-2),o.fillStyle=s),c(e)}),$.each(e.after,c)}),l=0,$.each(a.afterBody,c),i.y-=t},drawFooter:function(t,i,a,e){var o=i.footer;o.length&&(t.y+=i.footerMarginTop,a.textAlign=i._footerAlign,a.textBaseline="top",a.fillStyle=y(i.footerFontColor,e),a.font=$.fontString(i.footerFontSize,i._footerFontStyle,i._footerFontFamily),$.each(o,function(e){a.fillText(e,t.x,t.y),t.y+=i.footerFontSize+i.footerSpacing}))},drawBackground:function(e,t,i,a,o){i.fillStyle=y(t.backgroundColor,o),$.drawRoundedRectangle(i,e.x,e.y,a.width,a.height,t.cornerRadius),i.fill()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var i={width:t.width,height:t.height},a={x:t.x,y:t.y},o=Math.abs(t.opacity<.001)?0:t.opacity;this._options.enabled&&(this.drawBackground(a,t,e,i,o),this.drawCaret(a,i,o),a.x+=t.xPadding,a.y+=t.yPadding,this.drawTitle(a,t,e,o),this.drawBody(a,t,e,o),this.drawFooter(a,t,e,o))}},handleEvent:function(e){var t=this,i=t._options,a=!1;if(t._lastActive=t._lastActive||[],"mouseout"===e.type?t._active=[]:t._active=t._chartInstance.getElementsAtEventForMode(e,i.mode,i),a=!$.arrayEquals(t._active,t._lastActive),t._lastActive=t._active,i.enabled||i.custom){t._eventPosition={x:e.x,y:e.y};var o=t._model;t.update(!0),t.pivot(),a|=o.x!==t._model.x||o.y!==t._model.y}return a}}),A.Tooltip.positioners={average:function(e){if(!e.length)return!1;var t,i,a=0,o=0,n=0;for(t=0,i=e.length;t<i;++t){var r=e[t];if(r&&r.hasValue()){var s=r.tooltipPosition();a+=s.x,o+=s.y,++n}}return{x:Math.round(a/n),y:Math.round(o/n)}},nearest:function(e,t){var i,a,o,n=t.x,r=t.y,s=Number.POSITIVE_INFINITY;for(a=0,o=e.length;a<o;++a){var l=e[a];if(l&&l.hasValue()){var c=l.getCenterPoint(),d=$.distanceBetweenPoints(t,c);d<s&&(s=d,i=l)}}if(i){var u=i.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}}}},{}],37:[function(e,t,i){"use strict";t.exports=function(e){var d=e.helpers,t=e.defaults.global;t.elements.arc={backgroundColor:t.defaultColor,borderColor:"#fff",borderWidth:2},e.elements.Arc=e.Element.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var i=this._view;if(i){for(var a=d.getAngleFromPoint(i,{x:e,y:t}),o=a.angle,n=a.distance,r=i.startAngle,s=i.endAngle;s<r;)s+=2*Math.PI;for(;s<o;)o-=2*Math.PI;for(;o<r;)o+=2*Math.PI;var l=r<=o&&o<=s,c=n>=i.innerRadius&&n<=i.outerRadius;return l&&c}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,i=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*i,y:e.y+Math.sin(t)*i}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,i=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*i,y:e.y+Math.sin(t)*i}},draw:function(){var e=this._chart.ctx,t=this._view,i=t.startAngle,a=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,i,a),e.arc(t.x,t.y,t.innerRadius,a,i,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})}},{}],38:[function(e,t,i){"use strict";t.exports=function(e){var f=e.helpers,p=e.defaults.global;e.defaults.global.elements.line={tension:.4,backgroundColor:p.defaultColor,borderWidth:3,borderColor:p.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0},e.elements.Line=e.Element.extend({draw:function(){var e=this._view,t=e.spanGaps,i=e.scaleZero,a=this._loop;a||("top"===e.fill?i=e.scaleTop:"bottom"===e.fill&&(i=e.scaleBottom));var o=this._chart.ctx;function n(e,t){var i=t._view;!0===t._view.steppedLine?(o.lineTo(i.x,e._view.y),o.lineTo(i.x,i.y)):0===t._view.tension?o.lineTo(i.x,i.y):o.bezierCurveTo(e._view.controlPointNextX,e._view.controlPointNextY,i.controlPointPreviousX,i.controlPointPreviousY,i.x,i.y)}o.save();var r,s,l,c,d=this._children.slice(),u=-1;if(a&&d.length&&d.push(d[0]),d.length&&e.fill){for(o.beginPath(),r=0;r<d.length;++r)s=d[r],l=f.previousItem(d,r),c=s._view,0===r?(a?o.moveTo(i.x,i.y):o.moveTo(c.x,i),c.skip||(u=r,o.lineTo(c.x,c.y))):(l=-1===u?l:d[u],c.skip?t||u!==r-1||(a?o.lineTo(i.x,i.y):o.lineTo(l._view.x,i)):(u!==r-1?t&&-1!==u?n(l,s):(a||o.lineTo(c.x,i),o.lineTo(c.x,c.y)):n(l,s),u=r));a||-1===u||o.lineTo(d[u]._view.x,i),o.fillStyle=e.backgroundColor||p.defaultColor,o.closePath(),o.fill()}var h=p.elements.line;for(o.lineCap=e.borderCapStyle||h.borderCapStyle,o.setLineDash&&o.setLineDash(e.borderDash||h.borderDash),o.lineDashOffset=e.borderDashOffset||h.borderDashOffset,o.lineJoin=e.borderJoinStyle||h.borderJoinStyle,o.lineWidth=e.borderWidth||h.borderWidth,o.strokeStyle=e.borderColor||p.defaultColor,o.beginPath(),u=-1,r=0;r<d.length;++r)s=d[r],l=f.previousItem(d,r),c=s._view,0===r?c.skip||(o.moveTo(c.x,c.y),u=r):(l=-1===u?l:d[u],c.skip||(u!==r-1&&!t||-1===u?o.moveTo(c.x,c.y):n(l,s),u=r));o.stroke(),o.restore()}})}},{}],39:[function(e,t,i){"use strict";t.exports=function(d){var u=d.helpers,h=d.defaults.global,f=h.defaultColor;function e(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)}h.elements.point={radius:3,pointStyle:"circle",backgroundColor:f,borderWidth:1,borderColor:f,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},d.elements.Point=d.Element.extend({inRange:function(e,t){var i=this._view;return!!i&&Math.pow(e-i.x,2)+Math.pow(t-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:e,inXRange:e,inYRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.y,2)<Math.pow(t.radius+t.hitRadius,2)},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,i=this._model,a=this._chart.ctx,o=t.pointStyle,n=t.radius,r=t.x,s=t.y,l=d.helpers.color,c=0;t.skip||(a.strokeStyle=t.borderColor||f,a.lineWidth=u.getValueOrDefault(t.borderWidth,h.elements.point.borderWidth),a.fillStyle=t.backgroundColor||f,void 0!==e&&(i.x<e.left||1.01*e.right<i.x||i.y<e.top||1.01*e.bottom<i.y)&&(i.x<e.left?c=(r-i.x)/(e.left-i.x):1.01*e.right<i.x?c=(i.x-r)/(i.x-e.right):i.y<e.top?c=(s-i.y)/(e.top-i.y):1.01*e.bottom<i.y&&(c=(i.y-s)/(i.y-e.bottom)),c=Math.round(100*c)/100,a.strokeStyle=l(a.strokeStyle).alpha(c).rgbString(),a.fillStyle=l(a.fillStyle).alpha(c).rgbString()),d.canvasHelpers.drawPoint(a,o,n,r,s))}})}},{}],40:[function(e,t,i){"use strict";t.exports=function(e){var t=e.defaults.global;function l(e){return void 0!==e._view.width}function o(e){var t,i,a,o,n=e._view;if(l(e)){var r=n.width/2;t=n.x-r,i=n.x+r,a=Math.min(n.y,n.base),o=Math.max(n.y,n.base)}else{var s=n.height/2;t=Math.min(n.x,n.base),i=Math.max(n.x,n.base),a=n.y-s,o=n.y+s}return{left:t,top:a,right:i,bottom:o}}t.elements.rectangle={backgroundColor:t.defaultColor,borderWidth:0,borderColor:t.defaultColor,borderSkipped:"bottom"},e.elements.Rectangle=e.Element.extend({draw:function(){var e,t,i,a,o,n,r,s=this._chart.ctx,l=this._view,c=l.borderWidth;if(l.horizontal?(e=l.base,t=l.x,i=l.y-l.height/2,a=l.y+l.height/2,o=e<t?1:-1,n=1,r=l.borderSkipped||"left"):(e=l.x-l.width/2,t=l.x+l.width/2,o=1,n=(i=l.y)<(a=l.base)?1:-1,r=l.borderSkipped||"bottom"),c){var d=Math.min(Math.abs(e-t),Math.abs(i-a)),u=(c=d<c?d:c)/2,h=e+("left"!==r?u*o:0),f=t+("right"!==r?-u*o:0),p=i+("top"!==r?u*n:0),m=a+("bottom"!==r?-u*n:0);h!==f&&(i=p,a=m),p!==m&&(e=h,t=f)}s.beginPath(),s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=c;var g=[[e,a],[e,i],[t,i],[t,a]],v=["bottom","left","top","right"].indexOf(r,0);function b(e){return g[(v+e)%4]}-1===v&&(v=0);var y=b(0);s.moveTo(y[0],y[1]);for(var x=1;x<4;x++)y=b(x),s.lineTo(y[0],y[1]);s.fill(),c&&s.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var i=!1;if(this._view){var a=o(this);i=e>=a.left&&e<=a.right&&t>=a.top&&t<=a.bottom}return i},inLabelRange:function(e,t){if(!this._view)return!1;var i=o(this);return l(this)?e>=i.left&&e<=i.right:t>=i.top&&t<=i.bottom},inXRange:function(e){var t=o(this);return e>=t.left&&e<=t.right},inYRange:function(e){var t=o(this);return e>=t.top&&e<=t.bottom},getCenterPoint:function(){var e,t,i=this._view;return l(this)?(e=i.x,t=(i.y+i.base)/2):(e=(i.x+i.base)/2,t=i.y),{x:e,y:t}},getArea:function(){var e=this._view;return e.width*Math.abs(e.y-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})}},{}],41:[function(e,t,i){"use strict";t.exports=function(e){var s=e.helpers,l={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function c(e,t){var i=s.getStyle(e,t),a=i&&i.match(/(\d+)px/);return a?Number(a[1]):void 0}function d(e,t,i,a,o){return{type:e,chart:t,native:o||null,x:void 0!==i?i:null,y:void 0!==a?a:null}}function o(e,t,i){var a,o,n=e._chartjs={ticking:!1};n.resizer=(a=function(){n.ticking||(n.ticking=!0,s.requestAnimFrame.call(window,function(){if(n.resizer)return n.ticking=!1,t(d("resize",i))}))},(o=document.createElement("iframe")).className="chartjs-hidden-iframe",o.style.cssText="display:block;overflow:hidden;border:0;margin:0;top:0;left:0;bottom:0;right:0;height:100%;width:100%;position:absolute;pointer-events:none;z-index:-1;",o.tabIndex=-1,s.addEvent(o,"load",function(){s.addEvent(o.contentWindow||o,"resize",a),a()}),o),e.insertBefore(n.resizer,e.firstChild)}return{acquireContext:function(e,t){if("string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e instanceof HTMLCanvasElement){var i=e.getContext&&e.getContext("2d");if(i instanceof CanvasRenderingContext2D)return function(e,t){var i=e.style,a=e.getAttribute("height"),o=e.getAttribute("width");if(e._chartjs={initial:{height:a,width:o,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===o||""===o){var n=c(e,"width");void 0!==n&&(e.width=n)}if(null===a||""===a)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var r=c(e,"height");void 0!==n&&(e.height=r)}}(e,t),i}return null},releaseContext:function(e){var i=e.canvas;if(i._chartjs){var a=i._chartjs.initial;["height","width"].forEach(function(e){var t=a[e];null==t?i.removeAttribute(e):i.setAttribute(e,t)}),s.each(a.style||{},function(e,t){i.style[t]=e}),i.width=i.width,delete i._chartjs}},addEventListener:function(n,e,r){var t=n.chart.canvas;if("resize"!==e){var i=r._chartjs||(r._chartjs={}),a=(i.proxies||(i.proxies={}))[n.id+"_"+e]=function(e){var t,i,a,o;r((t=e,i=n.chart,a=l[t.type]||t.type,o=s.getRelativePosition(t,i),d(a,i,o.x,o.y,t)))};s.addEvent(t,e,a)}else o(t.parentNode,r,n.chart)},removeEventListener:function(e,t,i){var a=e.chart.canvas;if("resize"!==t){var o=((i._chartjs||{}).proxies||{})[e.id+"_"+t];o&&s.removeEvent(a,t,o)}else!function(e){if(e&&e._chartjs){var t=e._chartjs.resizer;t&&(t.parentNode.removeChild(t),e._chartjs.resizer=null),delete e._chartjs}}(a.parentNode)}}}},{}],42:[function(e,t,i){"use strict";var a=e(41);t.exports=function(e){e.platform={acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},e.helpers.extend(e.platform,a(e))}},{41:41}],43:[function(e,t,i){"use strict";t.exports=function(e){var a=e.helpers,t=e.Scale.extend({getLabels:function(){var e=this.chart.data;return(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e,t=this,i=t.getLabels();t.minIndex=0,t.maxIndex=i.length-1,void 0!==t.options.ticks.min&&(e=a.indexOf(i,t.options.ticks.min),t.minIndex=-1!==e?e:t.minIndex),void 0!==t.options.ticks.max&&(e=a.indexOf(i,t.options.ticks.max),t.maxIndex=-1!==e?e:t.maxIndex),t.min=i[t.minIndex],t.max=i[t.maxIndex]},buildTicks:function(){var e=this.getLabels();this.ticks=0===this.minIndex&&this.maxIndex===e.length-1?e:e.slice(this.minIndex,this.maxIndex+1)},getLabelForIndex:function(e,t){var i=this.chart.data,a=this.isHorizontal();return i.yLabels&&!a?this.getRightValue(i.datasets[t].data[e]):this.ticks[e-this.minIndex]},getPixelForValue:function(e,t,i,a){var o=this,n=Math.max(o.maxIndex+1-o.minIndex-(o.options.gridLines.offsetGridLines?0:1),1);if(void 0!==e&&isNaN(t)){var r=o.getLabels().indexOf(e);t=-1!==r?r:t}if(o.isHorizontal()){var s=o.width/n,l=s*(t-o.minIndex);return(o.options.gridLines.offsetGridLines&&a||o.maxIndex===o.minIndex&&a)&&(l+=s/2),o.left+Math.round(l)}var c=o.height/n,d=c*(t-o.minIndex);return o.options.gridLines.offsetGridLines&&a&&(d+=c/2),o.top+Math.round(d)},getPixelForTick:function(e,t){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null,t)},getValueForPixel:function(e){var t=Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),i=this.isHorizontal(),a=(i?this.width:this.height)/t;return e-=i?this.left:this.top,this.options.gridLines.offsetGridLines&&(e-=a/2),e<=0?0:Math.round(e/a)},getBasePixel:function(){return this.bottom}});e.scaleService.registerScaleType("category",t,{position:"bottom"})}},{}],44:[function(e,t,i){"use strict";t.exports=function(a){var u=a.helpers,e={position:"left",ticks:{callback:a.Ticks.formatters.linear}},t=a.LinearScaleBase.extend({determineDataLimits:function(){var r=this,s=r.options,l=r.chart,e=l.data.datasets,t=r.isHorizontal();function c(e){return t?e.xAxisID===r.id:e.yAxisID===r.id}r.min=null,r.max=null;var a=s.stacked;if(void 0===a&&u.each(e,function(e,t){if(!a){var i=l.getDatasetMeta(t);l.isDatasetVisible(t)&&c(i)&&void 0!==i.stack&&(a=!0)}}),s.stacked||a){var d={};u.each(e,function(e,t){var a=l.getDatasetMeta(t),i=[a.type,void 0===s.stacked&&void 0===a.stack?t:"",a.stack].join(".");void 0===d[i]&&(d[i]={positiveValues:[],negativeValues:[]});var o=d[i].positiveValues,n=d[i].negativeValues;l.isDatasetVisible(t)&&c(a)&&u.each(e.data,function(e,t){var i=+r.getRightValue(e);isNaN(i)||a.data[t].hidden||(o[t]=o[t]||0,n[t]=n[t]||0,s.relativePoints?o[t]=100:i<0?n[t]+=i:o[t]+=i)})}),u.each(d,function(e){var t=e.positiveValues.concat(e.negativeValues),i=u.min(t),a=u.max(t);r.min=null===r.min?i:Math.min(r.min,i),r.max=null===r.max?a:Math.max(r.max,a)})}else u.each(e,function(e,t){var a=l.getDatasetMeta(t);l.isDatasetVisible(t)&&c(a)&&u.each(e.data,function(e,t){var i=+r.getRightValue(e);isNaN(i)||a.data[t].hidden||(null===r.min?r.min=i:i<r.min&&(r.min=i),null===r.max?r.max=i:i>r.max&&(r.max=i))})});this.handleTickRangeOptions()},getTickLimit:function(){var e,t=this.options.ticks;if(this.isHorizontal())e=Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.width/50));else{var i=u.getValueOrDefault(t.fontSize,a.defaults.global.defaultFontSize);e=Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.height/(2*i)))}return e},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t,i=this.start,a=+this.getRightValue(e),o=this.end-i;return t=this.isHorizontal()?this.left+this.width/o*(a-i):this.bottom-this.height/o*(a-i),Math.round(t)},getValueForPixel:function(e){var t=this.isHorizontal(),i=t?this.width:this.height,a=(t?e-this.left:this.bottom-e)/i;return this.start+(this.end-this.start)*a},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}});a.scaleService.registerScaleType("linear",t,e)}},{}],45:[function(e,t,i){"use strict";t.exports=function(n){var r=n.helpers,e=r.noop;n.LinearScaleBase=n.Scale.extend({handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var i=r.sign(e.min),a=r.sign(e.max);i<0&&a<0?e.max=0:0<i&&0<a&&(e.min=0)}void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(e.min=Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(e.max=Math.max(e.max,t.suggestedMax)),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:e,handleDirectionalChanges:e,buildTicks:function(){var e=this,t=e.options.ticks,i=e.getTickLimit(),a={maxTicks:i=Math.max(2,i),min:t.min,max:t.max,stepSize:r.getValueOrDefault(t.fixedStepSize,t.stepSize)},o=e.ticks=n.Ticks.generators.linear(a,e);e.handleDirectionalChanges(),e.max=r.max(o),e.min=r.min(o),t.reverse?(o.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){this.ticksAsNumbers=this.ticks.slice(),this.zeroLineIndex=this.ticks.indexOf(0),n.Scale.prototype.convertTicksToLabels.call(this)}})}},{}],46:[function(e,t,i){"use strict";t.exports=function(o){var u=o.helpers,e={position:"left",ticks:{callback:o.Ticks.formatters.logarithmic}},t=o.Scale.extend({determineDataLimits:function(){var r=this,s=r.options,e=s.ticks,l=r.chart,t=l.data.datasets,i=u.getValueOrDefault,a=r.isHorizontal();function c(e){return a?e.xAxisID===r.id:e.yAxisID===r.id}r.min=null,r.max=null,r.minNotZero=null;var o=s.stacked;if(void 0===o&&u.each(t,function(e,t){if(!o){var i=l.getDatasetMeta(t);l.isDatasetVisible(t)&&c(i)&&void 0!==i.stack&&(o=!0)}}),s.stacked||o){var d={};u.each(t,function(e,t){var o=l.getDatasetMeta(t),n=[o.type,void 0===s.stacked&&void 0===o.stack?t:"",o.stack].join(".");l.isDatasetVisible(t)&&c(o)&&(void 0===d[n]&&(d[n]=[]),u.each(e.data,function(e,t){var i=d[n],a=+r.getRightValue(e);isNaN(a)||o.data[t].hidden||(i[t]=i[t]||0,s.relativePoints?i[t]=100:i[t]+=a)}))}),u.each(d,function(e){var t=u.min(e),i=u.max(e);r.min=null===r.min?t:Math.min(r.min,t),r.max=null===r.max?i:Math.max(r.max,i)})}else u.each(t,function(e,t){var a=l.getDatasetMeta(t);l.isDatasetVisible(t)&&c(a)&&u.each(e.data,function(e,t){var i=+r.getRightValue(e);isNaN(i)||a.data[t].hidden||(null===r.min?r.min=i:i<r.min&&(r.min=i),null===r.max?r.max=i:i>r.max&&(r.max=i),0!==i&&(null===r.minNotZero||i<r.minNotZero)&&(r.minNotZero=i))})});r.min=i(e.min,r.min),r.max=i(e.max,r.max),r.min===r.max&&(0!==r.min&&null!==r.min?(r.min=Math.pow(10,Math.floor(u.log10(r.min))-1),r.max=Math.pow(10,Math.floor(u.log10(r.max))+1)):(r.min=1,r.max=10))},buildTicks:function(){var e=this,t=e.options.ticks,i={min:t.min,max:t.max},a=e.ticks=o.Ticks.generators.logarithmic(i,e);e.isHorizontal()||a.reverse(),e.max=u.max(a),e.min=u.min(a),t.reverse?(a.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),o.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},getPixelForValue:function(e){var t,i,a,o=this,n=o.start,r=+o.getRightValue(e),s=o.options.ticks;return o.isHorizontal()?(a=u.log10(o.end)-u.log10(n),0===r?i=o.left:(t=o.width,i=o.left+t/a*(u.log10(r)-u.log10(n)))):(t=o.height,0!==n||s.reverse?0===o.end&&s.reverse?(a=u.log10(o.start)-u.log10(o.minNotZero),i=r===o.end?o.top:r===o.minNotZero?o.top+.02*t:o.top+.02*t+.98*t/a*(u.log10(r)-u.log10(o.minNotZero))):(a=u.log10(o.end)-u.log10(n),t=o.height,i=o.bottom-t/a*(u.log10(r)-u.log10(n))):(a=u.log10(o.end)-u.log10(o.minNotZero),i=r===n?o.bottom:r===o.minNotZero?o.bottom-.02*t:o.bottom-.02*t-.98*t/a*(u.log10(r)-u.log10(o.minNotZero)))),i},getValueForPixel:function(e){var t,i,a=u.log10(this.end)-u.log10(this.start);return this.isHorizontal()?(i=this.width,t=this.start*Math.pow(10,(e-this.left)*a/i)):(i=this.height,t=Math.pow(10,(this.bottom-e)*a/i)/this.start),t}});o.scaleService.registerScaleType("logarithmic",t,e)}},{}],47:[function(e,t,i){"use strict";t.exports=function(e){var b=e.helpers,y=e.defaults.global,t={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:e.Ticks.formatters.linear},pointLabels:{fontSize:10,callback:function(e){return e}}};function x(e){return e.options.lineArc?0:e.chart.data.labels.length}function w(e){var t=e.options.pointLabels,i=b.getValueOrDefault(t.fontSize,y.defaultFontSize),a=b.getValueOrDefault(t.fontStyle,y.defaultFontStyle),o=b.getValueOrDefault(t.fontFamily,y.defaultFontFamily);return{size:i,style:a,family:o,font:b.fontString(i,a,o)}}function g(e,t,i,a,o){return e===a||e===o?{start:t-i/2,end:t+i/2}:e<a||o<e?{start:t-i-5,end:t}:{start:t,end:t+i+5}}function k(e,t,i,a){if(b.isArray(t))for(var o=i.y,n=1.5*a,r=0;r<t.length;++r)e.fillText(t[r],i.x,o),o+=n;else e.fillText(t,i.x,i.y)}function s(e){return b.isNumber(e)?e:0}var i=e.LinearScaleBase.extend({setDimensions:function(){var e=this,t=e.options,i=t.ticks;e.width=e.maxWidth,e.height=e.maxHeight,e.xCenter=Math.round(e.width/2),e.yCenter=Math.round(e.height/2);var a=b.min([e.height,e.width]),o=b.getValueOrDefault(i.fontSize,y.defaultFontSize);e.drawingArea=t.display?a/2-(o/2+i.backdropPaddingY):a/2},determineDataLimits:function(){var o=this,i=o.chart,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;b.each(i.data.datasets,function(e,t){if(i.isDatasetVisible(t)){var a=i.getDatasetMeta(t);b.each(e.data,function(e,t){var i=+o.getRightValue(e);isNaN(i)||a.data[t].hidden||(n=Math.min(i,n),r=Math.max(i,r))})}}),o.min=n===Number.POSITIVE_INFINITY?0:n,o.max=r===Number.NEGATIVE_INFINITY?0:r,o.handleTickRangeOptions()},getTickLimit:function(){var e=this.options.ticks,t=b.getValueOrDefault(e.fontSize,y.defaultFontSize);return Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*t)))},convertTicksToLabels:function(){e.LinearScaleBase.prototype.convertTicksToLabels.call(this),this.pointLabels=this.chart.data.labels.map(this.options.pointLabels.callback,this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e,t;this.options.lineArc?(e=this,t=Math.min(e.height/2,e.width/2),e.drawingArea=Math.round(t),e.setCenterPoint(0,0,0,0)):function(e){var t,i,a,o=w(e),n=Math.min(e.height/2,e.width/2),r={l:e.width,r:0,t:e.height,b:0},s={};e.ctx.font=o.font,e._pointLabelSizes=[];var l,c,d,u=x(e);for(t=0;t<u;t++){a=e.getPointPosition(t,n),l=e.ctx,c=o.size,d=e.pointLabels[t]||"",i=b.isArray(d)?{w:b.longestText(l,l.font,d),h:d.length*c+1.5*(d.length-1)*c}:{w:l.measureText(d).width,h:c},e._pointLabelSizes[t]=i;var h=e.getIndexAngle(t),f=b.toDegrees(h)%360,p=g(f,a.x,i.w,0,180),m=g(f,a.y,i.h,90,270);p.start<r.l&&(r.l=p.start,s.l=h),p.end>r.r&&(r.r=p.end,s.r=h),m.start<r.t&&(r.t=m.start,s.t=h),m.end>r.b&&(r.b=m.end,s.b=h)}e.setReductions(n,r,s)}(this)},setReductions:function(e,t,i){var a=t.l/Math.sin(i.l),o=Math.max(t.r-this.width,0)/Math.sin(i.r),n=-t.t/Math.cos(i.t),r=-Math.max(t.b-this.height,0)/Math.cos(i.b);a=s(a),o=s(o),n=s(n),r=s(r),this.drawingArea=Math.min(Math.round(e-(a+o)/2),Math.round(e-(n+r)/2)),this.setCenterPoint(a,o,n,r)},setCenterPoint:function(e,t,i,a){var o=this,n=o.width-t-o.drawingArea,r=e+o.drawingArea,s=i+o.drawingArea,l=o.height-a-o.drawingArea;o.xCenter=Math.round((r+n)/2+o.left),o.yCenter=Math.round((s+l)/2+o.top)},getIndexAngle:function(e){return e*(2*Math.PI/x(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){if(null===e)return 0;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t},getPointPosition:function(e,t){var i=this.getIndexAngle(e)-Math.PI/2;return{x:Math.round(Math.cos(i)*t)+this.xCenter,y:Math.round(Math.sin(i)*t)+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this.min,t=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:e<0&&t<0?t:0<e&&0<t?e:0)},draw:function(){var r=this,s=r.options,l=s.gridLines,c=s.ticks,d=b.getValueOrDefault;if(s.display){var u=r.ctx,h=d(c.fontSize,y.defaultFontSize),e=d(c.fontStyle,y.defaultFontStyle),t=d(c.fontFamily,y.defaultFontFamily),f=b.fontString(h,e,t);b.each(r.ticks,function(e,t){if(0<t||s.reverse){var i=r.getDistanceFromCenterForValue(r.ticksAsNumbers[t]),a=r.yCenter-i;if(l.display&&0!==t&&function(e,t,i,a){var o=e.ctx;if(o.strokeStyle=b.getValueAtIndexOrDefault(t.color,a-1),o.lineWidth=b.getValueAtIndexOrDefault(t.lineWidth,a-1),e.options.lineArc)o.beginPath(),o.arc(e.xCenter,e.yCenter,i,0,2*Math.PI),o.closePath(),o.stroke();else{var n=x(e);if(0===n)return;o.beginPath();var r=e.getPointPosition(0,i);o.moveTo(r.x,r.y);for(var s=1;s<n;s++)r=e.getPointPosition(s,i),o.lineTo(r.x,r.y);o.closePath(),o.stroke()}}(r,l,i,t),c.display){var o=d(c.fontColor,y.defaultFontColor);if(u.font=f,c.showLabelBackdrop){var n=u.measureText(e).width;u.fillStyle=c.backdropColor,u.fillRect(r.xCenter-n/2-c.backdropPaddingX,a-h/2-c.backdropPaddingY,n+2*c.backdropPaddingX,h+2*c.backdropPaddingY)}u.textAlign="center",u.textBaseline="middle",u.fillStyle=o,u.fillText(e,r.xCenter,a)}}}),s.lineArc||function(e){var t=e.ctx,i=b.getValueOrDefault,a=e.options,o=a.angleLines,n=a.pointLabels;t.lineWidth=o.lineWidth,t.strokeStyle=o.color;var r,s,l,c,d=e.getDistanceFromCenterForValue(a.reverse?e.min:e.max),u=w(e);t.textBaseline="top";for(var h=x(e)-1;0<=h;h--){if(o.display){var f=e.getPointPosition(h,d);t.beginPath(),t.moveTo(e.xCenter,e.yCenter),t.lineTo(f.x,f.y),t.stroke(),t.closePath()}var p=e.getPointPosition(h,d+5),m=i(n.fontColor,y.defaultFontColor);t.font=u.font,t.fillStyle=m;var g=e.getIndexAngle(h),v=b.toDegrees(g);t.textAlign=0===(c=v)||180===c?"center":c<180?"left":"right",r=v,s=e._pointLabelSizes[h],l=p,90===r||270===r?l.y-=s.h/2:(270<r||r<90)&&(l.y-=s.h),k(t,e.pointLabels[h]||"",p,u.size)}}(r)}}});e.scaleService.registerScaleType("radialLinear",i,t)}},{}],48:[function(e,t,i){"use strict";var r=e(1);r="function"==typeof r?r:window.moment,t.exports=function(y){var x=y.helpers,w={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},e=y.Scale.extend({initialize:function(){if(!r)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");y.Scale.prototype.initialize.call(this)},getLabelMoment:function(e,t){return null===e||null===t?null:void 0!==this.labelMoments[e]?this.labelMoments[e][t]:null},getLabelDiff:function(e,t){return null===e||null===t?null:(void 0===this.labelDiffs&&this.buildLabelDiffs(),void 0!==this.labelDiffs[e]?this.labelDiffs[e][t]:null)},getMomentStartOf:function(e){return"week"===this.options.time.unit&&!1!==this.options.time.isoWeekday?e.clone().startOf("isoWeek").isoWeekday(this.options.time.isoWeekday):e.clone().startOf(this.tickUnit)},determineDataLimits:function(){var o=this;o.labelMoments=[];var n=[];o.chart.data.labels&&0<o.chart.data.labels.length?(x.each(o.chart.data.labels,function(e){var t=o.parseTime(e);t.isValid()&&(o.options.time.round&&t.startOf(o.options.time.round),n.push(t))},o),o.firstTick=r.min.call(o,n),o.lastTick=r.max.call(o,n)):(o.firstTick=null,o.lastTick=null),x.each(o.chart.data.datasets,function(e,t){var i=[],a=o.chart.isDatasetVisible(t);"object"==typeof e.data[0]&&null!==e.data[0]?x.each(e.data,function(e){var t=o.parseTime(o.getRightValue(e));t.isValid()&&(o.options.time.round&&t.startOf(o.options.time.round),i.push(t),a&&(o.firstTick=null!==o.firstTick?r.min(o.firstTick,t):t,o.lastTick=null!==o.lastTick?r.max(o.lastTick,t):t))},o):i=n,o.labelMoments.push(i)},o),o.options.time.min&&(o.firstTick=o.parseTime(o.options.time.min)),o.options.time.max&&(o.lastTick=o.parseTime(o.options.time.max)),o.firstTick=(o.firstTick||r()).clone(),o.lastTick=(o.lastTick||r()).clone()},buildLabelDiffs:function(){var a=this;a.labelDiffs=[];var o=[];a.chart.data.labels&&0<a.chart.data.labels.length&&x.each(a.chart.data.labels,function(e){var t=a.parseTime(e);t.isValid()&&(a.options.time.round&&t.startOf(a.options.time.round),o.push(t.diff(a.firstTick,a.tickUnit,!0)))},a),x.each(a.chart.data.datasets,function(e){var i=[];"object"==typeof e.data[0]&&null!==e.data[0]?x.each(e.data,function(e){var t=a.parseTime(a.getRightValue(e));t.isValid()&&(a.options.time.round&&t.startOf(a.options.time.round),i.push(t.diff(a.firstTick,a.tickUnit,!0)))},a):i=o,a.labelDiffs.push(i)},a)},buildTicks:function(){var e=this;e.ctx.save();var t,i=x.getValueOrDefault(e.options.ticks.fontSize,y.defaults.global.defaultFontSize),a=x.getValueOrDefault(e.options.ticks.fontStyle,y.defaults.global.defaultFontStyle),o=x.getValueOrDefault(e.options.ticks.fontFamily,y.defaults.global.defaultFontFamily),n=x.fontString(i,a,o);if(e.ctx.font=n,e.ticks=[],e.unitScale=1,e.scaleSizeInUnits=0,e.options.time.unit)e.tickUnit=e.options.time.unit||"day",e.displayFormat=e.options.time.displayFormats[e.tickUnit],e.scaleSizeInUnits=e.lastTick.diff(e.firstTick,e.tickUnit,!0),e.unitScale=x.getValueOrDefault(e.options.time.unitStepSize,1);else{var r=e.isHorizontal()?e.width:e.height,s=e.tickFormatFunction(e.firstTick,0,[]),l=e.ctx.measureText(s).width,c=r/(l=l*Math.cos(x.toRadians(e.options.ticks.maxRotation))+i*Math.sin(x.toRadians(e.options.ticks.maxRotation)));e.tickUnit=e.options.time.minUnit,e.scaleSizeInUnits=e.lastTick.diff(e.firstTick,e.tickUnit,!0),e.displayFormat=e.options.time.displayFormats[e.tickUnit];for(var d=0,u=w.units[d];d<w.units.length;){if(e.unitScale=1,x.isArray(u.steps)&&Math.ceil(e.scaleSizeInUnits/c)<x.max(u.steps)){for(var h=0;h<u.steps.length;++h)if(u.steps[h]>=Math.ceil(e.scaleSizeInUnits/c)){e.unitScale=x.getValueOrDefault(e.options.time.unitStepSize,u.steps[h]);break}break}if(!1===u.maxStep||Math.ceil(e.scaleSizeInUnits/c)<u.maxStep){e.unitScale=x.getValueOrDefault(e.options.time.unitStepSize,Math.ceil(e.scaleSizeInUnits/c));break}u=w.units[++d],e.tickUnit=u.name;var f=e.firstTick.diff(e.getMomentStartOf(e.firstTick),e.tickUnit,!0),p=e.getMomentStartOf(e.lastTick.clone().add(1,e.tickUnit)).diff(e.lastTick,e.tickUnit,!0);e.scaleSizeInUnits=e.lastTick.diff(e.firstTick,e.tickUnit,!0)+f+p,e.displayFormat=e.options.time.displayFormats[u.name]}}if(e.options.time.min?t=e.getMomentStartOf(e.firstTick):(e.firstTick=e.getMomentStartOf(e.firstTick),t=e.firstTick),!e.options.time.max){var m=e.getMomentStartOf(e.lastTick),g=m.diff(e.lastTick,e.tickUnit,!0);g<0?e.lastTick=e.getMomentStartOf(e.lastTick.add(1,e.tickUnit)):0<=g&&(e.lastTick=m),e.scaleSizeInUnits=e.lastTick.diff(e.firstTick,e.tickUnit,!0)}e.options.time.displayFormat&&(e.displayFormat=e.options.time.displayFormat),e.ticks.push(e.firstTick.clone());for(var v=e.unitScale;v<=e.scaleSizeInUnits;v+=e.unitScale){var b=t.clone().add(v,e.tickUnit);if(e.options.time.max&&0<=b.diff(e.lastTick,e.tickUnit,!0))break;e.ticks.push(b)}0===e.ticks[e.ticks.length-1].diff(e.lastTick,e.tickUnit)&&0!==e.scaleSizeInUnits||(e.options.time.max?(e.ticks.push(e.lastTick.clone()),e.scaleSizeInUnits=e.lastTick.diff(e.ticks[0],e.tickUnit,!0)):(e.ticks.push(e.lastTick.clone()),e.scaleSizeInUnits=e.lastTick.diff(e.firstTick,e.tickUnit,!0))),e.ctx.restore(),e.labelDiffs=void 0},getLabelForIndex:function(e,t){var i=this.chart.data.labels&&e<this.chart.data.labels.length?this.chart.data.labels[e]:"",a=this.chart.data.datasets[t].data[e];return null!==a&&"object"==typeof a&&(i=this.getRightValue(a)),this.options.time.tooltipFormat&&(i=this.parseTime(i).format(this.options.time.tooltipFormat)),i},tickFormatFunction:function(e,t,i){var a=e.format(this.displayFormat),o=this.options.ticks,n=x.getValueOrDefault(o.callback,o.userCallback);return n?n(a,t,i):a},convertTicksToLabels:function(){this.tickMoments=this.ticks,this.ticks=this.ticks.map(this.tickFormatFunction,this)},getPixelForValue:function(e,t,i){var a=this,o=null;if(void 0!==t&&void 0!==i&&(o=a.getLabelDiff(i,t)),null===o&&(e&&e.isValid||(e=a.parseTime(a.getRightValue(e))),e&&e.isValid&&e.isValid()&&(o=e.diff(a.firstTick,a.tickUnit,!0))),null!==o){var n=0!==o?o/a.scaleSizeInUnits:o;if(a.isHorizontal()){var r=a.width*n;return a.left+Math.round(r)}var s=a.height*n;return a.top+Math.round(s)}},getPixelForTick:function(e){return this.getPixelForValue(this.tickMoments[e],null,null)},getValueForPixel:function(e){var t=this.isHorizontal()?this.width:this.height,i=(e-(this.isHorizontal()?this.left:this.top))/t;return i*=this.scaleSizeInUnits,this.firstTick.clone().add(r.duration(i,this.tickUnit).asSeconds(),"seconds")},parseTime:function(e){return"string"==typeof this.options.time.parser?r(e,this.options.time.parser):"function"==typeof this.options.time.parser?this.options.time.parser(e):"function"==typeof e.getMonth||"number"==typeof e?r(e):e.isValid&&e.isValid()?e:"string"!=typeof this.options.time.format&&this.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),this.options.time.format(e)):r(e,this.options.time.format)}});y.scaleService.registerScaleType("time",e,{position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}})}},{1:1}]},{},[7])(7)}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.lightbox=t(e.jQuery)}(this,function(u){function e(e){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=u.extend({},this.constructor.defaults),this.option(e)}return e.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},e.prototype.option=function(e){u.extend(this.options,e)},e.prototype.imageCountLabel=function(e,t){return this.options.albumLabel.replace(/%1/g,e).replace(/%2/g,t)},e.prototype.init=function(){var e=this;u(document).ready(function(){e.enable(),e.build()})},e.prototype.enable=function(){var t=this;u("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(e){return t.start(u(e.currentTarget)),!1})},e.prototype.build=function(){var t=this;u('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(u("body")),this.$lightbox=u("#lightbox"),this.$overlay=u("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return t.end(),!1}),this.$lightbox.hide().on("click",function(e){return"lightbox"===u(e.target).attr("id")&&t.end(),!1}),this.$outerContainer.on("click",function(e){return"lightbox"===u(e.target).attr("id")&&t.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===t.currentImageIndex?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1}),this.$nav.on("mousedown",function(e){3===e.which&&(t.$nav.css("pointer-events","none"),t.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(t),0)}))}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return t.end(),!1})},e.prototype.start=function(e){var t=this,i=u(window);i.on("resize",u.proxy(this.sizeOverlay,this)),u("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var a=0;function o(e){t.album.push({link:e.attr("href"),title:e.attr("data-title")||e.attr("title")})}var n,r=e.attr("data-lightbox");if(r){n=u(e.prop("tagName")+'[data-lightbox="'+r+'"]');for(var s=0;s<n.length;s=++s)o(u(n[s])),n[s]===e[0]&&(a=s)}else if("lightbox"===e.attr("rel"))o(e);else{n=u(e.prop("tagName")+'[rel="'+e.attr("rel")+'"]');for(var l=0;l<n.length;l=++l)o(u(n[l])),n[l]===e[0]&&(a=l)}var c=i.scrollTop()+this.options.positionFromTop,d=i.scrollLeft();this.$lightbox.css({top:c+"px",left:d+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&u("body").addClass("lb-disable-scrolling"),this.changeImage(a)},e.prototype.changeImage=function(r){var s=this;this.disableKeyboardNav();var l=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),u(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var c=new Image;c.onload=function(){var e,t,i,a,o,n;l.attr("src",s.album[r].link),u(c),l.width(c.width),l.height(c.height),s.options.fitImagesInViewport&&(n=u(window).width(),o=u(window).height(),a=n-s.containerPadding.left-s.containerPadding.right-s.imageBorderWidth.left-s.imageBorderWidth.right-20,i=o-s.containerPadding.top-s.containerPadding.bottom-s.imageBorderWidth.top-s.imageBorderWidth.bottom-120,s.options.maxWidth&&s.options.maxWidth<a&&(a=s.options.maxWidth),s.options.maxHeight&&s.options.maxHeight<a&&(i=s.options.maxHeight),(c.width>a||c.height>i)&&(c.width/a>c.height/i?(t=a,e=parseInt(c.height/(c.width/t),10)):(e=i,t=parseInt(c.width/(c.height/e),10)),l.width(t),l.height(e))),s.sizeContainer(l.width(),l.height())},c.src=this.album[r].link,this.currentImageIndex=r},e.prototype.sizeOverlay=function(){this.$overlay.width(u(document).width()).height(u(document).height())},e.prototype.sizeContainer=function(e,t){var i=this,a=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),n=e+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,r=t+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;function s(){i.$lightbox.find(".lb-dataContainer").width(n),i.$lightbox.find(".lb-prevLink").height(r),i.$lightbox.find(".lb-nextLink").height(r),i.showImage()}a!==n||o!==r?this.$outerContainer.animate({width:n,height:r},this.options.resizeDuration,"swing",function(){s()}):s()},e.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},e.prototype.updateNav=function(){var e=!1;try{document.createEvent("TouchEvent"),e=!!this.options.alwaysShowNavOnTouchDevices}catch(e){}this.$lightbox.find(".lb-nav").show(),1<this.album.length&&(this.options.wrapAround?(e&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(0<this.currentImageIndex&&(this.$lightbox.find(".lb-prev").show(),e&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),e&&this.$lightbox.find(".lb-next").css("opacity","1"))))},e.prototype.updateDetails=function(){var e=this;if(void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title){var t=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?t.text(this.album[this.currentImageIndex].title):t.html(this.album[this.currentImageIndex].title),t.fadeIn("fast").find("a").on("click",function(e){void 0!==u(this).attr("target")?window.open(u(this).attr("href"),u(this).attr("target")):location.href=u(this).attr("href")})}if(1<this.album.length&&this.options.showImageNumberLabel){var i=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(i).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return e.sizeOverlay()})},e.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link);0<this.currentImageIndex&&((new Image).src=this.album[this.currentImageIndex-1].link)},e.prototype.enableKeyboardNav=function(){u(document).on("keyup.keyboard",u.proxy(this.keyboardAction,this))},e.prototype.disableKeyboardNav=function(){u(document).off(".keyboard")},e.prototype.keyboardAction=function(e){var t=e.keyCode,i=String.fromCharCode(t).toLowerCase();27===t||i.match(/x|o|c/)?this.end():"p"===i||37===t?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&1<this.album.length&&this.changeImage(this.album.length-1):"n"!==i&&39!==t||(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&1<this.album.length&&this.changeImage(0))},e.prototype.end=function(){this.disableKeyboardNav(),u(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),u("select, object, embed").css({visibility:"visible"}),this.options.disableScrolling&&u("body").removeClass("lb-disable-scrolling")},new e});var selectOk=!1,autocomplete={iniciarSearchRutaNombre:function(e,t,i){autocomplete.iniciarsearch("buscarPorTexto",route.ruta,e,t,void 0,autocomplete.rutaXnombre.success,autocomplete.rutaXnombre.selected,i)},iniciarSearchUsuarioNombre:function(e,t,i){autocomplete.iniciarsearch("buscarUsuarioPorTexto",route.configuracionPush,e,t,void 0,autocomplete.usuarioXnombre.success,autocomplete.usuarioXnombre.selected,i)},iniciarsearch:function(e,t,i,a,o,n,r,s,l){var c="";c=void 0===t.area?t.controller+"/"+e:t.area+"/"+t.controller+"/"+e,$.ui.autocomplete.prototype._renderItem=function(e,t){return $("<li></li>").data("item.autocomplete",t).append(t.customHtml).appendTo(e)};$(i).autocomplete({position:{collision:"flip"},source:function(e,t){var i={maximoItems:15};i.filtro=e.term,$.ajax({url:c,data:i,success:function(e){t($.map(e,function(e){return n(e)}))}}),selectOk=!1,void 0!==a&&(null!=l&&1!=l||$(a).val(""),void 0!==s&&s()),null!=l&&1!=l||void 0===o||$(o).val("")},minLength:3,select:function(e,t){null!==a&&(r(e,t,a,o),selectOk=!0),void 0!==s&&s(t.item)},open:function(){},close:function(){}})},construirFila:function(e){var t="";return t=t.concat("<table class='search-default'>","<tr>","<td>",e.nombre,"</td>","</tr>","</table>")},rutaXnombre:{success:function(e){return{nombre:e.nombre,value:e.nombre,id:e.id,customHtml:autocomplete.construirFila(e)}},selected:function(e,t,i){var a=t.item?t.item.id:"";$(i).val(a)}},usuarioXnombre:{success:function(e){return{nombre:e.nombre,value:e.nombre,id:e.uniqueId,customHtml:autocomplete.construirFila(e)}},selected:function(e,t,i){var a=t.item?t.item.id:"";$(i).val(a)}}},formAlerta={grid:{idFormGrid:"#alertaGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.alerta,e.textContent)},load:function(){var e=$(formAlerta.grid.idFormGrid);baseGrid.load(route.alerta,formAlerta.grid.idFormGrid,route.alerta.idTab,formAlerta.editor.call,formAlerta.grid.desactivar,formAlerta.grid.activar),"#"!==formAlerta.grid.inputSelected&&helperFunctions.focus(e,formAlerta.grid.inputSelected),helperFunctions.datepicker(e),formAlerta.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formAlerta.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.alerta,formAlerta.grid.idFormGrid,void 0,route.alerta.idTab,1)})},activar:function(e){baseGrid.activar(route.alerta,e,formAlerta.grid.idFormGrid,route.alerta.idTab)},desactivar:function(e){baseGrid.desactivar(route.alerta,e,formAlerta.grid.idFormGrid,route.alerta.idTab,void 0,"Seguro que desea desactivar el alerta?")}},editor:{idFormEditor:"#alertaEditorForm",anchoImagen:250,altoImagen:250,call:function(e){var t=e?"Editar Alerta":"Agregar Alerta";baseEditor.call(route.alerta,e,t,dialog.normal,"#Aler_Titulo",void 0,void 0,void 0,void 0,void 0,void 0,void 0,null)},load:function(){var e=$(formAlerta.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),helperFunctions.pluginEditorHtml(e,"Alerta.Aler_DescripcionHtml"),helperFunctions.calcularImagenesDimensiones(e),helperFunctions.pluginImagenes(e),formAlerta.editor.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",excluded:[":disabled"],button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Alerta.Aler_Titulo":{validators:{notEmpty:{message:"Ingrese el Ttulo"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Alerta.Aler_DescripcionHtml":{validators:{notEmpty:{message:"Ingrese la Descripcin"},callback:{callback:function(e,t,i){return!(100<$("#cke_1_contents iframe").contents().find("body").text().length)||{valid:!1,message:"Ingrese menos de 100 caracteres"}}}}},"Alerta.Aler_Url":{validators:{callback:{callback:function(e,t,i){if(""!==e&&!helperFunctions.validarWeb(e))return{valid:!1,message:"Ingrese una Url correcta ejemplo (www.dominio.com)"};return!0}}}},FilesToUpload:{enabled:!0,validators:{file:{extension:"jpg",type:"image/jpeg",message:"Formato Invlido",maxSize:constantes.imgMaxSizeAlertas},callback:{message:"Campo Obligatorio",callback:function(e,t,i){var a=!1;return""===$(formAlerta.editor.idFormEditor+" #Alerta_Aler_Id").val()&&(a=!0),helperFunctions.validarArchivoImagen(i,e,a,formAlerta.editor.anchoImagen,formAlerta.editor.altoImagen)}}}}}}).on("success.form.fv",function(e){e.preventDefault(),""===$(formAlerta.editor.idFormEditor+" #Alerta_Aler_Id").val()?formAlerta.editor.agregar():formAlerta.editor.modificar()})},agregar:function(){baseGrid.insertarConArchivo(route.alerta,formAlerta.editor.idFormEditor,formAlerta.grid.idFormGrid,route.alerta.idTab)},modificar:function(){baseGrid.actualizarConArchivo(route.alerta,formAlerta.editor.idFormEditor,formAlerta.grid.idFormGrid,route.alerta.idTab)}}},formAppParametro={config:{idFormGrid:"#appParametroGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.appParametro,e.textContent)},load:function(){var e=$(formAppParametro.config.idFormGrid);"#"!==formAppParametro.config.inputSelected&&helperFunctions.focus(e,formAppParametro.config.inputSelected),helperFunctions.checked(e),formAppParametro.config.validation(e),$(e).find("#btn-editorAventura").on("click",function(){formAppParametro.editorAventura.call()}),$(e).find("#btn-editorBienvenida").on("click",function(){formAppParametro.editorBienvenida.call()}),$(e).find("#btn-editorTerminos").on("click",function(){formAppParametro.editorTerminos.call()}),$(e).find("#btn-editorPoliticas").on("click",function(){formAppParametro.editorPoliticas.call()}),$(e).find("#btn-editorFuncionalidad1").on("click",function(){formAppParametro.editorFuncionalidad.call(1)}),$(e).find("#btn-editorFuncionalidad2").on("click",function(){formAppParametro.editorFuncionalidad.call(2)}),$(e).find("#btn-editorFuncionalidad3").on("click",function(){formAppParametro.editorFuncionalidad.call(3)}),$(e).find("#btn-editorIniciarSesion").on("click",function(){formAppParametro.editorIniciarSesion.call()}),$(e).find("#btn-editorPreguntasFrecuentes").on("click",function(){formAppParametro.editorPreguntasFrecuentes.call()})},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault()})},callFuncionalidad:function(e){var t={numero:e,set:$("#tabFuncionalidad-wrapper").find("#set").val()},i={route:route.appParametro,metodo:"TabFuncionalidad",data:t,type:"GET",updateTargetId:"#tabFuncionalidad-wrapper",messageSuccess:""};baseGrid.ejecutarAccion(i)},loadFuncionalidad:function(){helperFunctions.checked("#tabFuncionalidad-wrapper")}},editorBienvenida:{idFormEditor:"#appParametroBienvenidaEditorForm",anchoImagenFondo:375,altoImagenFondo:667,anchoImagenLogotipo:153,altoImagenLogotipo:193,call:function(){baseEditor.call(route.appParametro,void 0,"Editar pantalla bienvenida",dialog.normal,"#FilesToUploadFondo",void 0,void 0,"EditorBienvenida")},load:function(){var e=$(formAppParametro.editorBienvenida.idFormEditor);helperFunctions.desactivarEnter(e),formAppParametro.editorBienvenida.validation(e),helperFunctions.calcularImagenesDimensiones(e),helperFunctions.pluginImagenesXControl(e,"#FilesToUploadFondo"),helperFunctions.pluginImagenesXControl(e,"#FilesToUploadLogotipo")},validation:function(e){$(e).formValidation({locale:"es_ES",excluded:[":disabled"],button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{FilesToUploadFondo:{enabled:!0,validators:{file:{extension:"jpg",type:"image/jpeg",message:"Formato Invlido",maxSize:constantes.imgMaxSize},callback:{callback:function(e,t,i){return helperFunctions.validarArchivoImagen(i,e,!1,formAppParametro.editorBienvenida.anchoImagenFondo,formAppParametro.editorBienvenida.altoImagenFondo)}}}},FilesToUploadLogotipo:{enabled:!0,validators:{file:{extension:"png",type:"image/png",message:"Formato Invlido",maxSize:constantes.imgMaxSize},callback:{callback:function(e,t,i){return helperFunctions.validarArchivoImagen(i,e,!1,formAppParametro.editorBienvenida.anchoImagenLogotipo,formAppParametro.editorBienvenida.altoImagenLogotipo)}}}}}}).on("success.form.fv",function(e){e.preventDefault(),formAppParametro.editorBienvenida.modificar()})},modificar:function(){baseGrid.actualizarConArchivo(route.appParametro,formAppParametro.editorBienvenida.idFormEditor,formAppParametro.config.idFormGrid,route.appParametro.idTab,void 0,"ActualizarBienvenida")}},editorFuncionalidad:{idFormEditor:"#appParametroFuncionalidadEditorForm",anchoImagen:375,altoImagen:667,call:function(e){baseEditor.call(route.appParametro,void 0,"Editar pantalla funcionalidad",dialog.normal,"#FilesToUpload",{numFuncionalidad:e},void 0,"EditorFuncionalidad")},load:function(){var e=$(formAppParametro.editorFuncionalidad.idFormEditor);helperFunctions.desactivarEnter(e),formAppParametro.editorFuncionalidad.validation(e),helperFunctions.calcularImagenesDimensiones(e),helperFunctions.pluginImagenesXControl(e,"#FilesToUpload")},validation:function(e){$(e).formValidation({locale:"es_ES",excluded:[":disabled"],button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Parametro.AppP_FuncionesTitulo1":{validators:{notEmpty:{message:"Ingrese Ttulo"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Parametro.AppP_FuncionesDescripcion1":{validators:{notEmpty:{message:"Ingrese Descripcin"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},"Parametro.AppP_FuncionesTitulo2":{validators:{notEmpty:{message:"Ingrese Ttulo"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Parametro.AppP_FuncionesDescripcion2":{validators:{notEmpty:{message:"Ingrese Descripcin"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},"Parametro.AppP_FuncionesTitulo3":{validators:{notEmpty:{message:"Ingrese Ttulo"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Parametro.AppP_FuncionesDescripcion3":{validators:{notEmpty:{message:"Ingrese Descripcin"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},FilesToUpload:{enabled:!0,validators:{file:{extension:"jpg",type:"image/jpeg",message:"Formato Invlido",maxSize:constantes.imgMaxSize},callback:{callback:function(e,t,i){return helperFunctions.validarArchivoImagen(i,e,!1,formAppParametro.editorFuncionalidad.anchoImagen,formAppParametro.editorFuncionalidad.altoImagen)}}}}}}).on("success.form.fv",function(e){e.preventDefault(),formAppParametro.editorFuncionalidad.modificar()})},asignarNombreImagen:function(){var e=$(formAppParametro.editorFuncionalidad.idFormEditor).find("#FilesToUpload")[0].files[0].name,t=$(formAppParametro.editorFuncionalidad.idFormEditor).find("#Parametro_NumFuncionalidad").val();"1"==t?$(formAppParametro.editorFuncionalidad.idFormEditor).find("#Parametro_AppP_FuncionesUrlFondo1").val(e):"2"==t?$(formAppParametro.editorFuncionalidad.idFormEditor).find("#Parametro_AppP_FuncionesUrlFondo2").val(e):"3"==t&&$(formAppParametro.editorFuncionalidad.idFormEditor).find("#Parametro_AppP_FuncionesUrlFondo3").val(e)},modificar:function(){baseGrid.actualizarConArchivo(route.appParametro,formAppParametro.editorFuncionalidad.idFormEditor,formAppParametro.config.idFormGrid,route.appParametro.idTab,void 0,"ActualizarFuncionalidad")}},editorIniciarSesion:{idFormEditor:"#appParametroIniciarSesionEditorForm",anchoImagen:375,altoImagen:667,call:function(){baseEditor.call(route.appParametro,void 0,"Editar pantalla iniciar sesin",dialog.normal,"#FilesToUpload",void 0,void 0,"EditorIniciarSesion")},load:function(){var e=$(formAppParametro.editorIniciarSesion.idFormEditor);helperFunctions.desactivarEnter(e),formAppParametro.editorIniciarSesion.validation(e),helperFunctions.calcularImagenesDimensiones(e),helperFunctions.pluginImagenesXControl(e,"#FilesToUpload"),helperFunctions.checked(e)},validation:function(e){$(e).formValidation({locale:"es_ES",excluded:[":disabled"],button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{FilesToUpload:{enabled:!0,validators:{file:{extension:"jpg",type:"image/jpeg",message:"Formato Invlido",maxSize:constantes.imgMaxSize},callback:{callback:function(e,t,i){return helperFunctions.validarArchivoImagen(i,e,!1,formAppParametro.editorIniciarSesion.anchoImagen,formAppParametro.editorIniciarSesion.altoImagen)}}}}}}).on("success.form.fv",function(e){e.preventDefault(),formAppParametro.editorIniciarSesion.modificar()})},modificar:function(){baseGrid.actualizarConArchivo(route.appParametro,formAppParametro.editorIniciarSesion.idFormEditor,formAppParametro.config.idFormGrid,route.appParametro.idTab,void 0,"ActualizarIniciarSesion")}},editorTerminos:{idFormEditor:"#appParametroTerminosEditorForm",call:function(){baseEditor.call(route.appParametro,void 0,"Editar Trminos y Condiciones",dialog.normal,"#Parametro_AppP_TerminosYCondiciones",void 0,void 0,"EditorTerminos",void 0,void 0,void 0,void 0,null)},load:function(){var e=$(formAppParametro.editorTerminos.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.pluginEditorHtml(e,"Parametro.AppP_TerminosYCondiciones"),formAppParametro.editorTerminos.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",excluded:[":disabled"],button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Parametro.AppP_TerminosYCondiciones":{validators:{notEmpty:{message:"Ingrese los Trminos y Condiciones"}}}}}).on("success.form.fv",function(e){e.preventDefault(),formAppParametro.editorTerminos.modificar()})},modificar:function(){baseGrid.actualizarConArchivo(route.appParametro,formAppParametro.editorTerminos.idFormEditor,formAppParametro.config.idFormGrid,route.appParametro.idTab,void 0,"ActualizarTerminos")}},editorPoliticas:{idFormEditor:"#appParametroPoliticasEditorForm",call:function(){baseEditor.call(route.appParametro,void 0,"Editar Polticas de Privacidad",dialog.normal,"#AppP_EsObligatiorioPoliticasPrivacidad",void 0,void 0,"EditorPoliticas",void 0,void 0,void 0,void 0,null)},load:function(){var e=$(formAppParametro.editorPoliticas.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.pluginEditorHtml(e,"Parametro.AppP_PoliticasPrivacidad"),formAppParametro.editorPoliticas.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",excluded:[":disabled"],button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Parametro.AppP_PoliticasPrivacidad":{validators:{notEmpty:{message:"Ingrese las Polticas de Privacidad"}}}}}).on("success.form.fv",function(e){e.preventDefault(),formAppParametro.editorPoliticas.modificar()})},modificar:function(){baseGrid.actualizarConArchivo(route.appParametro,formAppParametro.editorPoliticas.idFormEditor,formAppParametro.config.idFormGrid,route.appParametro.idTab,void 0,"ActualizarPoliticas")}},editorAventura:{idFormEditor:"#appParametroAventuraEditorForm",anchoImagen:375,altoImagen:667,call:function(){baseEditor.call(route.appParametro,void 0,"Editar pantalla que empiece la aventura",dialog.normal,"#FilesToUpload",void 0,void 0,"EditorAventura")},load:function(){var e=$(formAppParametro.editorAventura.idFormEditor);helperFunctions.desactivarEnter(e),formAppParametro.editorAventura.validation(e),helperFunctions.calcularImagenesDimensiones(e),helperFunctions.pluginImagenesXControl(e,"#FilesToUpload")},validation:function(e){$(e).formValidation({locale:"es_ES",excluded:[":disabled"],button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{FilesToUpload:{enabled:!0,validators:{file:{extension:"jpg",type:"image/jpeg",message:"Formato Invlido",maxSize:constantes.imgMaxSize},callback:{callback:function(e,t,i){return helperFunctions.validarArchivoImagen(i,e,!1,formAppParametro.editorAventura.anchoImagen,formAppParametro.editorAventura.altoImagen)}}}}}}).on("success.form.fv",function(e){e.preventDefault(),formAppParametro.editorAventura.modificar()})},modificar:function(){baseGrid.actualizarConArchivo(route.appParametro,formAppParametro.editorAventura.idFormEditor,formAppParametro.config.idFormGrid,route.appParametro.idTab,void 0,"ActualizarAventura")}},editorPreguntasFrecuentes:{idFormEditor:"#appParametroPreguntasFrecuentesEditorForm",call:function(){baseEditor.call(route.appParametro,void 0,"Editar URL de Preguntas Frecuentes",dialog.normal,"#Parametro_AppP_PregunstasFrecuentesUrl",void 0,void 0,"EditorPreguntasFrecuentes")},load:function(){var e=$(formAppParametro.editorPreguntasFrecuentes.idFormEditor);helperFunctions.desactivarEnter(e),formAppParametro.editorPreguntasFrecuentes.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",excluded:[":disabled"],button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Parametro.AppP_PregunstasFrecuentesUrl":{validators:{notEmpty:{message:"Ingrese Url de Preguntas Frecuentes"},callback:{callback:function(e,t,i){if(""!=e&&!helperFunctions.validarWeb(e))return{valid:!1,message:"Ingrese una Url correcta ejemplo (www.dominio.com)"};return!0}}}}}}).on("success.form.fv",function(e){e.preventDefault(),formAppParametro.editorPreguntasFrecuentes.modificar()})},modificar:function(){baseGrid.actualizar(route.appParametro,formAppParametro.editorPreguntasFrecuentes.idFormEditor,formAppParametro.config.idFormGrid,route.appParametro.idTab,void 0,"ActualizarPreguntasFrecuentes")}}},formAtractivo={grid:{idFormGrid:"#formAtractivoGrid",inputSelected:"#",call:function(e){baseGrid.callInTab(route.atractivo,e.textContent)},refresh:function(){var e=$(formAtractivo.grid.idFormGrid);$(e).submit()},load:function(){var e=$(formAtractivo.grid.idFormGrid);baseGrid.load(route.atractivo,formAtractivo.grid.idFormGrid,route.atractivo.idTab,formAtractivo.editor.call,formAtractivo.grid.desactivar,formAtractivo.grid.activar),"#"!==formAtractivo.grid.inputSelected&&helperFunctions.focus(e,formAtractivo.grid.inputSelected),$(e).find("#Filtro_OrigenId").change(function(){var e=$(this).val();formAtractivo.grid.actualizarFiltroRutas(e)}),formAtractivo.grid.validation(e),$(e).find("#btn-editorPadre").on("click",function(){var e=$(this).attr("atraId");formAtractivo.editor.callNuevoHijo(e)})},filtroLoad:function(){var e=$(formAtractivo.grid.idFormGrid);$(e).find("#Filtro_Atra_RutaId").change(function(){$(e).submit()})},actualizarFiltroRutas:function(e){var t={origen_Id:e},i={route:route.atractivo,metodo:"ListarRutasPorOrigen",data:t,type:"GET",updateTargetId:"#wrapper-rutas",messageSuccess:""};baseGrid.ejecutarAccion(i)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formAtractivo.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.atractivo,formAtractivo.grid.idFormGrid,void 0,route.atractivo.idTab,1)})},activar:function(e){baseGrid.activar(route.atractivo,e,formAtractivo.grid.idFormGrid,route.atractivo.idTab)},desactivar:function(e){baseGrid.desactivar(route.atractivo,e,formAtractivo.grid.idFormGrid,route.atractivo.idTab,void 0,"Seguro que desea desactivar el atractivo?")}},editor:{tabContenedor:"#tabDatosGenerales",fullContenedor:"#divEditor-wrapper",idFormEditor:"#formAtractivoEditor",call:function(e){var t=e?"Editar Atractivo":"Agregar Atractivo";baseEditor.call(route.atractivo,e,t,dialog.ancho,"#Atractivo_Atra_Nombre",void 0,void 0,void 0,!1,!1,void 0,formAtractivo.grid.refresh)},callNuevoHijo:function(e){baseEditor.call(route.atractivo,e,"Agregar Atractivo",dialog.ancho,"#Atractivo_Atra_Nombre",void 0,void 0,route.atractivo.editorHijo,!1,!1,void 0,formAtractivo.grid.refresh)},refrescar:function(e){var t={route:route.atractivo,id:e,type:"GET",updateTargetId:"#tab-editor",metodo:"refrescarEditor",messageSuccess:""};baseGrid.ejecutarAccion(t)},load:function(e){$("#btn-datosGeneralesTab").on("click",function(){formAtractivo.editor.refrescar(e)}),$("#btn-imagenesTab").on("click",function(){formAtractivo.imagenGrid.call(e)})},loadDatos:function(){formAtractivo.editor.activarTab(formAtractivo.editor.tabContenedor);var t=$(formAtractivo.editor.idFormEditor);helperFunctions.desactivarEnter(t);var e=$(formAtractivo.grid.idFormGrid),i=$(e).find("#Filtro_Atra_RutaId").val();$(t).find("#Atractivo_Atra_RutaId").val(i),helperFunctions.checked(t),helperFunctions.asignarMascara(t,"Atractivo.Atra_TemperaturaMaxima","#Atractivo_Atra_TemperaturaMaxima","00"),helperFunctions.asignarMascara(t,"Atractivo.Atra_TemperaturaMinima","#Atractivo_Atra_TemperaturaMinima","00"),helperFunctions.asignarMascara(t,"Atractivo.Atra_OrdenVisualizacion","#Atractivo_Atra_OrdenVisualizacion","00"),$(t).find(".actividades-checkbox input:checkbox").on("ifChanged",function(e){helperFunctions.refreshFielValidator(t,"actividadesCheckbox")}),formAtractivo.editor.validation(t),$(t).find("#btn-probarCoordenadas").on("click",function(){formAtractivo.editor.loadConCordenadas()})},loadConCordenadas:function(){var e=$(formAtractivo.editor.idFormEditor),t="https://maps.google.com/?q="+$(e).find("#Atractivo_Atra_Latitud").val()+","+$(e).find("#Atractivo_Atra_Longitud").val();window.open(t)},loadImagenes:function(e,t,i,a,o,n){var r=0,s=0,l=0,c=0;$("#btn-subirImagenDetalle").on("click",function(){r=$(this).attr("anchoMaximo"),s=$(this).attr("anchoMinimo"),l=$(this).attr("altoMaximo"),c=$(this).attr("altoMinimo"),formAtractivo.imagenEditor.call(e,r,s,l,c,t)}),$("#btn-subirImagenCompartir").on("click",function(){r=$(this).attr("anchoMaximo"),s=$(this).attr("anchoMinimo"),l=$(this).attr("altoMaximo"),c=$(this).attr("altoMinimo"),formAtractivo.imagenEditor.call(e,r,s,l,c,i)}),$("#btn-subirImagenDetalleRuta").on("click",function(){r=$(this).attr("anchoMaximo"),s=$(this).attr("anchoMinimo"),l=$(this).attr("altoMaximo"),c=$(this).attr("altoMinimo"),formAtractivo.imagenEditor.call(e,r,s,l,c,a)}),$("#btn-subirImagenCarrusel").on("click",function(){r=$(this).attr("anchoMaximo"),s=$(this).attr("anchoMinimo"),l=$(this).attr("altoMaximo"),c=$(this).attr("altoMinimo"),formAtractivo.imagenEditor.call(e,r,s,l,c,o)}),$("#btn-subirImagenMapa").on("click",function(){r=$(this).attr("anchoMaximo"),s=$(this).attr("anchoMinimo"),l=$(this).attr("altoMaximo"),c=$(this).attr("altoMinimo"),formAtractivo.imagenEditor.call(e,r,s,l,c,n)})},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Atractivo.Atra_Nombre":{validators:{notEmpty:{message:"Ingrese el Nombre"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Atractivo.Atra_Direccion":{validators:{notEmpty:{message:"Ingrese la Direccin"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},"Atractivo.Atra_Descripcion":{validators:{notEmpty:{message:"Ingrese la Descripcin"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},"Atractivo.Atra_OrdenVisualizacion":{validators:{notEmpty:{message:"Ingrese el Orden de Visualizacin"}}},"Atractivo.Atra_Distancia":{validators:{notEmpty:{message:"Ingrese la Distancia"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},"Atractivo.Atra_TextoAlCompartir":{validators:{notEmpty:{message:"Ingrese el Texto al Compartir"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},"Atractivo.Atra_Longitud":{validators:{notEmpty:{message:"Ingrese la Latitud"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorCoordenada(e)}}}},"Atractivo.Atra_Latitud":{validators:{notEmpty:{message:"Ingrese la Longitud"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorCoordenada(e)}}}}}}).on("success.form.fv",function(e){e.preventDefault();var t=$(formAtractivo.editor.idFormEditor+" #Atractivo_Atra_Id").val();helperFunctions.concatenarChecks(formAtractivo.editor.idFormEditor,".actividades-checkbox","#Atractivo_Atra_ActividadIds"),helperFunctions.concatenarChecks(formAtractivo.editor.idFormEditor,".divServicios","#Atractivo_Atra_ServicioIds"),""===t?formAtractivo.editor.agregar():formAtractivo.editor.modificar()})},agregar:function(){baseGrid.insertar(route.atractivo,formAtractivo.editor.idFormEditor,void 0,formAtractivo.editor.fullContenedor,!1)},modificar:function(){baseGrid.actualizar(route.atractivo,formAtractivo.editor.idFormEditor,void 0,void 0,!1)},activarTab:function(e){$("#ul-tab-editor").find("li").each(function(){$(this).removeClass("active")}),$(e).addClass("active")}},imagenGrid:{tabContenedor:"#tabImagenes",call:function(e){$("#btn-datosGeneralesTab").on("click",function(){formAtractivo.editor.refrescar(e)}),$("#btn-imagenesTab").on("click",function(){formAtractivo.imagenGrid.call(e)});var t={route:route.atractivo,id:e,type:"GET",updateTargetId:"#tab-editor",metodo:"EditorImagenes",messageSuccess:""};baseGrid.ejecutarAccion(t)},load:function(){formAtractivo.editor.activarTab(formAtractivo.imagenGrid.tabContenedor)}},imagenEditor:{idFormEditor:"#formImagenAtractivo",altoMaximo:0,altoMinimo:0,anchoMaximo:0,anchoMinimo:0,configUrl:"",call:function(e,t,i,a,o,n){formAtractivo.imagenEditor.anchoMaximo=t,formAtractivo.imagenEditor.anchoMinimo=i;var r={atractivo_id:e,altoMaximo:formAtractivo.imagenEditor.altoMaximo=a,altoMinimo:formAtractivo.imagenEditor.altoMinimo=o,anchoMaximo:t,anchoMinimo:t,configUrl:formAtractivo.imagenEditor.configUrl=n};baseEditor.call(route.atractivo,void 0,"Editar Imagen",dialog.ancho,void 0,r,void 0,"editorImagen")},load:function(){var e=$(formAtractivo.imagenEditor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.cropper(e),formAtractivo.imagenEditor.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",excluded:[":disabled"],button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{FilesToUpload:{enabled:!0,row:".divFilesToUpload",validators:{file:{maxSize:constantes.imagenSizeMax,message:constantes.imagenSizeMaxMessage},callback:{message:"Ingrese un Archivo",callback:function(e,t,i){return void 0!==document.getElementById("FilesToUpload").files[0]}}}}}}).on("success.form.fv",function(e){e.preventDefault(),formAtractivo.imagenEditor.modificar()})},modificar:function(){baseGrid.actualizarConArchivo(route.atractivo,formAtractivo.imagenEditor.idFormEditor,void 0,"#tab-editor",void 0,"ActualizarImagen")}}},formAtractivoValorado={grid:{idFormGrid:"#atractivoValoradoGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.atractivoValorado,e.textContent)},callComentariosPendientes:function(e){baseGrid.callInTab(route.atractivoValorado,"Evaluar Publicacin","IndexComentariosPendientes")},callFotosPendientes:function(e){baseGrid.callInTab(route.atractivoValorado,"Evaluar Publicacin","IndexFotosPendientes")},load:function(){var e=$(formAtractivoValorado.grid.idFormGrid);baseGrid.load(route.atractivoValorado,formAtractivoValorado.grid.idFormGrid,route.atractivoValorado.idTab,formAtractivoValorado.editor.call),"#"!==formAtractivoValorado.grid.inputSelected&&helperFunctions.focus(e,formAtractivoValorado.grid.inputSelected),autocomplete.iniciarSearchRutaNombre("#Filtro_Ruta_Nombre","#Filtro_Ruta_Id",function(){}),formAtractivoValorado.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formAtractivoValorado.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.atractivoValorado,formAtractivoValorado.grid.idFormGrid,void 0,route.atractivoValorado.idTab,1)})}},editor:{idFormEditor:"#atractivoValoradoEditorForm",call:function(e){baseEditor.call(route.atractivoValorado,e,"Evaluar Publicacin",dialog.normal,"#Aler_Titulo")},load:function(){var e=$(formAtractivoValorado.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),formAtractivoValorado.editor.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formAtractivoValorado.editor.asignarAprobados(formAtractivoValorado.editor.idFormEditor),formAtractivoValorado.editor.modificar()})},asignarAprobados:function(e){$(e).find("#aprobadoComentarioSi").is(":checked")?$(e).find("#AtractivoValorado_Aval_AprobadoComentario").val("true"):$(e).find("#aprobadoComentarioNo").is(":checked")&&$(e).find("#AtractivoValorado_Aval_AprobadoComentario").val("false"),$(e).find("#aprobadoFotoSi").is(":checked")?$(e).find("#AtractivoValorado_Aval_AprobadoFoto").val("true"):$(e).find("#aprobadoFotoNo").is(":checked")&&$(e).find("#AtractivoValorado_Aval_AprobadoFoto").val("false")},modificar:function(){baseGrid.actualizar(route.atractivoValorado,formAtractivoValorado.editor.idFormEditor,formAtractivoValorado.grid.idFormGrid,route.atractivoValorado.idTab)}}},formAvatar={grid:{idFormGrid:"#avatarGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.avatar,e.textContent)},load:function(){var e=$(formAvatar.grid.idFormGrid);baseGrid.load(route.avatar,formAvatar.grid.idFormGrid,route.avatar.idTab,formAvatar.editor.call,formAvatar.grid.desactivar,formAvatar.grid.activar),"#"!==formAvatar.grid.inputSelected&&helperFunctions.focus(e,formAvatar.grid.inputSelected),formAvatar.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formAvatar.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.avatar,formAvatar.grid.idFormGrid,void 0,route.avatar.idTab,1)})},activar:function(e){baseGrid.activar(route.avatar,e,formAvatar.grid.idFormGrid,route.avatar.idTab)},desactivar:function(e){baseGrid.desactivar(route.avatar,e,formAvatar.grid.idFormGrid,route.avatar.idTab,void 0,"Seguro que desea desactivar el avatar?")}},editor:{idFormEditor:"#avatarEditorForm",anchoImagen:40,altoImagen:48,call:function(e){var t=e?"Editar Avatar":"Registrar Avatar";baseEditor.call(route.avatar,e,t,dialog.normal,"#Avat_Nombre")},load:function(){var e=$(formAvatar.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),helperFunctions.touchSpin(e,"Avatar.Avat_Nivel",0,99),helperFunctions.touchSpin(e,"Avatar.Avat_PuntajeMinino",0,999),$(e).find("#Avatar_Avat_Nivel").mask("00"),$(e).find("#Avatar_Avat_PuntajeMinino").mask("000"),helperFunctions.calcularImagenesDimensiones(e),helperFunctions.pluginImagenes(e),formAvatar.editor.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Avatar.Avat_Nombre":{validators:{notEmpty:{message:"Ingrese el Nombre"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Avatar.Avat_Descripcion":{validators:{notEmpty:{message:"Ingrese la Descripcin"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},"Avatar.Avat_Nivel":{validators:{notEmpty:{message:"Seleccione el Nivel"},greaterThan:{value:0,inclusive:!1,message:"Ingrese un valor mayor a 0"},lessThan:{value:10,inclusive:!0,message:"Ingrese un valor menor o igual a 10"},integer:{message:"Ingrese valores numricos"}}},"Avatar.Avat_PuntajeMinino":{validators:{notEmpty:{message:"Ingrese el Puntaje Mnimo"},greaterThan:{value:0,inclusive:!1,message:"Ingrese un valor mayor a 0"},integer:{message:"Ingrese valores numricos"}}},FilesToUpload:{enabled:!0,validators:{file:{extension:"png",type:"image/png",message:"Formato Invlido",maxSize:constantes.imgMaxSizeAvatares},callback:{message:"Campo Obligatorio",callback:function(e,t,i){var a=!1;return""===$(formAvatar.editor.idFormEditor+" #Avatar_Avat_Id").val()&&(a=!0),helperFunctions.validarArchivoImagen(i,e,a,formAvatar.editor.anchoImagen,formAvatar.editor.altoImagen)}}}}}}).on("success.form.fv",function(e){e.preventDefault(),""===$(formAvatar.editor.idFormEditor+" #Avatar_Avat_Id").val()?formAvatar.editor.agregar():formAvatar.editor.modificar()})},agregar:function(){baseGrid.insertarConArchivo(route.avatar,formAvatar.editor.idFormEditor,formAvatar.grid.idFormGrid,route.avatar.idTab)},modificar:function(){baseGrid.actualizarConArchivo(route.avatar,formAvatar.editor.idFormEditor,formAvatar.grid.idFormGrid,route.avatar.idTab)}},editorPuntuacion:{idFormEditor:"#puntuacionEditorForm",call:function(e){baseEditor.call(route.avatar,e,"Configurar Puntuacin",dialog.normal,"#Parametro_AppP_ComoConseguirAvatar",void 0,void 0,route.avatar.editorPuntuacion,!0,!0)},load:function(e,t){var i=$(formAvatar.editorPuntuacion.idFormEditor);helperFunctions.desactivarEnter(i),helperFunctions.checked(i),helperFunctions.touchSpin(i,"Parametro.AppP_PuntosVisitarAtractivo",0,9),helperFunctions.touchSpin(i,"Parametro.AppP_PuntosComentarAtractivo",0,9),helperFunctions.touchSpin(i,"Parametro.AppP_PuntosValorarAtractivo",0,9),helperFunctions.touchSpin(i,"Parametro.AppP_PuntosCompartirFoto",0,9),helperFunctions.touchSpin(i,"Parametro.AppP_PuntosRellenarEncuesta",0,9),$(i).find("#Parametro_AppP_PuntosVisitarAtractivo").mask("0"),$(i).find("#Parametro_AppP_PuntosComentarAtractivo").mask("0"),$(i).find("#Parametro_AppP_PuntosValorarAtractivo").mask("0"),$(i).find("#Parametro_AppP_PuntosCompartirFoto").mask("0"),$(i).find("#Parametro_AppP_PuntosRellenarEncuesta").mask("0"),formAvatar.editorPuntuacion.validation(i),"true"==e.toLowerCase()&&"false"==t.toLowerCase()&&$(".modal-footer").hide()},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Parametro.AppP_ComoConseguirAvatar":{validators:{notEmpty:{message:"Ingrese el campo Cmo Obtener Avatar."},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},"Parametro.AppP_PuntosVisitarAtractivo":{validators:{notEmpty:{message:"Ingrese puntuacin por Visitar Atractivo"},integer:{message:"Ingrese valores numricos"}}},"Parametro.AppP_PuntosComentarAtractivo":{validators:{notEmpty:{message:"Ingrese puntuacin por Comentar Atractivo"},integer:{message:"Ingrese valores numricos"}}},"Parametro.AppP_PuntosValorarAtractivo":{validators:{notEmpty:{message:"Ingrese puntuacin por Valorar Atractivo"},integer:{message:"Ingrese valores numricos"}}},"Parametro.AppP_PuntosCompartirFoto":{validators:{notEmpty:{message:"Ingrese puntuacin por Compartir Foto"},integer:{message:"Ingrese valores numricos"}}},"Parametro.AppP_PuntosRellenarEncuesta":{validators:{notEmpty:{message:"Ingrese puntuacin por Llenar Encuesta"},integer:{message:"Ingrese valores numricos"}}}}}).on("success.form.fv",function(e){e.preventDefault(),formAvatar.editorPuntuacion.modificar()})},modificar:function(){baseGrid.actualizar(route.avatar,formAvatar.editorPuntuacion.idFormEditor,formAvatar.grid.idFormGrid,route.avatar.idTab,void 0,route.avatar.actualizarPuntuacion)}}},formBeneficio={grid:{idFormGrid:"#beneficioGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.beneficio,e.textContent)},load:function(){var e=$(formBeneficio.grid.idFormGrid);baseGrid.load(route.beneficio,formBeneficio.grid.idFormGrid,route.beneficio.idTab,formBeneficio.editor.call,formBeneficio.grid.desactivar,formBeneficio.grid.activar),"#"!==formBeneficio.grid.inputSelected&&helperFunctions.focus(e,formBeneficio.grid.inputSelected),formBeneficio.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formBeneficio.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.beneficio,formBeneficio.grid.idFormGrid,void 0,route.beneficio.idTab,1)})},activar:function(e){baseGrid.activar(route.beneficio,e,formBeneficio.grid.idFormGrid,route.beneficio.idTab)},desactivar:function(e){baseGrid.desactivar(route.beneficio,e,formBeneficio.grid.idFormGrid,route.beneficio.idTab,void 0,"Seguro que desea desactivar el beneficio?")}},editor:{idFormEditor:"#beneficioEditorForm",anchoImagen:300,altoImagen:270,anchoImagenPremio:500,altoImagenPremio:270,call:function(e){var t=e?"Editar Beneficio":"Registrar Beneficio";baseEditor.call(route.beneficio,e,t,dialog.normal,"#Bene_Nombre")},load:function(){var e=$(formBeneficio.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),helperFunctions.calcularImagenesDimensiones(e),helperFunctions.pluginImagenesXControl(e,"#FilesToUpload"),helperFunctions.pluginImagenesXControl(e,"#FilesToUploadPremio"),formBeneficio.editor.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Beneficio.Bene_Nombre":{validators:{notEmpty:{message:"Ingrese el Nombre"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Beneficio.Bene_Descripcion":{validators:{notEmpty:{message:"Ingrese la Descripcin"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},"Beneficio.Bene_MensajeAlGanador":{validators:{notEmpty:{message:"Ingrese el Mensaje al Ganador"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},FilesToUpload:{enabled:!0,validators:{file:{extension:"jpg",type:"image/jpeg",message:"Formato Invlido",maxSize:constantes.imgMaxSizeBeneficios},callback:{message:"Campo Obligatorio",callback:function(e,t,i){var a=!1;return""===$(formBeneficio.editor.idFormEditor+" #Beneficio_Bene_Id").val()&&(a=!0),helperFunctions.validarArchivoImagen(i,e,a,formBeneficio.editor.anchoImagen,formBeneficio.editor.altoImagen)}}}},FilesToUploadPremio:{enabled:!0,validators:{file:{extension:"jpg",type:"image/jpeg",message:"Formato Invlido",maxSize:constantes.imgMaxSizePremios},callback:{message:"Campo Obligatorio",callback:function(e,t,i){var a=!1;return""===$(formBeneficio.editor.idFormEditor+" #Beneficio_Bene_Id").val()&&(a=!0),helperFunctions.validarArchivoImagen(i,e,a,formBeneficio.editor.anchoImagenPremio,formBeneficio.editor.altoImagenPremio)}}}}}}).on("success.form.fv",function(e){e.preventDefault(),""===$(formBeneficio.editor.idFormEditor+" #Beneficio_Bene_Id").val()?formBeneficio.editor.agregar():formBeneficio.editor.modificar()})},agregar:function(){baseGrid.insertarConArchivo(route.beneficio,formBeneficio.editor.idFormEditor,formBeneficio.grid.idFormGrid,route.beneficio.idTab)},modificar:function(){baseGrid.actualizarConArchivo(route.beneficio,formBeneficio.editor.idFormEditor,formBeneficio.grid.idFormGrid,route.beneficio.idTab)}}},formCampania={grid:{idFormGrid:"#campaniaGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.campania,e.textContent)},load:function(){var e=$(formCampania.grid.idFormGrid);baseGrid.load(route.campania,formCampania.grid.idFormGrid,route.campania.idTab,formCampania.editor.call,formCampania.grid.desactivar,formCampania.grid.activar),"#"!==formCampania.grid.inputSelected&&helperFunctions.focus(e,formCampania.grid.inputSelected),helperFunctions.datepicker(e),formCampania.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formCampania.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.campania,formCampania.grid.idFormGrid,void 0,route.campania.idTab,1)})},activar:function(e){baseGrid.activar(route.campania,e,formCampania.grid.idFormGrid,route.campania.idTab)},desactivar:function(e){baseGrid.desactivar(route.campania,e,formCampania.grid.idFormGrid,route.campania.idTab,void 0,"Seguro que desea desactivar el destacado?")}},editor:{idFormEditor:"#campaniaEditorForm",anchoImagen:478,altoImagen:240,call:function(e){var t=e?"Editar Destacado":"Registrar Destacado";baseEditor.call(route.campania,e,t,dialog.normal,"#Camp_FechaInicio")},load:function(){var r=$(formCampania.editor.idFormEditor);helperFunctions.desactivarEnter(r),helperFunctions.checked(r);helperFunctions.datepicker(r,function(){var e=$(formCampania.editor.idFormEditor+" #Campania_Camp_FechaFinalText").val(),t=$(formCampania.editor.idFormEditor+" #Campania_Camp_FechaInicioText").val();""!=e&&helperFunctions.refreshFielValidator(formCampania.editor.idFormEditor,"Campania.Camp_FechaFinalText"),""!=t&&helperFunctions.refreshFielValidator(formCampania.editor.idFormEditor,"Campania.Camp_FechaInicioText")}),helperFunctions.calcularImagenesDimensiones(r);var e=$("#Campania_Camp_TipoUrlDestinoId").val();formCampania.editor.mostrarDestino(e),$(r).find("#Campania_Camp_TipoUrlDestinoId").change(function(){if(formCampania.editor.mostrarDestino($(this).val()),$("#Campania_Ruta_Nombre").val(""),$("#Campania_Camp_RutaId").val(""),$(this).val()!=constantes.tipoDestinoRuta)helperFunctions.removeFielValidator(r,"Campania.Ruta_Nombre"),$(r).find(".divCampaniaRuta").removeClass("has-success"),$(r).find(".divCampaniaRuta").removeClass("has-error");else{var e={row:".divCampaniaRuta",validators:{callback:{message:"Ingrese la Ruta",callback:function(e,t,i){var a=$(r).find("#Campania_Camp_RutaId").val(),o=$(r).find("#Campania_Camp_TipoUrlDestinoId").val(),n=e.length;return o!=constantes.tipoDestinoRuta||""!==a&&!(""===e||n<3)}}}};helperFunctions.addFielValidator2(r,"Campania.Ruta_Nombre",e)}}),autocomplete.iniciarSearchRutaNombre("#Campania_Ruta_Nombre","#Campania_Camp_RutaId",function(){helperFunctions.refreshFielValidator(r,"Campania.Ruta_Nombre")}),helperFunctions.pluginImagenes(r),formCampania.editor.validation(r)},mostrarDestino:function(e){var t=$(formCampania.editor.idFormEditor);e==constantes.tipoDestinoRuta?(helperFunctions.mostrarActivar(t,"#divCampaniaRuta"),helperFunctions.ocultarInactivar(t,"#divCampaniaUrl")):e==constantes.tipoDestinoUrl?(helperFunctions.mostrarActivar(t,"#divCampaniaUrl"),helperFunctions.ocultarInactivar(t,"#divCampaniaRuta")):(helperFunctions.ocultarInactivar(t,"#divCampaniaRuta"),helperFunctions.ocultarInactivar(t,"#divCampaniaUrl"))},validation:function(r){$(r).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Campania.Camp_FechaInicioText":{validators:{notEmpty:{message:"Ingrese la Fecha de Inicio"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY"}}},"Campania.Camp_FechaFinalText":{validators:{notEmpty:{message:"Ingrese la Fecha Final"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY"},callback:{callback:function(e,t,i){var a=$(formCampania.editor.idFormEditor+" #Campania_Camp_FechaInicioText").val(),o=e;return helperFunctions.validarFechasInicioFin(i,e,!0,a,o)}}}},"Campania.Camp_Nombre":{validators:{notEmpty:{message:"Ingrese el Nombre"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Campania.Camp_TipoUrlDestinoId":{validators:{notEmpty:{message:"Seleccione Tipo de Destino"}}},"Campania.Ruta_Nombre":{row:".divCampaniaRuta",validators:{callback:{message:"Ingrese la Ruta",callback:function(e,t,i){var a=$(r).find("#Campania_Camp_RutaId").val(),o=$(r).find("#Campania_Camp_TipoUrlDestinoId").val(),n=e.length;return o!=constantes.tipoDestinoRuta||""!==a&&!(""===e||n<3)}}}},"Campania.Camp_Url":{validators:{notEmpty:{message:"Ingrese la Url Externa"},callback:{callback:function(e,t,i){if(""!=e&&!helperFunctions.validarWeb(e))return{valid:!1,message:"Ingrese una Url correcta ejemplo (www.dominio.com)"};return!0}}}},FilesToUpload:{enabled:!0,validators:{file:{extension:"jpg",type:"image/jpeg",message:"Formato Invlido",maxSize:constantes.imgMaxSizeCampanias},callback:{callback:function(e,t,i){var a=!1;return""===$(formCampania.editor.idFormEditor+" #Campania_Camp_Id").val()&&(a=!0),helperFunctions.validarArchivoImagen(i,e,a,formCampania.editor.anchoImagen,formCampania.editor.altoImagen)}}}}}}).on("success.form.fv",function(e){e.preventDefault(),""===$(formCampania.editor.idFormEditor+" #Campania_Camp_Id").val()?formCampania.editor.agregar():formCampania.editor.modificar()})},agregar:function(){baseGrid.insertarConArchivo(route.campania,formCampania.editor.idFormEditor,formCampania.grid.idFormGrid,route.campania.idTab)},modificar:function(){baseGrid.actualizarConArchivo(route.campania,formCampania.editor.idFormEditor,formCampania.grid.idFormGrid,route.campania.idTab)}}},formConfiguracionEmail={idFormEditor:"#configuracionEmailEditorForm",call:function(e){baseEditor.call(route.configuracionEmail,void 0,"Configurar Email",dialog.normal,"#Camp_FechaInicio",void 0,void 0,void 0,!1)},load:function(){var e=$(formConfiguracionEmail.idFormEditor);helperFunctions.checked(e),$(e).find("#btn-guardar").on("click",function(){$(formConfiguracionEmail.idFormEditor).submit()}),formConfiguracionEmail.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{Host:{validators:{notEmpty:{message:"Ingrese el Host"}}},Puerto:{validators:{notEmpty:{message:"Ingrese el Puerto"}}},Usuario:{validators:{notEmpty:{message:"Ingrese el Usuario"},callback:{callback:function(e,t,i){return helperFunctions.validarEmail(e)}}}},Contrasenia:{validators:{notEmpty:{message:"Ingrese la Contrasea"}}},Header:{validators:{notEmpty:{message:"Ingrese el Encabezado"}}},Footer:{validators:{notEmpty:{message:"Ingrese el Pi de Pgina"}}}}}).on("success.form.fv",function(e){e.preventDefault(),formConfiguracionEmail.modificar()})},modificar:function(){baseGrid.actualizar(route.configuracionEmail,formConfiguracionEmail.idFormEditor)}},formProbarEmail={idFormEditor:"#probarEmailEditorForm",load:function(){var e=$(formProbarEmail.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),formProbarEmail.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{turistaMail:{validators:{notEmpty:{message:"Ingrese el Destinatario"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorEmail(e)}}}},asunto:{validators:{notEmpty:{message:"Ingrese el Asunto"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},mensaje:{validators:{notEmpty:{message:"Ingrese el Mensaje"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}}}}).on("success.form.fv",function(e){e.preventDefault(),formProbarEmail.probar()})},probar:function(){var e={asunto:$(formProbarEmail.idFormEditor).find("#asunto").val(),cuerpo:$(formProbarEmail.idFormEditor).find("#mensaje").val(),destinatario:$(formProbarEmail.idFormEditor).find("#turistaMail").val()},t={route:route.configuracionEmail,metodo:"Probar",data:e,type:"POST",messageSuccess:"Notificacin enviada exitosamente."};baseGrid.ejecutarAccion(t)}},formConfiguracionPush={idFormEditor:"#configuracionPushEditorForm",call:function(e){baseEditor.call(route.configuracionPush,void 0,"Configurar Notificaciones Push",dialog.normal,"#FirebaseApiUrl",void 0,void 0,void 0,!1)},load:function(){var e=$(formConfiguracionPush.idFormEditor);formConfiguracionPush.validation(e),$(e).find("#btn-guardar").on("click",function(){$(formConfiguracionPush.idFormEditor).submit()})},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{FirebaseApiUrl:{validators:{notEmpty:{message:"Ingrese el Firebase API Url."},callback:{callback:function(e,t,i){if(""!=e&&!helperFunctions.validarWeb(e))return{valid:!1,message:"Ingrese una Url correcta ejemplo (www.dominio.com)"};return!0}}}},FirebaseServerKey:{validators:{notEmpty:{message:"Ingrese Firebase Server Key."}}}}}).on("success.form.fv",function(e){e.preventDefault(),formConfiguracionPush.modificar()})},modificar:function(){baseGrid.actualizar(route.configuracionPush,formConfiguracionPush.idFormEditor)}},formProbarPush={idFormEditor:"#probarPushEditorForm",load:function(){var e=$(formProbarPush.idFormEditor);helperFunctions.desactivarEnter(e),formProbarPush.validation(e),autocomplete.iniciarSearchUsuarioNombre("#TuristaNombre","#TuristaGuid",function(){helperFunctions.refreshFielValidator(e,"TuristaNombre")}),$(e).find("#btn-probar").on("click",function(){$(formProbarPush.idFormEditor).submit()})},validation:function(a){$(a).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{TuristaNombre:{validators:{callback:{message:"Seleccione un Usuario",callback:function(e,t,i){return""!==$(a).find("#TuristaGuid").val()}}}},Mensaje:{validators:{notEmpty:{message:"Ingrese el Mensaje"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},Asunto:{validators:{notEmpty:{message:"Ingrese el Asunto"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}}}}).on("success.form.fv",function(e){e.preventDefault();var t=$(formProbarPush.idFormEditor);$(t).find("#FirebaseApiUrlAux").val($("#FirebaseApiUrl").val()),$(t).find("#FirebaseServerKeyAux").val($("#FirebaseServerKey").val()),formProbarPush.probar(t)})},probar:function(e){var t=$(e).serialize(),i={route:route.configuracionPush,metodo:"Probar",data:t,type:"POST",messageSuccess:"Prueba realizada correctamente"};baseGrid.ejecutarAccion(i)}},formCoordenada={grid:{tabContenedor:"#tabCoordenadas",idFormGrid:"#formCoordenadaGrid",ruta_Id:void 0,call:function(e){formCoordenada.grid.ruta_Id=e;var t={route:route.coordenada,id:e,type:"GET",updateTargetId:"#tab-editor",metodo:"Index",messageSuccess:""};baseGrid.ejecutarAccion(t)},load:function(){formRuta.editor.activarTab(formCoordenada.grid.tabContenedor);var e=$(formCoordenada.grid.idFormGrid);baseGrid.load(route.coordenada,formCoordenada.grid.idFormGrid,route.coordenada.idTab,formCoordenada.editor.call,formCoordenada.grid.desactivar,formCoordenada.grid.activar),formCoordenada.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),baseGrid.find(route.coordenada,formCoordenada.grid.idFormGrid,void 0,route.coordenada.idTab,1)})},activar:function(e){baseGrid.activar(route.coordenada,e,formCoordenada.grid.idFormGrid,route.coordenada.idTab)},desactivar:function(e){baseGrid.desactivar(route.coordenada,e,formCoordenada.grid.idFormGrid,route.coordenada.idTab,void 0,"Seguro que desea desactivar la coordenada?")}},editor:{idFormEditor:"#formCoordenadaEditor",call:function(e){var t=e?"Editar Ubicacin de Ruta":"Registrar Ubicacin de Ruta",i={id:e,ruta_Id:$(formCoordenada.grid.idFormGrid).find("#Ruta_Id").val()};baseEditor.call(route.coordenada,void 0,t,dialog.mediano,"#Coordenada_Coor_LatitudSuperior",i)},load:function(){var e=$(formCoordenada.editor.idFormEditor);helperFunctions.desactivarEnter(e),formCoordenada.editor.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Coordenada.Coor_LatitudSuperior":{validators:{notEmpty:{message:"Ingrese Latitud"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorCoordenada(e)}}}},"Coordenada.Coor_LongitudSuperior":{validators:{notEmpty:{message:"Ingrese Longitud"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorCoordenada(e)}}}},"Coordenada.Coor_LatitudInferior":{validators:{notEmpty:{message:"Ingrese Latitud"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorCoordenada(e)}}}},"Coordenada.Coor_LongitudInferior":{validators:{notEmpty:{message:"Ingrese Longitud"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorCoordenada(e)}}}}}}).on("success.form.fv",function(e){e.preventDefault();var t=$(formCoordenada.editor.idFormEditor+" #Coordenada_Coor_Id").val();""===t||0==t?formCoordenada.editor.agregar():formCoordenada.editor.modificar()})},agregar:function(){baseGrid.insertar(route.coordenada,formCoordenada.editor.idFormEditor,formCoordenada.grid.idFormGrid,route.coordenada.idTab)},modificar:function(){baseGrid.actualizar(route.coordenada,formCoordenada.editor.idFormEditor,formCoordenada.grid.idFormGrid,route.coordenada.idTab)}}},formDirectorio={grid:{idFormGrid:"#formDirectorioGrid",inputSelected:"#",call:function(e){baseGrid.callInTab(route.directorio,e.textContent)},load:function(){var e=$(formDirectorio.grid.idFormGrid);baseGrid.load(route.directorio,formDirectorio.grid.idFormGrid,route.directorio.idTab,formDirectorio.editor.call,formDirectorio.grid.desactivar,formDirectorio.grid.activar),"#"!==formDirectorio.grid.inputSelected&&helperFunctions.focus(e,formDirectorio.grid.inputSelected),helperFunctions.datepicker(e),formDirectorio.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formDirectorio.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.directorio,formDirectorio.grid.idFormGrid,void 0,route.directorio.idTab,1)})},activar:function(e){baseGrid.activar(route.directorio,e,formDirectorio.grid.idFormGrid,route.directorio.idTab)},desactivar:function(e){baseGrid.desactivar(route.directorio,e,formDirectorio.grid.idFormGrid,route.directorio.idTab,void 0,"Seguro que desea desactivar el registro?")}},editor:{idFormEditor:"#formDirectorioEditor",call:function(e){var t=e?"Editar Registro":"Agregar Registro";baseEditor.call(route.directorio,e,t,dialog.normal,"#Directorio_Dire_Nombre")},load:function(){var e=$(formDirectorio.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),formDirectorio.editor.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",excluded:[":disabled"],button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Directorio.Dire_Nombre":{validators:{notEmpty:{message:"Ingrese el Nombre"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Directorio.Dire_Telefonos":{validators:{notEmpty:{message:"Ingrese los Telfonos"}}},"Directorio.Dire_Web":{validators:{callback:{callback:function(e,t,i){if(""!==e&&!helperFunctions.validarWeb(e))return{valid:!1,message:"Ingrese una Url correcta ejemplo (www.dominio.com)"};return!0}}}}}}).on("success.form.fv",function(e){e.preventDefault(),""===$(formDirectorio.editor.idFormEditor+" #Directorio_Dire_Id").val()?formDirectorio.editor.agregar():formDirectorio.editor.modificar()})},agregar:function(){baseGrid.insertarConArchivo(route.directorio,formDirectorio.editor.idFormEditor,formDirectorio.grid.idFormGrid,route.directorio.idTab)},modificar:function(){baseGrid.actualizarConArchivo(route.directorio,formDirectorio.editor.idFormEditor,formDirectorio.grid.idFormGrid,route.directorio.idTab)}}},formHome={loadMenuLateral:function(){$(".main-sidebar").find(".subMenuLateral").on("click",function(e){var t=jQuery(e.currentTarget).data("callback");1===t?formRol.grid.call($(this)[0]):2===t?formUsuario.grid.call($(this)[0]):3===t?formRol_Opcion.editor.call($(this)[0]):4===t?formRuta.grid.call($(this)[0]):5===t?formCampania.grid.call($(this)[0]):6===t?formIconografia.grid.call($(this)[0]):7===t?formBeneficio.grid.call($(this)[0]):8===t?formAvatar.grid.call($(this)[0]):9===t?formTipo.grid.call($(this)[0]):10===t?formAlerta.grid.call($(this)[0]):11===t?formPregunta.grid.call($(this)[0]):12===t?formAtractivo.grid.call($(this)[0]):13===t?formAtractivoValorado.grid.call($(this)[0]):14===t?formConfiguracionPush.call($(this)[0]):15===t?formNotificacionPush.grid.call($(this)[0]):16===t?repRegistroPorUbigeo.editor.call($(this)[0]):17===t?repRegistroPorGenero.editor.call($(this)[0]):18===t?repRegistroPorEdad.editor.call($(this)[0]):19===t?repEstadoUso.editor.call($(this)[0]):20===t?repDesplazamientoARuta.editor.call($(this)[0]):21===t?repTiempoPermanenciaEnApp.editor.call($(this)[0]):22===t?repRankingSeccionVisitada.editor.call($(this)[0]):23===t?repDestinosBuscados.editor.call($(this)[0]):24===t?formNotificacionEmail.grid.call($(this)[0]):25===t?formNotificacionManual.grid.call($(this)[0]):26===t?formAvatar.editorPuntuacion.call($(this)[0]):27===t?formUsuario.editorActualizarContrasea.call($(this)[0]):28===t?formMensaje.grid.call($(this)[0]):29===t?formConfiguracionEmail.call($(this)[0]):31===t?formDirectorio.grid.call($(this)[0]):32===t?repRegistroTurista.editor.call($(this)[0]):33===t?formOfertas.sincronizar.call($(this)[0]):35===t&&formPush.grid.call($(this)[0])})},loadNotificaciones:function(){$("#btn-comentarioPendiente").on("click",function(){formAtractivoValorado.grid.callComentariosPendientes(this)}),$("#btn-fotoPendiente").on("click",function(){formAtractivoValorado.grid.callFotosPendientes(this)})}},formIconografia={grid:{idFormGrid:"#iconografiaGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.iconografia,e.textContent)},load:function(){var e=$(formIconografia.grid.idFormGrid);baseGrid.load(route.iconografia,formIconografia.grid.idFormGrid,route.iconografia.idTab,formIconografia.editor.call,formIconografia.grid.desactivar,formIconografia.grid.activar),"#"!==formIconografia.grid.inputSelected&&helperFunctions.focus(e,formIconografia.grid.inputSelected),formIconografia.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formIconografia.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.iconografia,formIconografia.grid.idFormGrid,void 0,route.iconografia.idTab,1)})},activar:function(e){baseGrid.activar(route.iconografia,e,formIconografia.grid.idFormGrid,route.iconografia.idTab)},desactivar:function(e){baseGrid.desactivar(route.iconografia,e,formIconografia.grid.idFormGrid,route.iconografia.idTab,void 0,"Seguro que desea desactivar la iconografia?")}},editor:{idFormEditor:"#iconografiaEditorForm",call:function(e){var t=e?"Editar Iconografia":"Registrar Iconografia";baseEditor.call(route.iconografia,e,t,dialog.normal,"#Grup_Id")},loadGrupoDetalle:function(e){var t=$("#Grupo_Grup_IconografiaAlto").val(),i=$("#Grupo_Grup_IconografiaAncho").val(),a=$("#Grupo_Grup_IconografiaExtencion").val(),o=constantes.imgMaxSizeIconografias/1024;""!=t&&""!=i?$("#smallValidacionControl").html("Tamao: "+i+" x "+t+" px, Peso Max: "+o+" KB y Formato: "+a):$("#smallValidacionControl").html(""),null!=e&&""!=e&&null!=e&&mensaje.advertencia(e)},loadDestino:function(){var i=$(formIconografia.editor.idFormEditor);$(i).find("#Iconografia_Icon_DestinoId").change(function(){var e=$(i).find("#Iconografia_Grup_Id").val(),t=$(formIconografia.editor.idFormEditor+" #Iconografia_Icon_Id").val();formIconografia.editor.actualizarGrupoDetalle(e,$(this).val(),t)})},load:function(){var e=$(formIconografia.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),$(e).find("#Iconografia_Grup_Id").change(function(){var e=$(formIconografia.editor.idFormEditor+" #Iconografia_Icon_Id").val();formIconografia.editor.actualizarDestinos($(this).val()),formIconografia.editor.actualizarGrupoDetalle($(this).val(),0,e)}),helperFunctions.calcularImagenesDimensiones(e),helperFunctions.pluginImagenes(e),formIconografia.editor.validation(e)},actualizarDestinos:function(e){var t={route:route.iconografia,metodo:route.iconografia.listarDestinos,type:"GET",updateTargetId:"#wrapper-Destino",messageSuccess:"",data:{grup_Id:e},onSuccessComplete:function(){var e=$(formIconografia.editor.idFormEditor);helperFunctions.addFielValidator2(e,"Iconografia.Icon_DestinoId",{validators:{notEmpty:{message:"Seleccione el Destino"}}}),helperFunctions.refreshFielValidator(formIconografia.editor.idFormEditor,"Iconografia.Icon_DestinoId")}};baseGrid.ejecutarAccion(t)},actualizarGrupoDetalle:function(e,t,i){var a={route:route.iconografia,metodo:route.iconografia.listarGrupoDetalle,type:"GET",updateTargetId:"#wrapper-grupoDetalle",messageSuccess:"",data:{grup_Id:e,destino_Id:t,icon_Id:i},onSuccessComplete:function(){var e=$(formIconografia.editor.idFormEditor);helperFunctions.addFielValidator2(e,"Iconografia.Icon_TipoId",{validators:{notEmpty:{message:"Seleccione el Detalle"}}});$(e).find("#Iconografia_Icon_TipoId").val();helperFunctions.refreshFielValidator(formIconografia.editor.idFormEditor,"Iconografia.Icon_TipoId"),helperFunctions.refreshFielValidator(formIconografia.editor.idFormEditor,"FilesToUpload")}};baseGrid.ejecutarAccion(a)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Iconografia.Grup_Id":{validators:{notEmpty:{message:"Seleccione el Grupo"}}},"Iconografia.Icon_DestinoId":{validators:{notEmpty:{message:"Seleccione el Destino"}}},"Iconografia.Icon_TipoId":{validators:{notEmpty:{message:"Seleccione el Detalle"}}},FilesToUpload:{enabled:!0,validators:{file:{extension:"png",type:"image/png",message:"Formato Invlido",maxSize:constantes.imgMaxSizeIconografias},callback:{callback:function(e,t,i){var a=$("#Grupo_Grup_IconografiaAlto").val(),o=$("#Grupo_Grup_IconografiaAncho").val(),n=!1;return""===$(formIconografia.editor.idFormEditor+" #Iconografia_Icon_Id").val()&&(n=!0),helperFunctions.validarArchivoImagen(i,e,n,o,a)}}}}}}).on("success.form.fv",function(e){e.preventDefault(),""==$(formIconografia.editor.idFormEditor+" #Iconografia_Icon_Id").val()?formIconografia.editor.agregar():formIconografia.editor.modificar()})},agregar:function(){baseGrid.insertarConArchivo(route.iconografia,formIconografia.editor.idFormEditor,formIconografia.grid.idFormGrid,route.iconografia.idTab)},modificar:function(){baseGrid.actualizarConArchivo(route.iconografia,formIconografia.editor.idFormEditor,formIconografia.grid.idFormGrid,route.iconografia.idTab)}}},formMensaje={grid:{idFormGrid:"#mensajeGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.mensaje,e.textContent)},load:function(){var e=$(formMensaje.grid.idFormGrid);baseGrid.load(route.mensaje,formMensaje.grid.idFormGrid,route.mensaje.idTab,formMensaje.editor.call),"#"!==formMensaje.grid.inputSelected&&helperFunctions.focus(e,formMensaje.grid.inputSelected),helperFunctions.datepicker(e),$(e).find("#btn-editor").on("click",function(){var e=$(this).attr("data1"),t=$(this).attr("data2");formMensaje.editor.callDetalle(e,t)}),formMensaje.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formMensaje.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.mensaje,formMensaje.grid.idFormGrid,void 0,route.mensaje.idTab,1)})}},editor:{idFormEditor:"#mensajeEditorForm",call:function(e){baseEditor.call(route.mensaje,e,"Enviar Notificacin",dialog.normal,"#Mensaje_PlantillaId",void 0,{buttonOkLabel:"Enviar"},void 0,void 0,void 0,void 0,void 0,null)},callDetalle:function(e,t){var i="Detalle de Notificacin";"false"==t.toLowerCase()?baseEditor.call(route.mensaje,e,i,dialog.normal,"#Mensaje_Mens_Error",void 0,{buttonOkLabel:"Enviar"},"EditorDetalle",!1):baseEditor.call(route.mensaje,e,i,dialog.normal,"#Mensaje_Mens_Error",void 0,{buttonOkLabel:"Enviar"},"EditorDetalle")},load:function(){var e=$(formMensaje.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),helperFunctions.pluginEditorHtml(e,"Mensaje.Mens_Cuerpo"),$(e).find("#Mensaje_PlantillaId").change(function(){var e=$(this).val();formMensaje.editor.actualizarAsuntoDetalle(e)}),autocomplete.iniciarSearchUsuarioNombre("#Mensaje_Destinatario_Nombre","#Mensaje_Destinatario_Guid",function(){helperFunctions.refreshFielValidator(e,"Mensaje.Destinatario_Guid")}),formMensaje.editor.validation(e)},loadMensaje:function(e,t){var i=$(formMensaje.editor.idFormEditor);e=$(i).find("#AsuntoAux").val(),$(i).find("#Mensaje_Mens_Asunto").val(e),$(i).formValidation("revalidateField","Mensaje.Mens_Asunto"),$(i).formValidation("revalidateField","Mensaje.Mens_Cuerpo")},actualizarAsuntoDetalle:function(e){var t={id:e},i={route:route.mensaje,metodo:route.mensaje.actualizarAsuntoDetalle,data:t,type:"GET",updateTargetId:"#wrapper-asunto",messageSuccess:""};baseGrid.ejecutarAccion(i)},validation:function(n){$(n).formValidation({locale:"es_ES",excluded:[":disabled"],button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Mensaje.PlantillaId":{validators:{notEmpty:{message:"Seleccione la Plantilla"}}},"Mensaje.Mens_Asunto":{validators:{notEmpty:{message:"Ingrese el Asunto"}}},"Mensaje.Mens_Cuerpo":{validators:{notEmpty:{message:"Ingrese el Mensaje"}}},"Mensaje.Destinatario_Nombre":{validators:{callback:{message:"Ingrese el Destinatario",callback:function(e,t,i){var a=$(n).find("#Mensaje_Destinatario_Guid").val(),o=e.length;return""===a&&""===e||!(void 0!==a&&""!==a&&o<3)}}}},"Mensaje.Destinatario_Guid":{excluded:!1,validators:{callback:{message:"Ingrese el Destinatario",callback:function(e,t,i){return""!==e}}}}}}).on("success.form.fv",function(e){e.preventDefault();var t=$(formMensaje.editor.idFormEditor+" #Mensaje_Mens_Id").val();""===t||"0"==t?formMensaje.editor.agregar():formMensaje.editor.reenviar()})},agregar:function(){baseGrid.insertar(route.mensaje,formMensaje.editor.idFormEditor,formMensaje.grid.idFormGrid,route.mensaje.idTab)},reenviar:function(){baseGrid.actualizar(route.mensaje,formMensaje.editor.idFormEditor,formMensaje.grid.idFormGrid,route.mensaje.idTab,!0,"Reenviar")}}},formNotificacionEmail={grid:{idFormGrid:"#notificacionEmailGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.notificacionEmail,e.textContent)},load:function(){var e=$(formNotificacionEmail.grid.idFormGrid);baseGrid.load(route.notificacionEmail,formNotificacionEmail.grid.idFormGrid,route.notificacionEmail.idTab,formNotificacionEmail.editor.call,formNotificacionEmail.grid.desactivar,formNotificacionEmail.grid.activar),"#"!==formNotificacionEmail.grid.inputSelected&&helperFunctions.focus(e,formNotificacionEmail.grid.inputSelected),$(e).find("#btn-editor").on("click",function(){formNotificacionEmail.editorMensaje.call(this)}),formNotificacionEmail.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formNotificacionEmail.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.notificacionEmail,formNotificacionEmail.grid.idFormGrid,void 0,route.notificacionEmail.idTab,1)})},activar:function(e){baseGrid.activar(route.notificacionEmail,e,void 0,route.notificacionEmail.idTab)},desactivar:function(e){baseGrid.desactivar(route.notificacionEmail,e,void 0,route.notificacionEmail.idTab,void 0,"Seguro que desea desactivar la notificacin?")}},editorMensaje:{mensaje:"",call:function(e){var t=$(e).closest("tr").find("td:first").find("input").val();baseEditor.call(route.notificacionEmail,void 0,"",dialog.normal,"#Notificacion_Noti_Asunto",{cuerpo:t},void 0,"MostrarMensaje",!1,!1,void 0,void 0,null)}},editor:{idFormEditor:"#notificacionEditorForm",call:function(e){var t=e?"Editar Notificacin":"Registrar Notificacin";baseEditor.call(route.notificacionEmail,e,t,dialog.normal,"#Notificacion_Noti_Asunto",void 0,void 0,void 0,void 0,void 0,void 0,void 0,null)},load:function(){var e=$(formNotificacionEmail.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),helperFunctions.pluginEditorHtml(e,"Notificacion.Noti_Cuerpo"),formNotificacionEmail.editor.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",excluded:[":disabled"],button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Notificacion.Noti_Asunto":{validators:{notEmpty:{message:"Ingrese el Asunto."}}},"Notificacion.Noti_Cuerpo":{validators:{notEmpty:{message:"Ingrese el Texto."}}}}}).on("success.form.fv",function(e){e.preventDefault(),formNotificacionEmail.editor.modificar()})},modificar:function(){baseGrid.actualizar(route.notificacionEmail,formNotificacionEmail.editor.idFormEditor,formNotificacionEmail.grid.idFormGrid,route.notificacionEmail.idTab)}}},formNotificacionManual={grid:{idFormGrid:"#notificacionGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.notificacionManual,e.textContent)},load:function(){var e=$(formNotificacionManual.grid.idFormGrid);baseGrid.load(route.notificacionManual,formNotificacionManual.grid.idFormGrid,route.notificacionManual.idTab,formNotificacionManual.editor.call,formNotificacionManual.grid.desactivar,formNotificacionManual.grid.activar),"#"!==formNotificacionManual.grid.inputSelected&&helperFunctions.focus(e,formNotificacionManual.grid.inputSelected),formNotificacionManual.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formNotificacionManual.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.notificacionManual,formNotificacionManual.grid.idFormGrid,void 0,route.notificacionManual.idTab,1)})},activar:function(e){baseGrid.activar(route.notificacionManual,e,void 0,route.notificacionManual.idTab)},desactivar:function(e){baseGrid.desactivar(route.notificacionManual,e,void 0,route.notificacionManual.idTab,void 0,"Seguro que desea desactivar la notificacin?")}},editor:{idFormEditor:"#notificacionEditorForm",call:function(e){var t=e?"Editar Notificacin":"Registrar Notificacin";baseEditor.call(route.notificacionManual,e,t,dialog.normal,"#Notificacion_Noti_Asunto",void 0,void 0,void 0,void 0,void 0,void 0,void 0,null)},load:function(){var e=$(formNotificacionManual.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),helperFunctions.pluginEditorHtml(e,"Notificacion.Noti_Cuerpo"),formNotificacionManual.editor.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",excluded:[":disabled"],button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Notificacion.Noti_Asunto":{validators:{notEmpty:{message:"Ingrese el Asunto"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Notificacion.Noti_Cuerpo":{validators:{notEmpty:{message:"Ingrese el Texto."}}}}}).on("success.form.fv",function(e){e.preventDefault();var t=$(formNotificacionManual.editor.idFormEditor).find("#Notificacion_Noti_Id").val();null==t||""==t||"0"==t?formNotificacionManual.editor.agregar():formNotificacionManual.editor.modificar()})},agregar:function(){baseGrid.insertar(route.notificacionManual,formNotificacionManual.editor.idFormEditor,formNotificacionManual.grid.idFormGrid,route.notificacionManual.idTab)},modificar:function(){baseGrid.actualizar(route.notificacionManual,formNotificacionManual.editor.idFormEditor,formNotificacionManual.grid.idFormGrid,route.notificacionManual.idTab)}}},formNotificacionPush={grid:{idFormGrid:"#notificacionPushGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.notificacionPush,e.textContent)},load:function(){var e=$(formNotificacionPush.grid.idFormGrid);baseGrid.load(route.notificacionPush,formNotificacionPush.grid.idFormGrid,route.notificacionPush.idTab,formNotificacionPush.editor.call,formNotificacionPush.grid.desactivar,formNotificacionPush.grid.activar),"#"!==formNotificacionPush.grid.inputSelected&&helperFunctions.focus(e,formNotificacionPush.grid.inputSelected),formNotificacionPush.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formNotificacionPush.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.notificacionPush,formNotificacionPush.grid.idFormGrid,void 0,route.notificacionPush.idTab,1)})},activar:function(e){baseGrid.activar(route.notificacionPush,e,void 0,route.notificacionPush.idTab)},desactivar:function(e){baseGrid.desactivar(route.notificacionPush,e,void 0,route.notificacionPush.idTab,void 0,"Seguro que desea desactivar la notificacin?")}},editor:{idFormEditor:"#notificacionEditorForm",call:function(e){var t=e?"Editar Notificacin":"Registrar Notificacin";baseEditor.call(route.notificacionPush,e,t,dialog.normal,"#Notificacion_Noti_Cuerpo")},load:function(){var e=$(formNotificacionPush.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),formNotificacionPush.editor.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Notificacion.Noti_Asunto":{validators:{notEmpty:{message:"Ingrese el Ttulo"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Notificacion.Noti_Cuerpo":{validators:{notEmpty:{message:"Ingrese el Texto"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}}}}).on("success.form.fv",function(e){e.preventDefault();$(formNotificacionPush.editor.idFormEditor).find("#Notificacion_Noti_Id").val();formNotificacionPush.editor.modificar()})},modificar:function(){baseGrid.actualizar(route.notificacionPush,formNotificacionPush.editor.idFormEditor,formNotificacionPush.grid.idFormGrid,route.notificacionPush.idTab)}}},formOfertas={sincronizar:{idFormEditor:"#formOferta",call:function(e){var t=e.textContent;baseEditor.call(route.oferta,void 0,t,dialog.normal,"#FirebaseApiUrl",void 0,void 0,"sincronizador",!1,!1)},load:function(){var e=$(formOfertas.sincronizar.idFormEditor);formOfertas.sincronizar.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formOfertas.sincronizar.sincronizar()})},sincronizar:function(){var e={route:route.oferta,metodo:"sincronizar",type:"POST",messageSuccess:"Sincronizacin exitosa",messageConfirmation:"Seguro que desea sincronizar las ofertas?",updateTargetId:"#divOfertaDatos"};baseGrid.ejecutarAccion(e)}}},formPregunta={grid:{idFormGrid:"#preguntaGridForm",inputSelected:"#",call:function(e){null==e?baseGrid.callInTab(route.pregunta,"Administrar Encuestas"):baseGrid.callInTab(route.pregunta,e.textContent)},refresh:function(){var e=$(formPregunta.grid.idFormGrid);$(e).submit()},load:function(){var e=$(formPregunta.grid.idFormGrid);baseGrid.load(route.pregunta,formPregunta.grid.idFormGrid,route.pregunta.idTab,formPregunta.editor.call,formPregunta.grid.desactivar,formPregunta.grid.activar),"#"!==formPregunta.grid.inputSelected&&helperFunctions.focus(e,formPregunta.grid.inputSelected),formPregunta.grid.mostrarRuta(),$(e).find("#Filtro_Preg_EncuestaId").change(function(){formPregunta.grid.mostrarRuta()}),formPregunta.grid.validation(e),autocomplete.iniciarSearchRutaNombre("#Filtro_Ruta_Nombre","#Filtro_Preg_RutaId")},mostrarRuta:function(){var e=$(formPregunta.grid.idFormGrid);$("#Filtro_Preg_EncuestaId").val()==constantes.tipoEncuestaRuta?helperFunctions.mostrar(e,"#divPreg_RutaId"):(helperFunctions.ocultar(e,"#divPreg_RutaId"),$("#Filtro_Preg_RutaId").val(""))},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formPregunta.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.pregunta,formPregunta.grid.idFormGrid,void 0,route.pregunta.idTab,1)})},activar:function(e){baseGrid.activar(route.pregunta,e,formPregunta.grid.idFormGrid,route.pregunta.idTab)},desactivar:function(e){baseGrid.desactivar(route.pregunta,e,formPregunta.grid.idFormGrid,route.pregunta.idTab,void 0,"Seguro que desea desactivar la pregunta?")}},editor:{idFormEditor:"#preguntaEditorForm",call:function(e){var t=e?"Editar Pregunta":"Registrar Pregunta";baseEditor.call(route.pregunta,e,t,dialog.normal,"#Preg_Numeracion",void 0,void 0,void 0,!1,!1,void 0,formPregunta.grid.refresh)},load:function(){var r=$(formPregunta.editor.idFormEditor);helperFunctions.desactivarEnter(r),helperFunctions.checked(r);var e=$("#Pregunta_Preg_EncuestaId").val();formPregunta.editor.mostrarRutas(e),formPregunta.editor.mostrarRespuestas(),$(r).find("#Pregunta_Preg_EncuestaId").change(function(){if(formPregunta.editor.mostrarRutas($(this).val()),$("#Pregunta_Ruta_Nombre").val(""),$("#Pregunta_Preg_RutaId").val(""),$(this).val()!=constantes.tipoEncuestaRuta)helperFunctions.removeFielValidator(r,"Pregunta.Ruta_Nombre"),$(r).find(".divPreguntaRuta").removeClass("has-success"),$(r).find(".divPreguntaRuta").removeClass("has-error");else{var e={row:".divPreguntaRuta",validators:{callback:{message:"Ingrese la Ruta",callback:function(e,t,i){var a=$(r).find("#Pregunta_Preg_RutaId").val(),o=$(r).find("#Pregunta_Preg_EncuestaId").val(),n=e.length;return o!=constantes.tipoEncuestaRuta||""!==a&&!(""===e||n<3)}}}};helperFunctions.addFielValidator2(r,"Pregunta.Ruta_Nombre",e)}}),$(r).find("#Pregunta_Preg_TipoRespuestaId").change(function(){$(this).val()==constantes.tipoRespuestaTextoLibre?($(r).find("#divPreg_Activo").show(),$(r).find("#divPreg_Activo").removeClass("hidden")):($(r).find("input:checkbox").iCheck("uncheck"),$(r).find("#divPreg_Activo").hide(),$(r).find("#divPreg_Activo").addClass("hidden")),formPregunta.editor.mostrarRespuestas()});var t=$("#Pregunta_Preg_Id").val(),i=$("#Resp_PreguntaId_Aux").val();""===t&&void 0!==i&&$("#Pregunta_Preg_Id").val(i),autocomplete.iniciarSearchRutaNombre("#Pregunta_Ruta_Nombre","#Pregunta_Preg_RutaId",function(){helperFunctions.refreshFielValidator(r,"Pregunta.Ruta_Nombre")}),helperFunctions.touchSpin(r,"Pregunta.Preg_Numeracion",1,99),$(r).find("#Pregunta.Preg_Numeracion").mask("00"),$(r).find("#btn-guardar").on("click",function(){$(formPregunta.editor.idFormEditor).submit()}),formPregunta.editor.validation(r)},mostrarRutas:function(e){var t=$(formPregunta.editor.idFormEditor);e==constantes.tipoEncuestaRuta?helperFunctions.mostrarActivar(t,"#divPreguntaRuta"):helperFunctions.ocultarInactivar(t,"#divPreguntaRuta")},mostrarRespuestas:function(){var e=$(formPregunta.editor.idFormEditor);$("#Pregunta_Preg_TipoRespuestaId").val()==constantes.tipoRespuestaTextoLibre?helperFunctions.ocultar(e,"#wrapper-respuesta"):helperFunctions.mostrar(e,"#wrapper-respuesta")},validation:function(r){$(r).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Pregunta.Preg_EncuestaId":{validators:{notEmpty:{message:"Seleccione el Tipo de Encuesta"}}},"Pregunta.Ruta_Nombre":{row:".divPreguntaRuta",validators:{callback:{message:"Ingrese la Ruta",callback:function(e,t,i){var a=$(r).find("#Pregunta_Preg_RutaId").val(),o=$(r).find("#Pregunta_Preg_EncuestaId").val(),n=e.length;return o!=constantes.tipoEncuestaRuta||""!==a&&!(""===e||n<3)}}}},"Pregunta.Preg_Numeracion":{validators:{notEmpty:{message:"Ingrese Nmero de Pregunta"},callback:{callback:function(e,t,i){if(""!=e){if(!helperFunctions.validarNumeros(e))return{valid:!1,message:"Solo se permiten valores numricos"};if(e<1)return{valid:!1,message:"Solo se permiten nmeros mayores a 0"}}return!0}}}},"Pregunta.Preg_Texto":{validators:{notEmpty:{message:"Ingrese la Pregunta"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoPregunta(e)}}}},"Pregunta.Preg_TipoRespuestaId":{validators:{notEmpty:{message:"Seleccione el Tipo de Respuesta"}}}}}).on("success.form.fv",function(e){e.preventDefault();var t=$(formPregunta.editor.idFormEditor+" #Pregunta_Preg_Id").val(),i=$(formPregunta.editor.idFormEditor+" #Pregunta_Preg_TipoRespuestaId").val();""===t?formPregunta.editor.agregar(i):formPregunta.editor.modificar()})},agregar:function(e){if(e==constantes.tipoRespuestaTextoLibre)baseGrid.insertar(route.pregunta,formPregunta.editor.idFormEditor,formPregunta.grid.idFormGrid,route.pregunta.idTab);else{var t=$(formPregunta.editor.idFormEditor).serialize();$(formPregunta.editor.idFormEditor+" #Pregunta_Preg_Id").val();var i={route:route.pregunta,data:t,type:"POST",metodo:"Insertar",updateTargetId:"#wrapper-pregunta"};baseGrid.ejecutarAccion(i)}},modificar:function(){baseGrid.actualizar(route.pregunta,formPregunta.editor.idFormEditor,formPregunta.grid.idFormGrid,route.pregunta.idTab)}}},formPush={grid:{idFormGrid:"#pushGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.push,e.textContent)},load:function(){var e=$(formPush.grid.idFormGrid);baseGrid.load(route.push,formPush.grid.idFormGrid,route.push.idTab,formPush.editor.call,formPush.grid.desactivar,formPush.grid.activar),"#"!==formPush.grid.inputSelected&&helperFunctions.focus(e,formPush.grid.inputSelected),formPush.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formPush.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.push,formPush.grid.idFormGrid,void 0,route.push.idTab,1)})},activar:function(e){baseGrid.activar(route.push,e,formPush.grid.idFormGrid,route.push.idTab)},desactivar:function(e){baseGrid.desactivar(route.push,e,formPush.grid.idFormGrid,route.push.idTab,void 0,"Seguro que desea desactivar al push?")},obtenerExcel:function(e){var t={route:route.push,metodo:route.push.obtenerExcel,type:"GET",messageSuccess:"",data:{id:e},onSuccessComplete:function(){}};baseGrid.ejecutarAccion(t)}},editor:{idFormEditor:"#pushEditorForm",call:function(e){var t=e?"Editar Push":"Agregar Push";baseEditor.call(route.push,e,t,dialog.normal,"#Push_Push_DestinatarioId")},load:function(){var e=$(formPush.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),formPush.editor.validation(e),helperFunctions.datetimepicker(e);var t=$(formPush.editor.idFormEditor+" #Push_Push_DestinatarioId").val();""==t||126==t?$(".divGrupoDetalle").addClass("hidden"):$(".divGrupoDetalle").removeClass("hidden"),$(e).find("#Push_Push_DestinatarioId").change(function(){var e=$(this).val();""==e||126==e?$(".divGrupoDetalle").addClass("hidden"):($(".divGrupoDetalle").removeClass("hidden"),formPush.editor.actualizarTarget(e))})},loadTarget:function(e,t){var i=$(formPush.editor.idFormEditor);if($(i).find(".divGrupoDetalle").removeClass("has-error"),$(i).find(".divGrupoDetalle").removeClass("has-success"),e==t){helperFunctions.addFielValidator2(i,"Push.Push_TargetDescripcion",{validators:{notEmpty:{message:"Seleccione el Target"}}}),autocomplete.iniciarSearchRutaNombre("#Push_Push_TargetDescripcion","#Push_Push_TargetId",function(){helperFunctions.refreshFielValidator(i,"Push.Push_TargetDescripcion")})}else{helperFunctions.addFielValidator2(i,"Push.Push_TargetId",{validators:{notEmpty:{message:"Seleccione el Target"}}})}},actualizarTarget:function(e){var t={route:route.push,metodo:route.push.listarTarget,type:"GET",updateTargetId:"#div-wrapper-target",messageSuccess:"",data:{destinatarioId:e},onSuccess:function(){}};baseGrid.ejecutarAccion(t)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Push.Push_OrigenId":{validators:{notEmpty:{message:"Seleccione el Origen"}}},"Push.Push_DestinatarioId":{validators:{notEmpty:{message:"Seleccione el Destiantario"}}},"Push.Push_TargetId":{validators:{notEmpty:{message:"Seleccione el Target"}}},"Push.Push_Asunto":{validators:{notEmpty:{message:"Ingrese el Ttulo"}}},"Push.Push_Cuerpo":{validators:{notEmpty:{message:"Ingrese el Mensaje"}}},FechaHoraProgramadaText:{row:".divFechaHoraProgramadaText",validators:{notEmpty:{message:"Ingrese la Fecha Programada"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY h:m A"}}}}}).on("success.form.fv",function(e){e.preventDefault(),""===$(formPush.editor.idFormEditor+" #Push_Push_Id").val()?formPush.editor.agregar():formPush.editor.modificar()})},agregar:function(){baseGrid.insertar(route.push,formPush.editor.idFormEditor,formPush.grid.idFormGrid,route.push.idTab)},modificar:function(){baseGrid.actualizar(route.push,formPush.editor.idFormEditor,formPush.grid.idFormGrid,route.push.idTab)}}},formRecomendacion={grid:{tabContenedor:"#tabRecomendaciones",idFormGrid:"#formRecomendacionesGrid",ruta_Id:void 0,call:function(e){$("#btn-datosGeneralesTab").on("click",function(){formRuta.editor.refrescar(e)}),$("#btn-recomendacionesTab").on("click",function(){formRecomendacion.grid.call(e)}),$("#btn-imagenesTab").on("click",function(){formRuta.imagenGrid.call(e)}),$("#btn-coordenadasTab").on("click",function(){formCoordenada.grid.call(e)}),formRecomendacion.grid.ruta_Id=e;var t={route:route.recomendacion,id:e,type:"GET",updateTargetId:"#tab-editor",metodo:"Index",messageSuccess:""};baseGrid.ejecutarAccion(t)},load:function(){formRuta.editor.activarTab(formRecomendacion.grid.tabContenedor);var e=$(formRecomendacion.grid.idFormGrid);baseGrid.load(route.recomendacion,formRecomendacion.grid.idFormGrid,route.recomendacion.idTab,formRecomendacion.editor.call,formRecomendacion.grid.desactivar,formRecomendacion.grid.activar),formRecomendacion.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),baseGrid.find(route.recomendacion,formRecomendacion.grid.idFormGrid,void 0,route.recomendacion.idTab,1)})},activar:function(e){baseGrid.activar(route.recomendacion,e,formRecomendacion.grid.idFormGrid,route.recomendacion.idTab)},desactivar:function(e){baseGrid.desactivar(route.recomendacion,e,formRecomendacion.grid.idFormGrid,route.recomendacion.idTab,void 0,"Seguro que desea desactivar la recomendacin?")}},editor:{idFormEditor:"#formRecomendacionEditor",call:function(e){var t=e?"Editar Recomendacin":"Registrar Recomendacin",i={id:e,ruta_Id:formRecomendacion.grid.ruta_Id};baseEditor.call(route.recomendacion,void 0,t,dialog.normal,"#Recomendacion_Rrec_Descripcion",i)},load:function(){var e=$(formRecomendacion.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),$(e).find("#Recomendacion_Rrec_OrdenVisualizacion").mask("00"),formRecomendacion.editor.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Recomendacion.Rrec_OrdenVisualizacion":{validators:{notEmpty:{message:"Ingrese el Orden"},greaterThan:{value:0,inclusive:!1,message:"Ingrese un valor mayor a 0."}}},"Recomendacion.Rrec_Descripcion":{validators:{notEmpty:{message:"Ingrese la Recomendacin"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}}}}).on("success.form.fv",function(e){e.preventDefault();var t=$(formRecomendacion.editor.idFormEditor+" #Recomendacion_Rrec_Id").val();""===t||0==t?formRecomendacion.editor.agregar():formRecomendacion.editor.modificar()})},agregar:function(){baseGrid.insertar(route.recomendacion,formRecomendacion.editor.idFormEditor,formRecomendacion.grid.idFormGrid,route.recomendacion.idTab)},modificar:function(){baseGrid.actualizar(route.recomendacion,formRecomendacion.editor.idFormEditor,formRecomendacion.grid.idFormGrid,route.recomendacion.idTab)}}},formRespuesta={grid:{idFormGrid:"#respuestaGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.respuesta,e.textContent)},load:function(e){var t=$(formRespuesta.grid.idFormGrid);baseGrid.load(route.respuesta,formRespuesta.grid.idFormGrid,route.respuesta.idTab,formRespuesta.editor.call,formRespuesta.grid.desactivar,formRespuesta.grid.activar),"#"!==formRespuesta.grid.inputSelected&&helperFunctions.focus(t,formRespuesta.grid.inputSelected),$(t).find("#btn-editorRespuesta").on("click",function(){formRespuesta.editor.call(0,e)}),formRespuesta.grid.validation(t)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formRespuesta.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.respuesta,formRespuesta.grid.idFormGrid,void 0,"#wrapper-respuesta",1)})},activar:function(e,t){var i={id:e,preguntaId:t};baseGrid.activar(route.respuesta,e,formRespuesta.grid.idFormGrid,"#wrapper-respuesta",i)},desactivar:function(e,t){var i={id:e,preguntaId:t};baseGrid.desactivar(route.respuesta,e,formRespuesta.grid.idFormGrid,"#wrapper-respuesta",i,"Seguro que desea desactivar la respuesta?")}},editor:{idFormEditor:"#respuestaEditorForm",call:function(e,t){0===e&&(e=null);var i={id:e,preguntaId:t},a=e?"Editar Respuesta":"Registrar Respuesta";baseEditor.call(route.respuesta,e,a,dialog.normal,"#Resp_Numeracion",i)},load:function(){var e=$(formRespuesta.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),helperFunctions.touchSpin(e,"Respuesta.Resp_Numeracion",1,99),$(e).find("#Respuesta.Resp_Numeracion").mask("00"),formRespuesta.editor.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Respuesta.Resp_Numeracion":{validators:{notEmpty:{message:"Ingrese Nmero de Respuesta"},callback:{callback:function(e,t,i){if(""!=e){if(!helperFunctions.validarNumeros(e))return{valid:!1,message:"Solo se permiten valores numricos"};if(e<1)return{valid:!1,message:"Solo se permiten nmeros mayores a 0"}}return!0}}}},"Respuesta.Resp_Texto":{validators:{notEmpty:{message:"Ingrese Respuesta"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}}}}).on("success.form.fv",function(e){e.preventDefault(),""===$(formRespuesta.editor.idFormEditor+" #Respuesta_Resp_Id").val()?formRespuesta.editor.agregar():formRespuesta.editor.modificar()})},agregar:function(){baseGrid.insertar(route.respuesta,formRespuesta.editor.idFormEditor,formRespuesta.grid.idFormGrid,"#wrapper-respuesta")},modificar:function(){baseGrid.actualizar(route.respuesta,formRespuesta.editor.idFormEditor,formRespuesta.grid.idFormGrid,"#wrapper-respuesta")}}},formRol_Opcion={editor:{idWrapperEditor:"#divRol_Opcion",call:function(e){baseGrid.callInTab(route.rol_Opcion,e.textContent)},load:function(){var t=$(formRol_Opcion.editor.idWrapperEditor);$(t).find("#Rol_Id").change(function(){var e=$(this).val();""===e?$("#divRol_Opcion-grid").empty():formRol_Opcion.editor.cargarOpciones(t,e)})},cargarOpciones:function(e,t){var i={route:route.rol_Opcion,metodo:"cargarOpciones",id:t,updateTargetId:"#divRol_Opcion-grid",messageSuccess:"",type:"GET"};baseGrid.ejecutarAccion(i)},loadOpciones:function(){var e=$(formRol_Opcion.editor.idWrapperEditor);helperFunctions.checked(e),$(e).find(":checkbox").on("ifChanged",function(e){var t=$(e.target).attr("opcionId");e.target.checked?formRol_Opcion.editor.asignar(t):formRol_Opcion.editor.desasignar(t)})},asignar:function(e){var t={rol_Id:$(formRol_Opcion.editor.idWrapperEditor).find("#Rol_Id").val(),opcion_Id:e};baseGrid.ejecutar(route.rol_Opcion,"asignarOpcion",void 0,void 0,void 0,t,void 0,"Se asign correctamente")},desasignar:function(e){var t={rol_Id:$(formRol_Opcion.editor.idWrapperEditor).find("#Rol_Id").val(),opcion_Id:e};baseGrid.ejecutar(route.rol_Opcion,"desasignarOpcion",void 0,void 0,void 0,t,void 0,"Se quit la asignacin correctamente")}}},formRol={grid:{idFormGrid:"#rolGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.rol,e.textContent)},load:function(){var e=$(formRol.grid.idFormGrid);baseGrid.load(route.rol,formRol.grid.idFormGrid,route.rol.idTab,formRol.editor.call,formRol.grid.desactivar,formRol.grid.activar),"#"!==formRol.grid.inputSelected&&helperFunctions.focus(e,formRol.grid.inputSelected),formRol.grid.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formRol.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.rol,formRol.grid.idFormGrid,void 0,route.rol.idTab,1)})},activar:function(e){baseGrid.activar(route.rol,e,formRol.grid.idFormGrid,route.rol.idTab)},desactivar:function(e){baseGrid.desactivar(route.rol,e,formRol.grid.idFormGrid,route.rol.idTab,void 0,"Seguro que desea desactivar el rol?")}},editor:{idFormEditor:"#rolEditorForm",call:function(e){var t=e?"Editar Rol":"Registrar Rol";baseEditor.call(route.rol,e,t,dialog.normal,"#Rol_Rol_Nombre")},load:function(){var e=$(formRol.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),formRol.editor.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Rol.Rol_Nombre":{validators:{notEmpty:{message:"Ingrese el Nombre"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Rol.Rol_Descripcion":{validators:{notEmpty:{message:"Ingrese la Descripcin"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}}}}).on("success.form.fv",function(e){e.preventDefault(),""===$(formRol.editor.idFormEditor+" #Rol_Rol_Id").val()?formRol.editor.agregar():formRol.editor.modificar()})},agregar:function(){baseGrid.insertar(route.rol,formRol.editor.idFormEditor,formRol.grid.idFormGrid,route.rol.idTab,void 0,void 0,void 0,!0)},modificar:function(){baseGrid.actualizar(route.rol,formRol.editor.idFormEditor,formRol.grid.idFormGrid,route.rol.idTab,void 0,void 0,void 0,!0)}}},formRuta={grid:{idFormGrid:"#formRutaGrid",inputSelected:"#",call:function(e){baseGrid.callInTab(route.ruta,e.textContent)},refresh:function(){var e=$(formRuta.grid.idFormGrid+" #Index").val();baseGrid.find(route.ruta,formRuta.grid.idFormGrid,void 0,route.ruta.idTab,e)},load:function(){var e=$(formRuta.grid.idFormGrid);baseGrid.load(route.ruta,formRuta.grid.idFormGrid,route.ruta.idTab,formRuta.editor.call,formRuta.grid.desactivar,formRuta.grid.activar),"#"!==formRuta.grid.inputSelected&&helperFunctions.focus(e,formRuta.grid.inputSelected),formRuta.grid.validation(e),$(e).find(".btn-verMapa").on("click",function(){var e=$(this).attr("rutaId");formRuta.verMapa.call(e)})},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formRuta.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.ruta,formRuta.grid.idFormGrid,void 0,route.ruta.idTab,1)})},activar:function(e){baseGrid.activar(route.ruta,e,formRuta.grid.idFormGrid,route.ruta.idTab)},desactivar:function(e){baseGrid.desactivar(route.ruta,e,formRuta.grid.idFormGrid,route.ruta.idTab,void 0,"Seguro que desea desactivar la ruta?")}},editor:{tabContenedor:"#tabDatosGenerales",fullContenedor:"#divEditor-wrapper",idFormEditor:"#formRutaEditor",call:function(e){var t=e?"Editar Ruta":"Registrar Ruta";baseEditor.call(route.ruta,e,t,dialog.ancho,"#Ruta_Ruta_Nombre",void 0,void 0,void 0,!1,!1,void 0,formRuta.grid.refresh)},refrescar:function(e){var t={route:route.ruta,id:e,type:"GET",updateTargetId:"#tab-editor",metodo:"refrescarEditor",messageSuccess:""};baseGrid.ejecutarAccion(t)},loadCabecera:function(e){$("#btn-datosGeneralesTab").on("click",function(){formRuta.editor.refrescar(e)}),$("#btn-recomendacionesTab").on("click",function(){formRecomendacion.grid.call(e)}),$("#btn-imagenesTab").on("click",function(){formRuta.imagenGrid.call(e)}),$("#btn-coordenadasTab").on("click",function(){formCoordenada.grid.call(e)})},load:function(){formRuta.editor.activarTab(formRuta.editor.tabContenedor);var t=$(formRuta.editor.idFormEditor);helperFunctions.desactivarEnter(t),helperFunctions.checked(t),helperFunctions.asignarMascara(t,"Ruta.Ruta_DiasEstadiaMinima","#Ruta_Ruta_DiasEstadiaMinima","00"),helperFunctions.asignarMascara(t,"Ruta.Ruta_OrdenVisualizacion","#Ruta_Ruta_OrdenVisualizacion","00"),$(t).find(".experiencias-checkbox input:checkbox").on("ifChanged",function(e){helperFunctions.refreshFielValidator(t,"experienciasCheckbox")}),formRuta.editor.validation(t)},loadImagenes:function(e,t,i,a,o,n,r){var s=0,l=0,c=0,d=0;$("#btn-subirDetalle").on("click",function(){s=$(this).attr("anchoMaximo"),l=$(this).attr("anchoMinimo"),c=$(this).attr("altoMaximo"),d=$(this).attr("altoMinimo"),formRuta.imagenEditor.call(e,s,l,c,d,t)}),$("#btn-subirCompartir").on("click",function(){s=$(this).attr("anchoMaximo"),l=$(this).attr("anchoMinimo"),c=$(this).attr("altoMaximo"),d=$(this).attr("altoMinimo"),formRuta.imagenEditor.call(e,s,l,c,d,i)}),$("#btn-subirVisitada").on("click",function(){s=$(this).attr("anchoMaximo"),l=$(this).attr("anchoMinimo"),c=$(this).attr("altoMaximo"),d=$(this).attr("altoMinimo"),formRuta.imagenEditor.call(e,s,l,c,d,a)}),$("#btn-subirCarrusel").on("click",function(){s=$(this).attr("anchoMaximo"),l=$(this).attr("anchoMinimo"),c=$(this).attr("altoMaximo"),d=$(this).attr("altoMinimo"),formRuta.imagenEditor.call(e,s,l,c,d,o)}),$("#btn-subirBusqueda").on("click",function(){s=$(this).attr("anchoMaximo"),l=$(this).attr("anchoMinimo"),c=$(this).attr("altoMaximo"),d=$(this).attr("altoMinimo"),formRuta.imagenEditor.call(e,s,l,c,d,n)}),$("#btn-subirDistancia").on("click",function(){formRuta.imagenEditorDistancia.call(e,r)})},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Ruta.Ruta_Nombre":{validators:{notEmpty:{message:"Ingrese el Nombre"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Ruta.Ruta_QueVisitar":{validators:{notEmpty:{message:"Ingrese Qu Visitar"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Ruta.Ruta_OrigenId":{validators:{notEmpty:{message:"Seleccione el Origen"}}},"Ruta.Ruta_DestinoId":{validators:{notEmpty:{message:"Seleccione el Destino"}}},"Ruta.Ruta_DiasEstadiaMinima":{validators:{notEmpty:{message:"Ingrese la Estada Recomendada"},greaterThan:{value:0,inclusive:!1,message:"Ingrese un valor mayor a 0"}}},"Ruta.Ruta_TemperaturaMaxima":{validators:{notEmpty:{message:"Ingrese la Temp. Mxima"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorEnterosConNegativos(e)}}}},"Ruta.Ruta_TemperaturaMinima":{validators:{notEmpty:{message:"Ingrese la Temp. Mnima"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorEnterosConNegativos(e)}}}},"Ruta.Ruta_ClimaDicMarId":{validators:{notEmpty:{message:"Seleccione Clima DIC-MAR"}}},"Ruta.Ruta_ClimaMarJunId":{validators:{notEmpty:{message:"Seleccione Clima MAR-JUN"}}},"Ruta.Ruta_ClimaJunSetId":{validators:{notEmpty:{message:"Seleccione Clima JUN-SET"}}},"Ruta.Ruta_ClimaSetDicId":{validators:{notEmpty:{message:"Seleccione Clima SET-DIC"}}},"Ruta.Ruta_ComoIrEnAuto":{validators:{callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},"Ruta.Ruta_ComoIrEnBus":{validators:{callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},"Ruta.Ruta_EnLaRuta":{validators:{callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},"Ruta.Ruta_OrdenVisualizacion":{validators:{notEmpty:{message:"Ingrese Orden de Visualizacin"}}},"Ruta.Ruta_TextoAlCompartir":{validators:{notEmpty:{message:"Ingrese el Texto al Compartir"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoDescripcion(e)}}}},experienciasCheckbox:{selector:".experiencias-checkbox",validators:{callback:{callback:function(e,t,i){return 0!==$(".experiencias-checkbox").find("input[type='checkbox']:checked").length||{valid:!1,message:"Debe Seleccionar por lo menos una Experiencia"}}}}}}}).on("success.form.fv",function(e){e.preventDefault(),helperFunctions.concatenarChecks(formRuta.editor.idFormEditor,".experiencias-checkbox","#Ruta_Ruta_ExperienciaIds"),""===$(formRuta.editor.idFormEditor+" #Ruta_Ruta_Id").val()?formRuta.editor.agregar():formRuta.editor.modificar()})},agregar:function(){baseGrid.insertar(route.ruta,formRuta.editor.idFormEditor,void 0,formRuta.editor.fullContenedor,!1)},modificar:function(){baseGrid.actualizar(route.ruta,formRuta.editor.idFormEditor,void 0,void 0,!1)},activarTab:function(e){$("#ul-tab-editor").find("li").each(function(){$(this).removeClass("active")}),$(e).addClass("active")}},imagenGrid:{tabContenedor:"#tabImagenes",call:function(e){var t={route:route.ruta,id:e,type:"GET",updateTargetId:"#tab-editor",metodo:"EditorImagenes",messageSuccess:""};baseGrid.ejecutarAccion(t)},load:function(){formRuta.editor.activarTab(formRuta.imagenGrid.tabContenedor)}},imagenEditor:{idFormEditor:"#formImagenRuta",altoMaximo:0,altoMinimo:0,anchoMaximo:0,anchoMinimo:0,configUrl:"",call:function(e,t,i,a,o,n){formRuta.imagenEditor.anchoMaximo=t,formRuta.imagenEditor.anchoMinimo=i;var r={ruta_id:e,altoMaximo:formRuta.imagenEditor.altoMaximo=a,altoMinimo:formRuta.imagenEditor.altoMinimo=o,anchoMaximo:t,anchoMinimo:t,configUrl:formRuta.imagenEditor.configUrl=n};baseEditor.call(route.ruta,void 0,"Editar Imagen",dialog.ancho,void 0,r,void 0,"editorImagen")},load:function(){var e=$(formRuta.imagenEditor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.cropper(e),formRuta.imagenEditor.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",excluded:[":disabled"],button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{FilesToUpload:{enabled:!0,row:".divFilesToUpload",validators:{file:{maxSize:constantes.imagenSizeMax,message:constantes.imagenSizeMaxMessage},callback:{message:"Ingrese un Archivo",callback:function(e,t,i){return void 0!==document.getElementById("FilesToUpload").files[0]}}}}}}).on("success.form.fv",function(e){e.preventDefault(),formRuta.imagenEditor.modificar()})},modificar:function(){baseGrid.actualizarConArchivo(route.ruta,formRuta.imagenEditor.idFormEditor,void 0,"#tab-editor",void 0,"ActualizarImagen")}},imagenEditorDistancia:{idFormEditor:"#formImagenDistancia",ancho:700,altoMinimo:100,altoMaximo:500,call:function(e,t){var i={ruta_id:e,UrlImagen:t};baseEditor.call(route.ruta,void 0,"Editar Imagen",dialog.ancho,void 0,i,void 0,"editorImagenDistancia")},load:function(){var e=$(formRuta.imagenEditorDistancia.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),helperFunctions.calcularImagenesDimensiones(e),helperFunctions.pluginImagenesXControl(e,"#FilesToUpload"),formRuta.imagenEditorDistancia.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{FilesToUpload:{enabled:!0,validators:{file:{extension:"jpg",type:"image/jpeg",message:"Formato Invlido",maxSize:constantes.imgMaxSizeBeneficios},callback:{message:"Campo Obligatorio",callback:function(e,t,i){var a=i.closest("tr").find(".name-file a").html();if((""==a||null==a)&&""==e)return{valid:!1,message:"Campo Obligatorio"};var o=$(i)[0],n=$(o).attr("ancho"),r=$(o).attr("alto");return!(n!==formRuta.imagenEditorDistancia.ancho.toString()||r>formRuta.imagenEditorDistancia.altoMaximo.toString()||r<formRuta.imagenEditorDistancia.altoMinimo.toString())||{valid:!1,message:"La imagen no cumple las dimensiones, la imagen actual tiene "+n+"x"+r}}}}}}}).on("success.form.fv",function(e){e.preventDefault(),formRuta.imagenEditorDistancia.modificar()})},modificar:function(){baseGrid.actualizarConArchivo(route.ruta,formRuta.imagenEditorDistancia.idFormEditor,void 0,"#tab-editor",void 0,"ActualizarImagenDistancia")}},verMapa:{idFormEditor:"#formVerMapa",call:function(e){var t=helperFunctions.anchoDisponible();baseEditor.call(route.ruta,e,"Mapa",dialog.ancho,void 0,void 0,void 0,"verMapa",!1,!1,t)},load:function(e,t){var i,a=helperFunctions.altoDisponible(184).toString()+"px";document.getElementById("divRutaMapa").style.height=a;var o=t+"rutas/ruta/ObtenerKml?id="+e+"&time="+(new Date).getTime().toString();i=new google.maps.Map(document.getElementById("divRutaMapa"),{center:new google.maps.LatLng(-10.0136989,-75.5822467),zoom:6,mapTypeId:"terrain"});new google.maps.KmlLayer(o,{suppressInfoWindows:!0,preserveViewport:!1,map:i})}}},formTipo={grid:{idFormGrid:"#tipoGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.tipo,e.textContent)},load:function(){var e=$(formTipo.grid.idFormGrid);$(e).find("#Filtro_Tipo_GrupoId").change(function(){var e=$(this).val();formTipo.grid.actualizarTiposFiltro(e)}),baseGrid.load(route.tipo,formTipo.grid.idFormGrid,route.tipo.idTab,formTipo.editor.call,formTipo.grid.desactivar,formTipo.grid.activar),"#"!==formTipo.grid.inputSelected&&helperFunctions.focus(e,formTipo.grid.inputSelected),formTipo.grid.validation(e)},actualizarTiposFiltro:function(e){var t={grup_Id:e},i={route:route.tipo,metodo:route.tipo.actualizarTiposFiltro,data:t,type:"GET",updateTargetId:"#wrapper-tipos",messageSuccess:""};baseGrid.ejecutarAccion(i)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formTipo.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.tipo,formTipo.grid.idFormGrid,void 0,route.tipo.idTab,1)})},activar:function(e){baseGrid.activar(route.tipo,e,formTipo.grid.idFormGrid,route.tipo.idTab)},desactivar:function(e){baseGrid.desactivar(route.tipo,e,formTipo.grid.idFormGrid,route.tipo.idTab,void 0,"Seguro que desea desactivar el tipo?")}},editor:{idFormEditor:"#tipoEditorForm",call:function(e){var t=e?"Editar Tipo":"Registrar Tipo";baseEditor.call(route.tipo,e,t,dialog.normal,"#Tipo_Nombre")},load:function(){var e=$(formTipo.editor.idFormEditor);helperFunctions.desactivarEnter(e),helperFunctions.checked(e),helperFunctions.colorPicker(e);var t=$("#Tipo_Tipo_GrupoId").val();formTipo.editor.mostrarDestino(t),$(e).find("#Tipo_Tipo_GrupoId").change(function(){formTipo.editor.mostrarDestino($(this).val())}),formTipo.editor.validation(e)},mostrarDestino:function(e){var t=$(formTipo.editor.idFormEditor);e==constantes.grupoDestino?(helperFunctions.mostrarActivar(t,"#divTipoColorApp"),helperFunctions.ocultarInactivar(t,"#divTipoDescripcion")):(e==constantes.grupoOrigen?helperFunctions.mostrarActivar(t,"#divTipoDescripcion"):helperFunctions.ocultarInactivar(t,"#divTipoDescripcion"),helperFunctions.ocultarInactivar(t,"#divTipoColorApp"))},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Tipo.Tipo_GrupoId":{validators:{notEmpty:{message:"Seleccione Grupo"}}},"Tipo.Tipo_Nombre":{validators:{notEmpty:{message:"Ingrese un Nombre"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Tipo.Tipo_Abreviatura":{validators:{notEmpty:{message:"Ingrese la Abreviatura"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Tipo.Tipo_Descripcion":{validators:{notEmpty:{message:"Ingrese la Etiqueta para App"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Tipo.Tipo_ColorEnApp":{validators:{notEmpty:{message:"Ingrese Color para App"},callback:{callback:function(e,t,i){if(""!=e&&!helperFunctions.validarColorHex(e))return{valid:!1,message:"Ingrese un Color correcto ejemplo (#008F39)"};return!0}}}}}}).on("success.form.fv",function(e){e.preventDefault(),""===$(formTipo.editor.idFormEditor+" #Tipo_Tipo_Id").val()?formTipo.editor.agregar():formTipo.editor.modificar()})},agregar:function(){baseGrid.insertar(route.tipo,formTipo.editor.idFormEditor,formTipo.grid.idFormGrid,route.tipo.idTab)},modificar:function(){baseGrid.actualizar(route.tipo,formTipo.editor.idFormEditor,formTipo.grid.idFormGrid,route.tipo.idTab)}}},formUsuario={grid:{idFormGrid:"#usuarioGridForm",inputSelected:"#",call:function(e){baseGrid.callInTab(route.usuario,e.textContent)},load:function(){var e=$(formUsuario.grid.idFormGrid);baseGrid.load(route.usuario,formUsuario.grid.idFormGrid,route.usuario.idTab,formUsuario.editor.call,formUsuario.grid.desactivar,formUsuario.grid.activar),"#"!==formUsuario.grid.inputSelected&&helperFunctions.focus(e,formUsuario.grid.inputSelected),formUsuario.grid.validation(e),$(e).find("#btn-enviar").on("click",function(){var e=$(this).attr("usuaEmail");formUsuario.grid.recuperarContrasenia(e)}),$(e).find("#btn-desbloquear").on("click",function(){var e=$(this).attr("usuaId");formUsuario.grid.desbloquear(e)})},validation:function(e){$(e).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"",invalid:"",validating:""},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),formUsuario.grid.inputSelected="#"+document.activeElement.id,baseGrid.find(route.usuario,formUsuario.grid.idFormGrid,void 0,route.usuario.idTab,1)})},activar:function(e){baseGrid.activar(route.usuario,e,formUsuario.grid.idFormGrid,route.usuario.idTab)},desactivar:function(e){baseGrid.desactivar(route.usuario,e,formUsuario.grid.idFormGrid,route.usuario.idTab,void 0,"Seguro que desea desactivar al usuario?")},desbloquear:function(e){baseGrid.desactivar(route.usuario,e,formUsuario.grid.idFormGrid,route.usuario.idTab,void 0,"Seguro que desea desbloquear al usuario?",void 0,"desbloquear")},recuperarContrasenia:function(e){var t={route:route.usuario,metodo:route.usuario.recuperarContrasenia,data:{usuario_Email:e},messageSuccess:"Correo enviado satisfactoriamente"};baseGrid.ejecutarAccion(t)}},editor:{idFormEditor:"#usuarioEditorForm",call:function(e){var t=e?"Editar Usuario":"Agregar Usuario";baseEditor.call(route.usuario,e,t,dialog.normal,"#Usuario_Usua_TipoAutenticacionId")},load:function(){var t=$(formUsuario.editor.idFormEditor);helperFunctions.desactivarEnter(t),helperFunctions.checked(t),helperFunctions.ocultar(t,"#divBusqueda");var e=$("#Usuario_Usua_TipoAutenticacionId").val();formUsuario.editor.mostrarBusquedaEmailDominio(e),$(t).find("#Usuario_Usua_TipoAutenticacionId").change(function(){formUsuario.editor.mostrarBusquedaEmailDominio($(this).val()),formUsuario.editor.validarBusquedaEmailDominio($(this).val())}),$(t).find(".rol-checkbox input:checkbox").on("ifChanged",function(e){helperFunctions.refreshFielValidator(t,"rolCheckBox")}),formUsuario.editor.validation(t),$(t).find("#btn-activeDirectory").on("click",function(){formUsuario.editor.obtenerPorActiveDirectory()})},mostrarBusquedaEmailDominio:function(e){var t=$(formUsuario.editor.idFormEditor);e==constantes.tipoAtenticacionDominio?(helperFunctions.mostrar(t,"#divBusqueda"),helperFunctions.inactivar(t,"#divUsuarioNombre"),helperFunctions.inactivar(t,"#divUsuarioEmail")):(helperFunctions.ocultar(t,"#divBusqueda"),helperFunctions.activar(t,"#divUsuarioNombre"),helperFunctions.activar(t,"#divUsuarioEmail"))},validarBusquedaEmailDominio:function(e){var t=$(formUsuario.editor.idFormEditor);$(t).find("#Usuario_Usua_Nombres").val(""),$(t).find("#Usuario_Usua_Email").val(""),e==constantes.tipoAtenticacionDominio?($(t).find("#EmailBusqueda").focus(),$(t).find("#EmailBusqueda").select()):($(t).find("#Usuario_Usua_Email").focus(),$(t).find("#Usuario_Usua_Email").select()),helperFunctions.mostrarActivarRefescarValidacion(t,"#divUsuarioNombre"),helperFunctions.mostrarActivarRefescarValidacion(t,"#divUsuarioEmail")},obtenerPorActiveDirectory:function(){var e={usuario_Email:$("#EmailBusqueda").val()},t={route:route.usuario,metodo:route.usuario.obtenerPorActiveDirectory,data:e,type:"GET",messageSuccess:"",onSuccessComplete:function(e){var t=$(formUsuario.editor.idFormEditor);$(t).find("#Usuario_Usua_Nombres").val(e.usua_Nombres),$(t).find("#Usuario_Usua_Email").val(e.usua_Email),helperFunctions.mostrarActivarRefescarValidacion(t,"#divUsuarioNombre"),helperFunctions.mostrarActivarRefescarValidacion(t,"#divUsuarioEmail"),helperFunctions.mostrarActivarRefescarValidacion(t,"#divUsuarioBusquedaEmail"),helperFunctions.refreshFielValidator(t,"EmailBusqueda")}};baseGrid.ejecutarAccion(t)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"Usuario.Usua_TipoAutenticacionId":{validators:{notEmpty:{message:"Seleccione el Tipo Autenticacin"}}},"Usuario.Usua_Nombres":{validators:{notEmpty:{message:"Ingrese el Nombre"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorTextoTipoNombre(e)}}}},"Usuario.Usua_Email":{validators:{notEmpty:{message:"Ingrese el Email"},callback:{callback:function(e,t,i){return helperFunctions.fielValidatorEmail(e)}}}},EmailBusqueda:{validators:{callback:{callback:function(e,t,i){var a=$("#Usuario_Usua_Email").val();return""===e&&""===a?{valid:!1,message:"Ingrese el Usuario de Dominio y realice la bsqueda para obtener el Email y Nombres correspondientes"}:""!==a||{valid:!1,message:"Realice la bsqueda para obtener el Email y Nombres correspondientes"}}}}},rolCheckBox:{selector:".rol-checkbox",validators:{callback:{callback:function(e,t,i){return 0!==$(".rol-checkbox").find("input[type='checkbox']:checked").length||{valid:!1,message:"Debe seleccionar por lo menos un Rol"}}}}}}}).on("success.form.fv",function(e){e.preventDefault(),""===$(formUsuario.editor.idFormEditor+" #Usuario_Usua_Id").val()?formUsuario.editor.agregar():formUsuario.editor.modificar()})},agregar:function(){baseGrid.insertar(route.usuario,formUsuario.editor.idFormEditor,formUsuario.grid.idFormGrid,route.usuario.idTab)},modificar:function(){baseGrid.actualizar(route.usuario,formUsuario.editor.idFormEditor,formUsuario.grid.idFormGrid,route.usuario.idTab)}},"editorActualizarContrasea":{idFormEditor:"#actualizarCpntraseniaEditorForm",call:function(e){var t=e.textContent;baseEditor.call(route.usuario,void 0,t,dialog.normal,"#contraseniaAnterior",void 0,void 0,route.usuario.editorActualizarContrasenia)},load:function(){var e=$(formUsuario.editorActualizarContrasea.idFormEditor);helperFunctions.desactivarEnter(e),formUsuario.editorActualizarContrasea.validation(e)},validation:function(e){$(e).formValidation({locale:"es_ES",button:{},framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{contraseniaAnterior:{validators:{notEmpty:{message:"Ingrese su Contrasea Actual"}}},contraseniaNueva:{validators:{notEmpty:{message:"Ingrese su Contrasea Nueva"},stringLength:{min:6,message:"Ingrese una Contrasea Nueva mayor o igual a 6 caracteres."}}},confirmarContraseniaNueva:{validators:{notEmpty:{message:"Ingrese nuevamente su Contrasea Nueva"},callback:{callback:function(e,t,i){if(""!=e&&e!=$("#contraseniaNueva").val())return{valid:!1,message:"El campo Confirmar Contrasea no coincide. Vuelva a intentar."};return!0}}}}}}).on("success.form.fv",function(e){e.preventDefault();$(formUsuario.editorActualizarContrasea.idFormEditor+" #usuarioId").val();formUsuario.editorActualizarContrasea.actualizar()})},actualizar:function(){baseGrid.actualizar(route.usuario,formUsuario.editorActualizarContrasea.idFormEditor,void 0,void 0,void 0,route.usuario.actualizarContrasenia,"Su contrasea ha sido actualizada correctamente.")}}};"use strict";var functionNotificacion={signalR:{connection:void 0,start:function(e,t){"True"===e&&(functionNotificacion.signalR.connection=(new signalR.HubConnectionBuilder).withUrl("/notificacion").build()),"True"===t&&functionNotificacion.signalR.connection.on("refreshAtractivosValorados",function(e,t,i){functionNotificacion.indicadoresAtractivosValorados.refresh(e,t,i)}),"True"===e&&functionNotificacion.signalR.connection.start().then(function(){functionNotificacion.signalR.notificarmeAtractivosValorados()}).catch(function(e){return console.error(e.toString())})},notificarmeAtractivosValorados:function(){functionNotificacion.signalR.connection.invoke("NotificarmeAtractivosValorados").catch(function(e){console.error(e.toString())})}},indicadoresAtractivosValorados:{pendientesEvaluarAnterior:0,refresh:function(e,t,i){var a=!1;parseInt(e)>functionNotificacion.indicadoresAtractivosValorados.pendientesEvaluarAnterior&&(a=!0),functionNotificacion.indicadoresAtractivosValorados.pendientesEvaluarAnterior=parseInt(e),$("#alertas-pendientesEvaluar").html(e),$("#alertas-comentarios").html(t),$("#alertas-fotos").html(i),functionNotificacion.alertarVisualAtractivosValorados.stop(),0===e?$("#wrapper-alertas-pendientesEvaluar").hide():(0===t?$("#wrapper-alertas-comentarios").hide():$("#wrapper-alertas-comentarios").show(),0===i?$("#wrapper-alertas-fotos").hide():$("#wrapper-alertas-fotos").show(),$("#wrapper-alertas-pendientesEvaluar").show(),functionNotificacion.alertarVisualAtractivosValorados.start(a))}},alertarVisualAtractivosValorados:{tick:0,procesoID:0,elapsed:function(){var e=$("#alertas-pendientesEvaluar");1===functionNotificacion.alertarVisualAtractivosValorados.tick?(functionNotificacion.alertarVisualAtractivosValorados.tick=0,$(e).removeClass("label-warning"),$(e).addClass("label-danger")):(functionNotificacion.alertarVisualAtractivosValorados.tick=1,$(e).removeClass("label-danger"),$(e).addClass("label-warning"))},start:function(e){(functionNotificacion.alertarVisualAtractivosValorados.procesoID=window.setInterval(functionNotificacion.alertarVisualAtractivosValorados.elapsed,500),!0===e)&&document.getElementById("audio").play()},stop:function(){clearInterval(functionNotificacion.alertarVisualAtractivosValorados.procesoID)}}},repDesplazamientoARuta={idFormEditor:"#formRepDesplazamientoARuta",editor:{call:function(e){baseGrid.callInTab(route.repDesplazamientoARuta,e.textContent)},load:function(e){var t=$(repDesplazamientoARuta.idFormEditor);helperFunctions.desactivarEnter(t),reporteBase.iniciarBase(300,t,route.repDesplazamientoARuta),repDesplazamientoARuta.editor.validation(t),$(t).find("#divDesplazamientoRuta").on("click",function(){repDesplazamientoARuta.editor.setTipoParametro(e)})},setTipoParametro:function(e){$(repDesplazamientoARuta.idFormEditor).find("#TipoRangoFecha").val(e)},validation:function(t){$(t).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),reporteBase.obtenerReporte(t,route.repDesplazamientoARuta)})}}},repDestinosBuscados={idFormEditor:"#formRepDestinosBuscados",editor:{call:function(e){baseGrid.callInTab(route.repDestinosBuscados,e.textContent)},load:function(e,t,i,a,o,n){var r=$(repDestinosBuscados.idFormEditor);helperFunctions.desactivarEnter(r),reporteBase.iniciarBase(300,r,route.repDestinosBuscados),repDestinosBuscados.editor.validation(r),$(r).find("#divDestinosBuscadosPorDia").on("click",function(){repDestinosBuscados.editor.setTipoParametro(e)}),$(r).find("#divDestinosBuscadosPorRango").on("click",function(){repDestinosBuscados.editor.setTipoParametro(t)}),$(r).find("#divDestinosBuscadosPorMes").on("click",function(){repDestinosBuscados.editor.setTipoParametro(i)}),$(r).find("#divDestinosBuscadosPorTrimestre").on("click",function(){repDestinosBuscados.editor.setTipoParametro(a)}),$(r).find("#divDestinosBuscadosPorSemestre").on("click",function(){repDestinosBuscados.editor.setTipoParametro(o)}),$(r).find("#divDestinosBuscadosPorAnios").on("click",function(){repDestinosBuscados.editor.setTipoParametro(n)})},setTipoParametro:function(e){$(repDestinosBuscados.idFormEditor).find("#TipoRangoFecha").val(e)},validation:function(i){$(i).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{Fecha:{validators:{notEmpty:{message:"Ingrese la Fecha"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY"}}},RangoFechaInicio:{validators:{notEmpty:{message:"Ingrese la Fecha Inicial"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY"}}},RangoFechaFinal:{validators:{notEmpty:{message:"Ingrese la Fecha Final"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY"},callback:{callback:function(e,t,i){var a=$(repDestinosBuscados.idFormEditor+" #TipoRangoFecha").val(),o=$(repDestinosBuscados.idFormEditor+" #RangoFechaInicio").val(),n=e;return 1!=a||helperFunctions.validarFechasInicioFin(i,e,!0,o,n)}}}}}}).on("success.form.fv",function(e){e.preventDefault();var t=$(repDestinosBuscados.idFormEditor+" #TipoRangoFecha").val();0!=t&&$(repDestinosBuscados.idFormEditor+" #Fecha").val("01/08/2019"),1!=t&&($(repDestinosBuscados.idFormEditor+" #RangoFechaInicio").val("01/08/2019"),$(repDestinosBuscados.idFormEditor+" #RangoFechaFinal").val("01/08/2019")),reporteBase.obtenerReporte(i,route.repDestinosBuscados)})}}},repEstadoUso={idFormEditor:"#formRepEstadoUso",editor:{call:function(e){baseGrid.callInTab(route.repEstadoUso,e.textContent)},load:function(){var e=$(repEstadoUso.idFormEditor);helperFunctions.desactivarEnter(e),reporteBase.iniciarBase(300,e,route.repEstadoUso),repEstadoUso.editor.validation(e)},validation:function(t){$(t).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),reporteBase.obtenerReporte(t,route.repEstadoUso)})}}},reporteBase={idWrapperReporte:"#visor-reporte-container",iniciarBase:function(e,t,i){var a=$(i.idTab);$(a).find("#report-cab").width(e),$(a).find("#report-cab").draggable({cursor:"move"}),reporteBase.redimencionar(a),$(window).resize(function(){reporteBase.redimencionar(a)}),$(t).find("#btn-reporte").on("click",function(e){e.stopPropagation(),$(t).submit()}),$(t).find("#btn-ocultar").on("click",function(e){reporteBase.animarParametros(a),e.stopPropagation()}),$(a).find("#btn-parametro").on("click",function(e){reporteBase.animarParametros(a),e.stopPropagation()})},redimencionar:function(e){$(e).find(".tab-content").css("min-height",$(window).height()-177)},animarParametros:function(e){var t=$(e).find("#report-cab"),i=$(e).find("#reportContainer");i.length&&i.attr("src",""),t.is(":hidden")?t.show("drop"):t.hide("slide")},obtenerReporte:function(e,t){var i="";i=void 0===t.area?t.controller+"/ver"+t.method:t.area+"/"+t.controller+"/ver"+t.method,i=helperAjax.obtenerUrlAbsoluta(i);var a=$(e).serialize();return i=i.concat("?",a),"NoFormat"===$(e).find("#TipoReporte").val()?reporteBase.verReporteBandeja(i,t):reporteBase.downloadReport(i),!1},verReporteBandeja:function(e,t){var i,a=$(t.idTab+" #report-wrapper");i=helperAjax.esIE()?"<iframe width='100%' height='100%' src='"+e+"' />":"<object data='"+e+"' height='100%' width='100%' type='application/pdf' />",$(a).empty(),$(a).html(i)},downloadReport:function(e){var t=$("#reportContainerXX_L");if(t.length)t.attr("src",e);else{var i="<iframe id=reportContainerXX_LL' src='"+e+"'></iframe>";$("body").append(i),$("iframe").hide()}}},repRankingSeccionVisitada={idFormEditor:"#formRepRankingSeccionVisitada",editor:{call:function(e){baseGrid.callInTab(route.repRankingSeccionVisitada,e.textContent)},load:function(e,t,i,a,o,n){var r=$(repRankingSeccionVisitada.idFormEditor);helperFunctions.desactivarEnter(r),reporteBase.iniciarBase(300,r,route.repRankingSeccionVisitada),repRankingSeccionVisitada.editor.validation(r),$(r).find("#divRankingSeccionVisitadaPorDia").on("click",function(){repRankingSeccionVisitada.editor.setTipoParametro(e)}),$(r).find("#divRankingSeccionVisitada_PorRango").on("click",function(){repRankingSeccionVisitada.editor.setTipoParametro(t)}),$(r).find("#divRankingSeccionVisitadaPorMes").on("click",function(){repRankingSeccionVisitada.editor.setTipoParametro(i)}),$(r).find("#divRankingSeccionVisitadaPorTrimestre").on("click",function(){repRankingSeccionVisitada.editor.setTipoParametro(a)}),$(r).find("#divRankingSeccionVisitadaPorSemestre").on("click",function(){repRankingSeccionVisitada.editor.setTipoParametro(o)}),$(r).find("#divRankingSeccionVisitadaPorAnios").on("click",function(){repRankingSeccionVisitada.editor.setTipoParametro(n)})},setTipoParametro:function(e){$(repRankingSeccionVisitada.idFormEditor).find("#TipoRangoFecha").val(e)},validation:function(i){$(i).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{Fecha:{validators:{notEmpty:{message:"Ingrese la Fecha"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY"}}},RangoFechaInicio:{validators:{notEmpty:{message:"Ingrese la Fecha Inicial"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY"}}},RangoFechaFinal:{validators:{notEmpty:{message:"Ingrese la Fecha Final"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY"},callback:{callback:function(e,t,i){var a=$(repRankingSeccionVisitada.idFormEditor+" #TipoRangoFecha").val(),o=$(repRankingSeccionVisitada.idFormEditor+" #RangoFechaInicio").val(),n=e;return 1!=a||helperFunctions.validarFechasInicioFin(i,e,!0,o,n)}}}}}}).on("success.form.fv",function(e){e.preventDefault();var t=$(repRankingSeccionVisitada.idFormEditor+" #TipoRangoFecha").val();0!=t&&$(repRankingSeccionVisitada.idFormEditor+" #Fecha").val("01/08/2019"),1!=t&&($(repRankingSeccionVisitada.idFormEditor+" #RangoFechaInicio").val("01/08/2019"),$(repRankingSeccionVisitada.idFormEditor+" #RangoFechaFinal").val("01/08/2019")),reporteBase.obtenerReporte(i,route.repRankingSeccionVisitada)})}}},repRegistroPorEdad={idFormEditor:"#formRepRegistroPorEdad",editor:{call:function(e){baseGrid.callInTab(route.repRegistroPorEdad,e.textContent)},load:function(){var e=$(repRegistroPorEdad.idFormEditor);helperFunctions.desactivarEnter(e),reporteBase.iniciarBase(300,e,route.repRegistroPorEdad),repRegistroPorEdad.editor.validation(e)},validation:function(t){$(t).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),reporteBase.obtenerReporte(t,route.repRegistroPorEdad)})}}},repRegistroPorGenero={idFormEditor:"#formRepRegistroPorGenero",editor:{call:function(e){baseGrid.callInTab(route.repRegistroPorGenero,e.textContent)},load:function(){var e=$(repRegistroPorGenero.idFormEditor);helperFunctions.desactivarEnter(e),reporteBase.iniciarBase(300,e,route.repRegistroPorGenero),repRegistroPorGenero.editor.validation(e)},validation:function(t){$(t).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),reporteBase.obtenerReporte(t,route.repRegistroPorGenero)})}}},repRegistroPorUbigeo={idFormEditor:"#formRepRegistroPorUbigeo",editor:{call:function(e){baseGrid.callInTab(route.repRegistroPorUbigeo,e.textContent)},load:function(e,t,i,a,o,n){var r=$(repRegistroPorUbigeo.idFormEditor);helperFunctions.desactivarEnter(r),reporteBase.iniciarBase(300,r,route.repRegistroPorUbigeo),repRegistroPorUbigeo.editor.validation(r),$(r).find("#divRegistroPorUbigeoPorDia").on("click",function(){repRegistroPorUbigeo.editor.setTipoParametro(e)}),$(r).find("#divRegistroPorUbigeo_PorRango").on("click",function(){repRegistroPorUbigeo.editor.setTipoParametro(t)}),$(r).find("#divRegistroPorUbigeoPorMes").on("click",function(){repRegistroPorUbigeo.editor.setTipoParametro(i)}),$(r).find("#divRegistroPorUbigeoPorTrimestre").on("click",function(){repRegistroPorUbigeo.editor.setTipoParametro(a)}),$(r).find("#divRegistroPorUbigeoPorSemestre").on("click",function(){repRegistroPorUbigeo.editor.setTipoParametro(o)}),$(r).find("#divRegistroPorUbigeoPorAnios").on("click",function(){repRegistroPorUbigeo.editor.setTipoParametro(n)})},setTipoParametro:function(e){$(repRegistroPorUbigeo.idFormEditor).find("#TipoRangoFecha").val(e)},validation:function(i){$(i).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{Fecha:{validators:{notEmpty:{message:"Ingrese la Fecha"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY"}}},RangoFechaInicio:{validators:{notEmpty:{message:"Ingrese la Fecha Inicial"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY"}}},RangoFechaFinal:{validators:{notEmpty:{message:"Ingrese la Fecha Final"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY"},callback:{callback:function(e,t,i){var a=$(repRegistroPorUbigeo.idFormEditor+" #TipoRangoFecha").val(),o=$(repRegistroPorUbigeo.idFormEditor+" #RangoFechaInicio").val(),n=e;return 1!=a||helperFunctions.validarFechasInicioFin(i,e,!0,o,n)}}}}}}).on("success.form.fv",function(e){e.preventDefault();var t=$(repRegistroPorUbigeo.idFormEditor+" #TipoRangoFecha").val();0!=t&&$(repRegistroPorUbigeo.idFormEditor+" #Fecha").val("01/08/2019"),1!=t&&($(repRegistroPorUbigeo.idFormEditor+" #RangoFechaInicio").val("01/08/2019"),$(repRegistroPorUbigeo.idFormEditor+" #RangoFechaFinal").val("01/08/2019")),reporteBase.obtenerReporte(i,route.repRegistroPorUbigeo)})}}},repRegistroTurista={idFormEditor:"#formRepRegistroTurista",editor:{call:function(e){baseGrid.callInTab(route.repRegistroTurista,e.textContent)},load:function(e,t,i,a,o,n){var r=$(repRegistroTurista.idFormEditor);helperFunctions.desactivarEnter(r),reporteBase.iniciarBase(300,r,route.repRegistroTurista),repRegistroTurista.editor.validation(r),$(r).find("#divRegistroTuristaPorDia").on("click",function(){repRankingSeccionVisitada.editor.setTipoParametro(e)}),$(r).find("#divRegistroTurista_PorRango").on("click",function(){repRegistroTurista.editor.setTipoParametro(t)}),$(r).find("#divRegistroTuristaPorMes").on("click",function(){repRegistroTurista.editor.setTipoParametro(i)}),$(r).find("#divRegistroTuristaPorTrimestre").on("click",function(){repRegistroTurista.editor.setTipoParametro(a)}),$(r).find("#divRegistroTuristaPorSemestre").on("click",function(){repRegistroTurista.editor.setTipoParametro(o)}),$(r).find("#divRegistroTuristaPorAnios").on("click",function(){repRegistroTurista.editor.setTipoParametro(n)})},setTipoParametro:function(e){$(repRegistroTurista.idFormEditor).find("#TipoRangoFecha").val(e)},validation:function(i){$(i).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{Fecha:{validators:{notEmpty:{message:"Ingrese la Fecha"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY"}}},RangoFechaInicio:{validators:{notEmpty:{message:"Ingrese la Fecha Inicial"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY"}}},RangoFechaFinal:{validators:{notEmpty:{message:"Ingrese la Fecha Final"},date:{message:"Fecha Invlida",format:"DD/MM/YYYY"},callback:{callback:function(e,t,i){var a=$(repRegistroTurista.idFormEditor+" #TipoRangoFecha").val(),o=$(repRegistroTurista.idFormEditor+" #RangoFechaInicio").val(),n=e;return 1!=a||helperFunctions.validarFechasInicioFin(i,e,!0,o,n)}}}}}}).on("success.form.fv",function(e){e.preventDefault();var t=$(repRegistroTurista.idFormEditor+" #TipoRangoFecha").val();0!=t&&$(repRegistroTurista.idFormEditor+" #Fecha").val("01/08/2019"),1!=t&&($(repRegistroTurista.idFormEditor+" #RangoFechaInicio").val("01/08/2019"),$(repRegistroTurista.idFormEditor+" #RangoFechaFinal").val("01/08/2019")),reporteBase.obtenerReporte(i,route.repRegistroTurista)})}}},repTiempoPermanenciaEnApp={idFormEditor:"#formRepTiempoPermanenciaEnApp",editor:{call:function(e){baseGrid.callInTab(route.repTiempoPermanenciaEnApp,e.textContent)},load:function(){var e=$(repTiempoPermanenciaEnApp.idFormEditor);helperFunctions.desactivarEnter(e),reporteBase.iniciarBase(300,e,route.repTiempoPermanenciaEnApp),repTiempoPermanenciaEnApp.editor.validation(e)},validation:function(t){$(t).formValidation({locale:"es_ES",framework:"bootstrap",icon:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{}}).on("success.form.fv",function(e){e.preventDefault(),reporteBase.obtenerReporte(t,route.repTiempoPermanenciaEnApp)})}}};